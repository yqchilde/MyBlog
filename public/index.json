[{"categories":["MacOS"],"content":"æœ¬æ–‡è®°è½½å¦‚æœå°†ä¸€ä¸ªAPFSå®¹å™¨åˆ é™¤ï¼Œå¹¶å°†ä¸å…¶å‰©ä½™ç©ºé—´åˆå¹¶ã€‚","date":"2021-10-09","objectID":"/macos-remove-freespace/","tags":["MacOS"],"title":"MacOS-å¦‚ä½•åˆ é™¤Free Spaceï¼Œä½¿å¾—APFSå®¹å™¨å°†Free Spaceå ç”¨","uri":"/macos-remove-freespace/"},{"categories":["MacOS"],"content":" {{indent}}äº‹æ•…çš„å¼€å§‹æ˜¯ç”±äºæˆ‘è¦ä»MacOS11.6å‡çº§åˆ°MacOS12ï¼ˆè¿½æ–°çš„å¼ºè¿«ç—‡ï¼‰ï¼Œä»è€Œå¯¼è‡´å†æ¢äº†æ”¯æŒMacOS12çš„EFIä¹‹åæ— æ³•å¼€æœºï¼ˆå¡ä¸‰åˆ†ä¹‹ä¸€è¿›åº¦æ¡åé»‘å±ï¼‰ï¼Œéšåæƒ³ç€å»é‡è£…11.6ç³»ç»Ÿï¼ˆåœ¨12ç³»ç»Ÿä¸Šä¿®äº†åŠå¤©EFIè¿˜æ˜¯æ— æœï¼Œè§‰å¾—æµªè´¹æ—¶é—´ä¸æƒ³ç»§ç»­æŠ˜è…¾ï¼‰ï¼Œåœ¨é‡è£…æ—¶ä¸ºäº†ä¿å…¨æ–‡ä»¶é€‰æ‹©ç£ç›˜åˆ†ä¸€åŠç©ºé—´å»å®‰è£…11.6ï¼Œè¿™æ ·å¦ä¸€åŠè¿˜æ˜¯åŸæ¥é‚£ä¸ªæ— æ³•å¼€æœºçš„ç³»ç»Ÿï¼Œç­‰11.6å¼€æœºåå†å°†åŸæ¥çš„æ–‡ä»¶å¤åˆ¶è¿‡æ¥ã€‚ã€‚ã€‚ç­‰åˆ°åŸæ¥çš„æ–‡ä»¶ç§»åŠ¨å®Œæ¯•ä¹‹åï¼Œå‡†å¤‡å»åˆ é™¤åŸæ¥çš„ç©ºé—´ï¼Œä¸æ–°çš„ç³»ç»Ÿç›˜åˆå¹¶ã€‚ä½†æ˜¯åœ¨åˆ é™¤æ—¶ï¼Œå‡ºç°äº†æ— æ³•åˆ é™¤çš„é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š pic1\" pic1 pic2\" pic2 ","date":"2021-10-09","objectID":"/macos-remove-freespace/:0:0","tags":["MacOS"],"title":"MacOS-å¦‚ä½•åˆ é™¤Free Spaceï¼Œä½¿å¾—APFSå®¹å™¨å°†Free Spaceå ç”¨","uri":"/macos-remove-freespace/"},{"categories":["MacOS"],"content":"æ“ä½œæ­¥éª¤ åœ¨ç»ˆç«¯è¾“å…¥ diskutil list bobo@Mac:~ Â» diskutil list /dev/disk0 (internal, physical): #: TYPE NAME SIZE IDENTIFIER 0: GUID_partition_scheme *512.1 GB disk0 1: EFI EFI 209.7 MB disk0s1 2: Apple_APFS Container disk2 271.6 GB disk0s2 3: Apple_APFS Container disk1 240.3 GB disk0s3 /dev/disk1 (synthesized): #: TYPE NAME SIZE IDENTIFIER 0: APFS Container Scheme - +240.3 GB disk1 Physical Store disk0s3 1: APFS Volume MacOS - æ•°æ® 94.2 GB disk1s1 2: APFS Volume Preboot 284.3 MB disk1s2 3: APFS Volume Recovery 622.8 MB disk1s3 4: APFS Volume VM 1.1 GB disk1s4 5: APFS Volume MacOS 15.3 GB disk1s5 6: APFS Snapshot com.apple.os.update-... 15.3 GB disk1s5s1 è¾“å…¥ diskutil apfs deleteContainer disk0s2 åˆ é™¤ Apple_APFS Container disk2 çš„ç©ºé—´ è¾“å…¥diskutil list æŸ¥çœ‹åˆ é™¤åçš„ç©ºé—´ bobo@Mac:~ Â» diskutil list /dev/disk0 (internal, physical): #: TYPE NAME SIZE IDENTIFIER 0: GUID_partition_scheme *512.1 GB disk0 1: EFI EFI 209.7 MB disk0s1 (free space) 271.6 GB - 2: Apple_APFS Container disk1 240.3 GB disk0s3 /dev/disk1 (synthesized): #: TYPE NAME SIZE IDENTIFIER 0: APFS Container Scheme - +240.3 GB disk1 Physical Store disk0s3 1: APFS Volume MacOS - æ•°æ® 94.2 GB disk1s1 2: APFS Volume Preboot 284.3 MB disk1s2 3: APFS Volume Recovery 622.8 MB disk1s3 4: APFS Volume VM 1.1 GB disk1s4 5: APFS Volume MacOS 15.3 GB disk1s5 6: APFS Snapshot com.apple.os.update-... 15.3 GB disk1s5s1 è¾“å…¥diskutil addpartition disk0s1 apfs NewAPFS 0 åˆ›å»ºä¸€ä¸ªæ–°çš„APFSå®¹å™¨ è¾“å…¥diskutil list æŸ¥çœ‹æ–°å¢åçš„ç©ºé—´ bobo@Mac:~ Â» diskutil list /dev/disk0 (internal, physical): #: TYPE NAME SIZE IDENTIFIER 0: GUID_partition_scheme *512.1 GB disk0 1: EFI EFI 209.7 MB disk0s1 2: Apple_APFS Container disk2 271.6 GB disk0s4 3: Apple_APFS Container disk1 240.3 GB disk0s3 /dev/disk1 (synthesized): #: TYPE NAME SIZE IDENTIFIER 0: APFS Container Scheme - +240.3 GB disk1 Physical Store disk0s3 1: APFS Volume MacOS - æ•°æ® 94.2 GB disk1s1 2: APFS Volume Preboot 284.3 MB disk1s2 3: APFS Volume Recovery 622.8 MB disk1s3 4: APFS Volume VM 1.1 GB disk1s4 5: APFS Volume MacOS 15.3 GB disk1s5 6: APFS Snapshot com.apple.os.update-... 15.3 GB disk1s5s1 /dev/disk2 (synthesized): #: TYPE NAME SIZE IDENTIFIER 0: APFS Container Scheme - +271.6 GB disk2 Physical Store disk0s4 1: APFS Volume NewAPFS 995.3 KB disk2s1 ä½¿ç”¨asrå·¥å…·å°†ç¬¬ä¸€æ¬¡æŒ‚è½½ç›˜ä¸­çš„BaseSystem.dmgæ¢å¤åˆ°ç©ºçš„æŒ‚è½½é•œåƒä¸­ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š sudo asr --source /dev/disk1s5s1 --target /dev/disk2 --erase é‡å¯ç”µè„‘ï¼Œç”¨æ–°çš„æŒ‚è½½é•œåƒå¯åŠ¨ è¾“å…¥diskutil list æŸ¥çœ‹å½“å‰ç©ºé—´ bobo@Mac:~ Â» diskutil list /dev/disk0 (internal, physical): #: TYPE NAME SIZE IDENTIFIER 0: GUID_partition_scheme *512.1 GB disk0 1: EFI EFI 209.7 MB disk0s1 2: Apple_APFS Container disk1 271.6 GB disk0s2 3: Apple_APFS Container disk2 240.3 GB disk0s3 /dev/disk1 (synthesized): #: TYPE NAME SIZE IDENTIFIER 0: APFS Container Scheme - +271.6 GB disk1 Physical Store disk0s2 1: APFS Volume MacOS - æ•°æ® 94.2 GB disk1s1 2: APFS Volume MacOS 15.3 GB disk1s2 3: APFS Snapshot com.apple.os.update-... 15.3 GB disk1s2s1 4: APFS Volume Preboot 284.3 MB disk1s3 5: APFS Volume Recovery 622.8 MB disk1s4 6: APFS Volume VM 1.1 GB disk1s5 /dev/disk2 (synthesized): #: TYPE NAME SIZE IDENTIFIER 0: APFS Container Scheme - +240.3 GB disk2 Physical Store disk0s3 1: APFS Volume MacOS - æ•°æ® 94.2 GB disk2s1 2: APFS Volume Preboot 284.3 MB disk2s2 3: APFS Volume Recovery 622.8 MB disk2s3 4: APFS Volume VM 1.1 GB disk2s4 5: APFS Volume MacOS 15.3 GB disk2s5 è¾“å…¥ diskutil apfs deleteContainer disk2 åˆ é™¤ä¹‹å‰æ—§çš„çš„ç©ºé—´ è¾“å…¥diskutil apfs resizecontainer disk1 0 å›æ”¶å¯ç”¨ç©ºé—´ï¼Œå¤§åŠŸå‘Šæˆ ","date":"2021-10-09","objectID":"/macos-remove-freespace/:1:0","tags":["MacOS"],"title":"MacOS-å¦‚ä½•åˆ é™¤Free Spaceï¼Œä½¿å¾—APFSå®¹å™¨å°†Free Spaceå ç”¨","uri":"/macos-remove-freespace/"},{"categories":["MacOS"],"content":"å‚è€ƒ How to make remove free space and make APFS container take it up ","date":"2021-10-09","objectID":"/macos-remove-freespace/:2:0","tags":["MacOS"],"title":"MacOS-å¦‚ä½•åˆ é™¤Free Spaceï¼Œä½¿å¾—APFSå®¹å™¨å°†Free Spaceå ç”¨","uri":"/macos-remove-freespace/"},{"categories":["Golang"],"content":"æœ¬æ–‡è®°è½½å¦‚ä½•ç¼–å†™ä¸€ä¸ªç®€å•çš„é€‚ç”¨äºGolangäº¤å‰ç¼–è¯‘çš„Makefileï¼Œå¹¶ä¸”è®°è½½äº†åœ¨ç¼–è¯‘æ—¶å¦‚ä½•é€šè¿‡åŠ¨æ€æ³¨å…¥å˜é‡æ¥ç»™äºŒè¿›åˆ¶æ–‡ä»¶å¢åŠ ç‰ˆæœ¬å·ï¼ŒåŒæ—¶åˆ©ç”¨github releasesè¿›è¡Œç‰ˆæœ¬æ›´æ–°æ£€æµ‹ã€è¦†ç›–æ›´æ–°ç­‰ã€‚","date":"2021-04-21","objectID":"/golang-makefile-and-additional/","tags":["Golang","Makefile"],"title":"Golangäº¤å‰ç¼–è¯‘Makefileï¼Œé€šè¿‡Github releaseç‰ˆæœ¬æ£€æµ‹è¦†ç›–æ›´æ–°","uri":"/golang-makefile-and-additional/"},{"categories":["Golang"],"content":"Makefile ä¹‹å‰ä¸€ç›´çœ‹åˆ°å¾ˆå¤šå¼€æºé¡¹ç›®ä¸­éƒ½æœ‰Makefileçš„å­˜åœ¨ï¼Œåšä¸»ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡å†™Makefileï¼Œå‚è€ƒäº†å¾ˆå¤šæ–‡ç« ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹å…³äºGolangäº¤å‰ç¼–è¯‘çš„Makefile é¦–å…ˆçœ‹ä¸€ä¸‹å®Œæˆçš„Makefileï¼Œé•¿è¿™ä¸ªæ ·å­ .PHONY: clean build # Binary name BINARY=jd-cli # Builds the project build: # @echo ${BINARY}; \\ @for project in $$(ls cmd); \\ do \\ go build -ldflags \"-w -s -X main.Version=${VERSION}\" \"./cmd/$$project\"; \\ upx \"./$$project\"; \\ done release: # Clean go clean rm -rf *.gz # Build for mac @for project in $$(ls cmd); \\ do \\ GO111MODULE=on go build -ldflags \"-w -s -X main.Version=${VERSION}\" \"./cmd/$$project\"; \\ upx \"./$$project\"; \\ tar czvf $$project-darwin-amd64.tar.gz ./$$project; \\ done # Build for linux go clean @for project in $$(ls cmd); \\ do \\ CGO_ENABLED=0 GOOS=linux GOARCH=amd64 GO111MODULE=on go build -ldflags \"-w -s -X main.Version=${VERSION}\" \"./cmd/$$project\"; \\ upx \"./$$project\"; \\ tar czvf $$project-linux-amd64.tar.gz ./$$project; \\ done go clean # Cleans our projects: deletes binaries clean: @for project in $$(ls cmd); \\ do \\ rm -rf $$project; \\ done go clean rm -rf *.gz ","date":"2021-04-21","objectID":"/golang-makefile-and-additional/:1:0","tags":["Golang","Makefile"],"title":"Golangäº¤å‰ç¼–è¯‘Makefileï¼Œé€šè¿‡Github releaseç‰ˆæœ¬æ£€æµ‹è¦†ç›–æ›´æ–°","uri":"/golang-makefile-and-additional/"},{"categories":["Golang"],"content":"é€è¡Œè§£é‡Š ç¬¬ 1 è¡Œï¼š.PHONYÂ æ˜¯ä¸€ä¸ªä¼ªé€ çš„targetï¼Œåœ¨Makefileä¸­targeté»˜è®¤æ˜¯æ–‡ä»¶ï¼Œå³åŒç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¸ºäº†ä¸ä½¿Makefileä¸­çš„å‘½ä»¤ä¸ä¹‹å†²çªï¼Œéœ€è¦ä¼ªé€ ä¸€ä¸ªtarget ç¬¬ 4 è¡Œï¼šç†è§£ä¸ºè®¾ç½®äº†ä¸€ä¸ªå˜é‡ï¼Œç”¨äºåœ¨å…¨å±€ä¸­å¼•ç”¨ï¼Œ æ³¨æ„Â åœ¨Makefileä¸­å®šä¹‰çš„å˜é‡ï¼Œ å¼•ç”¨Â æ—¶éœ€è¦ ${}Â åŒ…ä½ ç¬¬ 7 è¡Œï¼šæ¯ä¸ªå‘½ä»¤åè®°å¾—å†™å†’å· :Â  ç¬¬ 8-13è¡Œï¼šè¿™é‡Œæ˜¯å†™äº†ä¸€ä¸ª shellÂ è¯­æ³•ï¼Œ æ³¨æ„Â åœ¨Makefileä¸­å†™shelléœ€è¦æœ‰ä¸€äº›â€œç‰¹æ®Šå¤„ç†â€ã€‚ è¯­å¥å‰é¢å†™ @Â è¡¨ç¤ºä¸å°†è¯­å¥è¾“å‡ºåˆ°Terminal æ¯ä¸€è¡Œåè¦å†™ ;Â å· å’Œ \\Â å·ï¼Œè¡¨ç¤ºç»“æŸå’Œæ¢è¡Œ å¯¹äºä¸æ˜¯åœ¨Makefileä¸­å®šä¹‰çš„å˜é‡ï¼Œå¼•ç”¨æ—¶éœ€è¦å¤šåŠ ä¸€å±‚ $Â ï¼Œå³å˜æˆäº† $$Â  ","date":"2021-04-21","objectID":"/golang-makefile-and-additional/:1:1","tags":["Golang","Makefile"],"title":"Golangäº¤å‰ç¼–è¯‘Makefileï¼Œé€šè¿‡Github releaseç‰ˆæœ¬æ£€æµ‹è¦†ç›–æ›´æ–°","uri":"/golang-makefile-and-additional/"},{"categories":["Golang"],"content":"ç¼–è¯‘æ—¶åŠ¨æ€æŒ‡å®šç‰ˆæœ¬å· åœ¨ä¸Šé¢çš„Makefileä¸­ï¼Œæœ‰è¿™æ ·ä¸€è¡Œå†…å®¹ go build -ldflags \"-w -s -X main.Version=${VERSION}\" \"./cmd/$$project\"; \\Â ï¼Œä¸‹é¢è§£é‡Šä¸€ä¸‹ -ldflags \"-w\"Â :å»æ‰è°ƒè¯•ä¿¡æ¯ -ldflags \"-s\"Â å»æ‰ç¬¦å·è¡¨ è¿™ä¸¤æ²¡å•¥å¯è¯´çš„ï¼Œå¤§å®¶éƒ½æ‡‚ -ldflags \"-X main.Version=${VERSION}Â ï¼šè¿™è¡Œçš„å†…å®¹å°±å±äºåŠ¨æ€æ³¨å…¥å˜é‡ï¼Œçœ‹ä¸ªğŸŒ° package main import ( \"flag\" \"fmt\" ) var Version string func main() { v := flag.Bool(\"v\", false, \"version\") flag.Parse() if *v { fmt.Println(\"å½“å‰ç‰ˆæœ¬: \" + Version) return } } ä½¿ç”¨ go build main.goÂ ï¼Œè¿è¡Œç»“æœä¸º å½“å‰ç‰ˆæœ¬:Â Â å†ä½¿ç”¨ go build -ldflags \"-X main.Version=1.0.0\" main.goÂ ï¼Œè¿è¡Œç»“æœä¸º å½“å‰ç‰ˆæœ¬: 1.0.0Â æˆ‘ä»¬å¯ä»¥åŸºäºæ­¤åŠŸèƒ½å†™å…¥åˆ°Makefileä¸­ï¼Œå°±æ˜¯ä¸Šé¢çš„Makefile ","date":"2021-04-21","objectID":"/golang-makefile-and-additional/:2:0","tags":["Golang","Makefile"],"title":"Golangäº¤å‰ç¼–è¯‘Makefileï¼Œé€šè¿‡Github releaseç‰ˆæœ¬æ£€æµ‹è¦†ç›–æ›´æ–°","uri":"/golang-makefile-and-additional/"},{"categories":["Golang"],"content":"åŸºäºGithub releaseè¿›è¡Œè¦†ç›–æ›´æ–° æœ‰äº†åœ¨ç¼–è¯‘æ—¶æŒ‡å®šç‰ˆæœ¬çš„æ–¹å¼ï¼Œä¸‹ä¸€æ­¥å°è¯•ä½¿ç”¨Github releaseæ¥è¿›è¡Œè½¯ä»¶æ¯æ¬¡æ£€æŸ¥æ›´æ–°ä»¥åŠè¦†ç›–æ›´æ–°ã€‚ Github å¼€æ”¾äº† Github Api v3Â ï¼Œä¹Ÿæœ‰å„ç§è¯­è¨€çš„SDKï¼Œå°±æ˜¯åˆ¤æ–­ç‰ˆæœ¬å·æ˜¯å¦ä¸€è‡´å¹¶è¿›è¡Œä¸‹è½½è§£å‹è¦†ç›–é‡å¯å³å¯ ä¸»ç¨‹åº package main import ( \"bufio\" \"context\" \"flag\" \"fmt\" \"io\" \"log\" \"net/http\" \"os\" \"path/filepath\" \"runtime\" \"strconv\" \"time\" \"github.com/cheggaaa/pb/v3\" \"github.com/google/go-github/v35/github\" \"TelegramBot/internal\" ) var ( Version = \"\" Project = \"jd-cli\" ) func main() { v := flag.Bool(\"v\", false, \"version\") flag.Parse() if *v { fmt.Println(\"å½“å‰ç‰ˆæœ¬: \" + Version) return } // æ£€æŸ¥æ˜¯å¦æœ‰æ›´æ–° ctx := context.Background() client := github.NewClient(nil) release, _, _ := client.Repositories.GetLatestRelease(ctx, \"yqchilde\", \"scripts\") if Version != release.GetTagName() { fmt.Println(release.GetBody()) fmt.Print(\"å‘ç°æ–°ç‰ˆæœ¬ï¼Œæ˜¯å¦è¦æ›´æ–°åˆ°\", release.GetTagName(), \" (y/n): \") input, err := bufio.NewReader(os.Stdin).ReadString('\\n') if err != nil || (input != \"y\\n\" \u0026\u0026 input != \"n\\n\") || input == \"n\\n\" { internal.ClearTerminal(runtime.GOOS) } if input == \"y\\n\" { for _, asset := range release.Assets { sourceName := fmt.Sprintf(\"jd-cli-%s-%s.tar.gz\", runtime.GOOS, runtime.GOARCH) if asset.GetName() == sourceName { ToUpdateProgram(asset.GetBrowserDownloadURL()) return } } } } } func ToUpdateProgram(url string) { // æ‹¿åˆ°å‹ç¼©åŒ…æ–‡ä»¶å tarGzFileName := filepath.Base(url) client := http.DefaultClient client.Timeout = time.Second * 60 * 10 resp, err := client.Get(url) if err != nil { log.Fatal(err) } if resp.StatusCode == http.StatusOK { log.Printf(\"[INFO] æ­£åœ¨æ›´æ–°: [%s]\", Project) downFile, err := os.Create(tarGzFileName) internal.CheckIfError(err) defer downFile.Close() // è·å–ä¸‹è½½æ–‡ä»¶çš„å¤§å° contentLength, _ := strconv.Atoi(resp.Header.Get(\"Content-Length\")) sourceSiz := int64(contentLength) source := resp.Body // åˆ›å»ºä¸€ä¸ªè¿›åº¦æ¡ bar := pb.Full.Start64(sourceSiz) bar.SetMaxWidth(100) barReader := bar.NewProxyReader(source) writer := io.MultiWriter(downFile) _, err = io.Copy(writer, barReader) bar.Finish() // æ£€æŸ¥æ–‡ä»¶å¤§å° stat, _ := os.Stat(tarGzFileName) if stat.Size() != int64(contentLength) { log.Printf(\"[ERROR] [%s]æ›´æ–°å¤±è´¥\", Project) err := os.Remove(tarGzFileName) internal.CheckIfError(err) return } log.Printf(\"[INFO] [%s]æ›´æ–°æˆåŠŸ\", Project) err = internal.TarGzDeCompress(tarGzFileName, \"./\") internal.CheckIfError(err) _ = os.Remove(tarGzFileName) _ = os.Chmod(Project, os.ModePerm) internal.ClearTerminal(runtime.GOOS) _ = internal.RestartProcess(\"./\" + Project) } else { log.Printf(\"[ERROR] [%s]æ›´æ–°å¤±è´¥\", Project) _ = os.Remove(tarGzFileName) } } internalåŒ… package internal import ( \"archive/tar\" \"compress/gzip\" \"fmt\" \"io\" \"os\" \"os/exec\" \"strings\" \"syscall\" ) // CheckIfError ... func CheckIfError(err error) { if err == nil { return } fmt.Printf(\"\\x1b[31;1m%s\\x1b[0m\\n\", fmt.Sprintf(\"error: %s\", err)) os.Exit(1) } // ClearTerminal æ¸…ç©ºç»ˆç«¯æ§åˆ¶å° func ClearTerminal(goos string) { switch goos { case \"darwin\": cmd := exec.Command(\"clear\") cmd.Stdout = os.Stdout _ = cmd.Run() case \"linux\": cmd := exec.Command(\"clear\") cmd.Stdout = os.Stdout _ = cmd.Run() } } // TarGzDeCompress tar.gzè§£å‹å‡½æ•° func TarGzDeCompress(tarFile, dest string) error { srcFile, err := os.Open(tarFile) if err != nil { return err } defer srcFile.Close() gr, err := gzip.NewReader(srcFile) if err != nil { return err } defer gr.Close() tr := tar.NewReader(gr) for { hdr, err := tr.Next() if err != nil { if err == io.EOF { break } else { return err } } filename := dest + hdr.Name err = os.MkdirAll(string([]rune(filename)[0:strings.LastIndex(filename, \"/\")]), 0755) if err != nil { return err } file, err := os.Create(filename) if err != nil { return err } io.Copy(file, tr) } return nil } // RestartProcess é‡å¯è¿›ç¨‹ func RestartProcess(proName string) error { argv0, err := exec.LookPath(proName) if err != nil { return err } return syscall.Exec(argv0, os.Args, os.Environ()) } æ•ˆæœå¦‚ä¸‹ï¼š æ•ˆæœå›¾gif \" æ•ˆæœå›¾ å®Œæ•´çš„é¡¹ç›®ä»£ç åœ¨è¿™é‡Œ GolangåŸºäºGithub releasesè¿›è¡Œè¦†ç›–æ›´æ–°Â ","date":"2021-04-21","objectID":"/golang-makefile-and-additional/:3:0","tags":["Golang","Makefile"],"title":"Golangäº¤å‰ç¼–è¯‘Makefileï¼Œé€šè¿‡Github releaseç‰ˆæœ¬æ£€æµ‹è¦†ç›–æ›´æ–°","uri":"/golang-makefile-and-additional/"},{"categories":["Golang"],"content":"å‚è€ƒæ–‡ç«  Golang Command LinkÂ  Go,Makefileä¸è‡ªåŠ¨ç¨‹åºç‰ˆæœ¬å·çš„å®ç°Â  Github Api v3 ","date":"2021-04-21","objectID":"/golang-makefile-and-additional/:4:0","tags":["Golang","Makefile"],"title":"Golangäº¤å‰ç¼–è¯‘Makefileï¼Œé€šè¿‡Github releaseç‰ˆæœ¬æ£€æµ‹è¦†ç›–æ›´æ–°","uri":"/golang-makefile-and-additional/"},{"categories":["Golang"],"content":"1. åœ¨ä½¿ç”¨Goçš„Templateæ—¶ï¼Œåœ¨endåä¸‹æ–¹å‡ºç°äº†ä¸€è¡Œç©ºç™½çš„å‘ï¼Œå¾ˆå½±å“å¼ºè¿«ç—‡å¿ƒæƒ…ã€‚\u003cbr\u003e2. è®°å½•ä¸€ä¸ªç®€å•çš„crontabæ­£åˆ™è¡¨è¾¾å¼å¦‚ä½•ç¼–å†™ã€‚","date":"2021-04-04","objectID":"/template-range-crontab-regex/","tags":["Golang"],"title":"Goçš„templateæ¨¡æ¿å…³äºrangeæ¢è¡Œå’Œcrontabçš„ç®€å•æ­£åˆ™è¡¨è¾¾å¼","uri":"/template-range-crontab-regex/"},{"categories":["Golang"],"content":"template range { {{ range $_, $cron := .CronList }} {{- $cron }} {{ end }} } \u003e\u003e /scripts/docker/merged_list_file.sh æ•ˆæœå¦‚ä¸‹å›¾ï¼š å›¾ä¸€\" å›¾ä¸€ å‡ºç°äº†ä¸€è¡Œç©ºç™½ï¼Œæ¥ç€ä¿®æ”¹å¦‚ä¸‹ï¼š { {{ range $_, $cron := .CronList }} {{- $cron }} {{ end -}} } \u003e\u003e /scripts/docker/merged_list_file.sh å›¾2image-20210404175049733 \" å›¾2 æ­£ç¡®ä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼Œè¿™ä¸ªå‘è¿˜æ˜¯ä¸å°‘äººä¼šè¸©åˆ°ï¼š { {{- range $_, $cron := .CronList}} {{ $cron -}} {{- end }} } \u003e\u003e /scripts/docker/merged_list_file.sh å›¾ä¸‰image-20210404175203952 \" å›¾ä¸‰ ","date":"2021-04-04","objectID":"/template-range-crontab-regex/:1:0","tags":["Golang"],"title":"Goçš„templateæ¨¡æ¿å…³äºrangeæ¢è¡Œå’Œcrontabçš„ç®€å•æ­£åˆ™è¡¨è¾¾å¼","uri":"/template-range-crontab-regex/"},{"categories":["Golang"],"content":"crontab regex å‘¨æœ«å†™å·¥å…·è‡ªåŠ¨æ‹‰å–å‡ ä¸ªä½œè€…çš„è„šæœ¬é‡åˆ°éœ€è¦æå–è„šæœ¬ä¸­çš„crontabè¡¨è¾¾å¼ï¼Œç ”ç©¶äº†ä¸€ä¸‹æ­£åˆ™ï¼Œå› ä¸ºæˆ‘å‘ç°ä¸åŒä½œè€…å†™è„šæœ¬æ–¹å¼ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æœ€ç¨³çš„è¿˜æ˜¯æ­£åˆ™æ¥åŒ¹é…ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºç®€å•åŒ¹é…ï¼Œæ˜¯å› ä¸ºæ²¡æœ‰åšæˆçœŸæ­£çš„crontabæ˜¯å¦æœ‰æ•ˆçš„åŒ¹é…ï¼Œåªæ˜¯åŒ¹é…æ ¼å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š \\* // åŒ¹é…* \\? // åŒ¹é…? [0-9]{1,2} // åŒ¹é…å•ä¸ªæ—¶é—´ [0-9]{1,2}\\-[0-9]{1,2} // åŒ¹é…æ—¶é—´æ®µ [0-9]{1,2}\\-[0-9]{1,2}\\/[0-9]{1,2} // åŒ¹é…æ¯éš”å¤šä¹…çš„æ—¶é—´æ®µ ([0-9]{1,2}\\,?)* // åŒ¹é…,å·éš”å¼€çš„å¤šä¸ªæ—¶é—´ ([0-9]{1,2}\\,?)*\\-[0-9]{1,2} // åŒ¹é…,å·å’Œ-å·ç»„æˆçš„æ—¶é—´æ®µ ([0-9]{1,2}\\,?)*\\-[0-9]{1,2}\\/[0-9]{1,2} // åŒ¹é…,å·ã€-å·å’Œ/å·ç»„æˆçš„é—´éš”å¤šä¸ªæ—¶é—´æ®µ ç»„åˆåœ¨ä¸€èµ·è£…æˆå‡ºç°5æ¬¡ï¼Œä»£ç å¦‚ä¸‹ (((\\*|\\?|[0-9]{1,2}|[0-9]{1,2}\\-[0-9]{1,2}|[0-9]{1,2}\\-[0-9]{1,2}\\/[0-9]{1,2}|([0-9]{1,2}\\,?)*|([0-9]{1,2}\\,?)*\\-[0-9]{1,2}|([0-9]{1,2}\\,?)*\\-[0-9]{1,2}\\/[0-9]{1,2})+[\\s]){5}) æ•ˆæœå¦‚ä¸‹ï¼Œå¦‚æœæœ‰äººçœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œæ°å¥½è¿™ä¸ªæ­£åˆ™ä¸èƒ½åŒ¹é…ä½ çš„crontabï¼Œéº»çƒ¦ç•™ä¸€ä¸‹æ­£åˆ™ä½œä¸ºæˆ‘çš„è¡¥å……ã€‚ å›¾4image-20210404175645634 \" å›¾4 2021-06-05æ›´æ–°æœ€æ–°çš„crontabè¡¨è¾¾å¼ [^\\s\\:]((\\*|[0-9]{1,2}|[0-9]{1,2}\\-[0-9]{1,2}|[0-9]{1,2}\\-[0-9]{1,2}\\/[0-9]{1,2}|([0-9]{1,2}\\,?)*|([0-9]{1,2}\\,?)*\\-[0-9]{1,2}|([0-9]{1,2}\\,?)*\\-[0-9]{1,2}\\/[0-9]{1,2})+[ ]){4}(\\*|[0-9]{1,2}|[0-9]{1,2}\\-[0-9]{1,2}|[0-9]{1,2}\\-[0-9]{1,2}\\/[0-9]{1,2}|([0-9]{1,2}\\,?)*|([0-9]{1,2}\\,?)*\\-[0-9]{1,2}|([0-9]{1,2}\\,?)*\\-[0-9]{1,2}\\/[0-9]{1,2}) ","date":"2021-04-04","objectID":"/template-range-crontab-regex/:2:0","tags":["Golang"],"title":"Goçš„templateæ¨¡æ¿å…³äºrangeæ¢è¡Œå’Œcrontabçš„ç®€å•æ­£åˆ™è¡¨è¾¾å¼","uri":"/template-range-crontab-regex/"},{"categories":["Docker"],"content":"è®°å½•åœ¨docker-composeä¸­å¯¹ç¯å¢ƒå˜é‡æŠ½ç¦»ï¼Œä½¿ç”¨envæ–‡ä»¶åµŒå¥—å˜é‡ä½¿ç”¨çš„æ–¹æ³•ã€‚","date":"2021-03-13","objectID":"/docker-compose-env-file/","tags":["Docker"],"title":"docker-composeä½¿ç”¨envå¤„ç†ç¯å¢ƒå˜é‡å¦™ç”¨","uri":"/docker-compose-env-file/"},{"categories":["Docker"],"content":" æœ€è¿‘åœ¨ç”¨çš„ä¸€ä¸ªæœåŠ¡ä»–çš„docker-composeéœ€è¦é…ç½®å¾ˆå¤šå¾ˆå¤šçš„ç¯å¢ƒå˜é‡ï¼Œè€Œæ¯ä¸ªç¯å¢ƒå˜é‡å¯èƒ½åˆå¾ˆé•¿ï¼Œæ‰€ä»¥æŸ¥é˜…èµ„æ–™äº†è§£åˆ°env fileè¿™ç§é…ç½® ","date":"2021-03-13","objectID":"/docker-compose-env-file/:0:0","tags":["Docker"],"title":"docker-composeä½¿ç”¨envå¤„ç†ç¯å¢ƒå˜é‡å¦™ç”¨","uri":"/docker-compose-env-file/"},{"categories":["Docker"],"content":"env_file å®˜æ–¹æ–‡æ¡£åœ°å€ https://docs.docker.com/compose/environment-variablesï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘é‡åˆ°çš„é—®é¢˜ å¦‚æœè¦ä½¿ç”¨env_fileé…ç½®ï¼Œè¿™æ—¶å€™ï¼Œæ˜¯ä¼šæŠŠæ‰€æœ‰çš„å˜é‡éƒ½å¸¦å…¥è¿›æ¥çš„ï¼Œæˆ‘ä¸éœ€è¦é‚£ä¹ˆå¤šå˜é‡ï¼Œä¸¾ä¸ªğŸŒ° # äº¬ä¸œå†œåœº FRUIT1=0f6f68f0d58d43a98d2f578a7e1a0215 FRUIT2=8e2785b15cef4f03a714f4288a496dec FRUIT3=c8f3876f3ea24dedbb174868ad53e4d2 FRUIT4=667ebac5844e418d98393004362eb28s FRUIT5=dad356ebad9a4de6ab8fdd774b2ea94g FRUIT_SHARECODE1=${FRUIT2}@${FRUIT3}@${FRUIT4}@${FRUIT5} FRUIT_SHARECODE2=${FRUIT1}@${FRUIT3}@${FRUIT4}@${FRUIT5} FRUIT_SHARECODE3=${FRUIT1}@${FRUIT2}@${FRUIT4}@${FRUIT5} FRUIT_SHARECODE4=${FRUIT1}@${FRUIT2}@${FRUIT3}@${FRUIT5} FRUIT_SHARECODE5=${FRUIT1}@${FRUIT2}@${FRUIT3}@${FRUIT4} .envæ–‡ä»¶ä¸­æœ‰è¿™ä¹ˆä¸€æ®µå†…å®¹ï¼Œå…¶ä¸­ FRUIT1-5 å’Œ FRUIT_SHARECODE1-5å…¨æ˜¯å˜é‡ï¼Œä½†æ˜¯å¾ˆæ˜¾ç„¶æˆ‘åªè¦æƒ³ FRUIT_SHARECODE1-5çš„å˜é‡ï¼Œä¸æƒ³è¦ä¸Šé¢çš„ï¼Œå¯ä»¥è¯´æ˜¯æˆ‘éœ€è¦æŒ‰éœ€å¼•å…¥å˜é‡ï¼Œå¦‚æœç›´æ¥ç”¨å¦‚ä¸‹è¿™ç§é…ç½®ï¼Œå°±ä¼šå°†æ‰€æœ‰çš„å˜é‡å…¨éƒ¨å¼•å…¥ $ cat docker-compose.yml version: '3' services: api: image: 'node:6-alpine' env_file: - ./api.env æ‰€ä»¥æœ€ç»ˆæƒ³æ³•è¿˜æ˜¯åªåœ¨åŒç›®å½•ç”¨ .env æ–‡ä»¶ï¼Œè¿™æ ·ä¸éœ€è¦ç‰¹åˆ«å£°æ˜å¼•å…¥ï¼Œåªéœ€è¦ä¿è¯åŒç›®å½•å³å¯ï¼Œè¿™æ—¶å€™æˆ‘åœ¨ docker-compose.yml æ–‡ä»¶ä¸­å¼•å…¥äº† FRUIT_SHARECODE1 å˜é‡ï¼ŒæŒ‰ç…§æˆ‘çš„ç†è§£æ˜¯å˜é‡åµŒå¥—ä¼šé—´æ¥å¼•å…¥ä¸Šé¢çš„å˜é‡ï¼Œç»“æœå˜æˆäº†ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚ å›¾1\" å›¾1 éš¾é“docker-composeä¸æ”¯æŒè¿™ç§å†™æ³•ï¼Ÿè¿˜è¢«å¤šåŠ äº†ä¸€ä¸ª $å˜æˆäº† $${} ï¼Œéšååœ¨è‡ªå·±çš„æœ¬åœ°ç”µè„‘è¯•äº†ä¸‹ï¼Œæ˜¯æŒ‰ç…§æˆ‘é¢„æƒ³çš„ç»“æœè¾“å‡ºçš„ï¼Œé‚£ä¹ˆé—®é¢˜å°±å¥½è¯´äº†ï¼Œè¿™è¯´æ˜æ˜¯dockerc-composeç‰ˆæœ¬ä¸å¯¹ï¼Œå¹¶ä¸æ˜¯ä¸æ”¯æŒï¼Œå½“å‰æœåŠ¡å™¨ä¸‹çš„ç‰ˆæœ¬æ˜¯ 1.25.4ï¼Œç¿»é˜…ç‰ˆæœ¬è®°å½•å‘ç°åœ¨ 1.26.0 ä»¥åä½¿ç”¨äº† python-dotenv ç®¡ç†äº†env_fileï¼Œæ‰€ä»¥è‡³å°‘è¦ä½¿ç”¨å¤§äº1.26.0ä»¥åçš„ç‰ˆæœ¬ã€‚ å›¾2\" å›¾2 é¡ºä¾¿æä¸€ä¸‹æ›´æ–° docker-composeç‰ˆæœ¬æ­¥éª¤ $ whereis docker-compose docker-compose: /usr/local/bin/docker-compose # è®°å¾—åé¢ä¿å­˜çš„ä½ç½®æ˜¯åŸæ¥çš„ä½ç½® $ curl -L https://github.com/docker/compose/releases/download/1.27.4/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose æ›´æ–°ä¹‹åå†çœ‹ä¸€ä¸‹æ•ˆæœå§ å›¾ä¸‰\" å›¾ä¸‰ ","date":"2021-03-13","objectID":"/docker-compose-env-file/:1:0","tags":["Docker"],"title":"docker-composeä½¿ç”¨envå¤„ç†ç¯å¢ƒå˜é‡å¦™ç”¨","uri":"/docker-compose-env-file/"},{"categories":["Docker"],"content":"æ€»ç»“ docker-composeå¾ˆæ–¹ä¾¿ï¼Œä½¿ç”¨ .env æ–‡ä»¶ä¼šæ›´åŠ æ–¹ä¾¿ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ä¼ é€’æ›´å¤šçš„å†…å®¹è¿›æ¥ï¼Œæ¯æ¬¡åªéœ€è¦ç»´æŠ¤ .env ä¸ç”¨é¢‘ç¹ä¿®æ”¹ docker-compose.yml ã€‚ ","date":"2021-03-13","objectID":"/docker-compose-env-file/:2:0","tags":["Docker"],"title":"docker-composeä½¿ç”¨envå¤„ç†ç¯å¢ƒå˜é‡å¦™ç”¨","uri":"/docker-compose-env-file/"},{"categories":["Docker"],"content":"é€šè¿‡docker-composeç®€å•çš„é…ç½®ä¸€ä¸‹mysqlå’Œnginxï¼Œå¹¶ä¸”æŒ‚è½½åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":" è®°å½•ç‰‡æ®µï¼šç”¨ docker-compose ç®€å• mysql ä¸ nginx ä¸¤ä¸ªå®¹å™¨ï¼Œå¹¶æŒ‚è½½ volumes ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:0:0","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"docker-compose.yml version:\"3\"services:mysql:image:mysql:5.7container_name:mysqlrestart:alwaysenvironment:- MYSQL_ROOT_PASSWORD=***volumes:- ~/mysql/datas:/var/lib/mysql- ~/mysql/conf/my.cnf:/etc/my.cnfports:- \"3306:3306\"nginx:image:nginx:latestrestart:alwaysvolumes:- ~/nginx/logs:/var/log/nginx- ~/nginx/conf/nginx.conf:/etc/nginx/nginx.conf- ~/nginx/www:/usr/share/nginx/htmlports:- \"80:80\" ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:1:0","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"åˆ†æ ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:2:0","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"MySQL åˆ›å»º``dataså’Œconf ä¸¤ä¸ªç©ºç›®å½•ï¼Œç¼–å†™my.cnfæ–‡ä»¶æ”¾å…¥conf`æ–‡ä»¶å¤¹ï¼Œé…ç½®å¦‚ä¸‹ï¼š [mysqld] user=mysql default-storage-engine=INNODB character-set-client-handshake=FALSE character-set-server=utf8mb4 collation-server=utf8mb4_unicode_ci init_connect='SET NAMES utf8mb4' [client] default-character-set=utf8mb4 [mysql] default-character-set=utf8mb4 ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:2:1","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"Nginx åˆ›å»ºlogsã€confã€wwwä¸‰ä¸ªç©ºç›®å½•ï¼Œç¼–å†™nginx.confæ–‡ä»¶æ”¾å…¥confæ–‡ä»¶å¤¹ã€‚ ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:2:2","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"Nginx å¤šç›®å½• å½“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªç«¯å£å¯ä»¥å¼€Serveræ—¶ï¼Œå°±éœ€è¦ä¸€ä¸ªServerå¼€å¯å¤šä¸ªlocationæ¥å†™è§„åˆ™ï¼Œå…·ä½“éœ€æ±‚å°±æ˜¯åœ¨wwwç›®å½•ä¸‹æœ‰homeå’Œdocsä¸¤ä¸ªç›®å½•ï¼Œé€šè¿‡ä¸åŒçš„åç¼€å»è®¿é—®ä¸åŒçš„é¡µé¢ï¼Œè§„åˆ™è¿™æ ·å†™ï¼š Server { listen 80; listen [::]:80; charset utf-8; server_name location; location / { root /usr/share/nginx/html; index index.html; } location /docs { alias /usr/share/nginx/html/docs/; index index.html; } } éœ€è¦æ³¨æ„çš„æ˜¯rootå’Œaliasçš„åŒºåˆ«ï¼Œä¸€ä¸ªæ˜¯ä»rootä¸‹è·Ÿlocationè·¯å¾„ï¼Œä¸€ä¸ªæ˜¯é€šè¿‡locationè·¯å¾„çš„åˆ«ååˆ°aliasçš„è·¯å¾„ è¿™æ—¶å€™ï¼Œåˆå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœä¸åŠ /ï¼Œå°±ä¼šå‡ºç°ç«¯å£ä¸¢å¤±é—®é¢˜ï¼Œå› ä¸ºå®¹å™¨å†…æ˜ å°„çš„ç«¯å£æ˜¯ 80 ç«¯å£ï¼Œå¤–è¾¹å…¬ç½‘ç»™çš„ ip æ˜¯å¦ä¸€ä¸ªï¼Œè€Œ 80 æ˜¯æµè§ˆå™¨ web é¡µé¢çš„é»˜è®¤ç«¯å£ï¼Œä¸¾ä¸ª ğŸŒ°ï¼Œ47.1.2.1:8090/docsæ²¡æœ‰åŠ /å°±ä¼šç»è¿‡ nginx çš„ 301 é‡å®šå‘åˆ°47.1.2.1/docs/ï¼Œç”±äºç«¯å£ä¸¢å¤±ï¼Œå³ä½¿é‡å®šå‘åˆ°å¸¦æœ‰/çš„åœ°å€ä¹Ÿåªæ˜¯ 404ï¼Œè¿™æ—¶åªéœ€è¦ä¿®æ”¹ä¸ºå¦‚ä¸‹é…ç½®å³å¯ã€‚ location /docs { alias /usr/share/nginx/html/docs/; index index.html; if (-d $request_filename) { rewrite [^/]$ $scheme://$http_host$uri/ permanent; } } ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:3:0","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"Redis 2021-04-22è¡¥å……redisçš„é…ç½® version:\"3\"services:redis:image:redis:alpinecontainer_name:redisrestart:alwaysvolumes:- ../redis/data:/data- ../redis/conf/redis.conf:/usr/local/etc/redis/redis.conf- ../redis/logs:/logscommand:redis-server /usr/local/etc/redis/redis.confports:- \"6379:6379\" ","date":"2021-02-11","objectID":"/docker-compose-mysql-nginx/:4:0","tags":["Docker"],"title":"Docker Composeç®€å•é…ç½®Mysql NginxæŒ‚è½½æŒä¹…åŒ–","uri":"/docker-compose-mysql-nginx/"},{"categories":["Docker"],"content":"ç”¨dockerè·‘äº†ä¸€ä¸ªmysqlå®¹å™¨åï¼Œå‘ç°è¿›å…¥å®¹å™¨å´æ— æ³•æˆåŠŸç™»å½•ï¼Œè®°å½•ä¸€ä¸‹è§£å†³æ–¹æ¡ˆã€‚","date":"2021-02-11","objectID":"/docker-mysql-login-failed/","tags":["Docker"],"title":"Dockerå®‰è£…MySQLåæ— æ³•ç™»å½•","uri":"/docker-mysql-login-failed/"},{"categories":["Docker"],"content":"MySQL-Run docker run --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=*** -d -v ~/data/docker/mysql:/var/lib/mysql mysql:5.6 ","date":"2021-02-11","objectID":"/docker-mysql-login-failed/:1:0","tags":["Docker"],"title":"Dockerå®‰è£…MySQLåæ— æ³•ç™»å½•","uri":"/docker-mysql-login-failed/"},{"categories":["Docker"],"content":"å‘ç°é”™è¯¯ ä½¿ç”¨ Navicat è¿œç¨‹è¿æ¥å‘ç°æŠ¥ 1045 é”™è¯¯ è¿›å…¥å®¹å™¨ç™»å½• mysql å‘ç°ä»ç„¶æ˜¯ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES) ","date":"2021-02-11","objectID":"/docker-mysql-login-failed/:2:0","tags":["Docker"],"title":"Dockerå®‰è£…MySQLåæ— æ³•ç™»å½•","uri":"/docker-mysql-login-failed/"},{"categories":["Docker"],"content":"è§£å†³é—®é¢˜ è¿™é‡Œè¯´ä¸€ä¸‹ï¼Œåœ¨https://github.com/docker-library/mysql/issues/434è¿™é‡Œçœ‹åˆ°ç›¸å…³é—®é¢˜ï¼Œæœ‰äººè¯´ä½¿ç”¨ mysql -uroot -p*** å³ç›´æ¥å†™å‡ºå¯†ç å¯ä»¥ï¼Œæˆ‘è¯•è¿‡æ˜¯ä¸è¡Œçš„ï¼Œè¿™é‡Œè´´å‡ºå…·ä½“è§£å†³æ–¹æ¡ˆã€‚ è¿›å…¥å®¹å™¨ä¸­ ä½¿ç”¨å‘½ä»¤ /usr/bin/mysql_secure_installation æŒ‰ç…§æç¤ºè¿›è¡Œå¯†ç åˆå§‹åŒ–å³å¯ å¦‚ä¸‹æ‰€ç¤ºï¼š # /usr/bin/mysql_secure_installation NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY! In order to log into MySQL to secure it, we'll need the current password for the root user. If you've just installed MySQL, and you haven't set the root password yet, the password will be blank, so you should just press enter here. Enter current password for root (enter for none): OK, successfully used password, moving on... Setting the root password ensures that nobody can log into the MySQL root user without the proper authorisation. You already have a root password set, so you can safely answer 'n'. Change the root password? [Y/n] y New password: Re-enter new password: Password updated successfully! Reloading privilege tables.. ... Success! By default, a MySQL installation has an anonymous user, allowing anyone to log into MySQL without having to have a user account created for them. This is intended only for testing, and to make the installation go a bit smoother. You should remove them before moving into a production environment. Remove anonymous users? [Y/n] y ... Success! Normally, root should only be allowed to connect from 'localhost'. This ensures that someone cannot guess at the root password from the network. Disallow root login remotely? [Y/n] n ... skipping. By default, MySQL comes with a database named 'test' that anyone can access. This is also intended only for testing, and should be removed before moving into a production environment. Remove test database and access to it? [Y/n] y - Dropping test database... ERROR 1008 (HY000) at line 1: Can't drop database 'test'; database doesn't exist ... Failed! Not critical, keep moving... - Removing privileges on test database... ... Success! Reloading the privilege tables will ensure that all changes made so far will take effect immediately. Reload privilege tables now? [Y/n] y ... Success! All done! If you've completed all of the above steps, your MySQL installation should now be secure. Thanks for using MySQL! Cleaning up... # mysql -uroot -p Enter password: Welcome to the MySQL monitor. Commands end with ; or \\g. Your MySQL connection id is 17 Server version: 5.6.50 MySQL Community Server (GPL) Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners. Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement. ","date":"2021-02-11","objectID":"/docker-mysql-login-failed/:3:0","tags":["Docker"],"title":"Dockerå®‰è£…MySQLåæ— æ³•ç™»å½•","uri":"/docker-mysql-login-failed/"},{"categories":["Golang"],"content":"å¾ˆå¤šæ—¶å€™ï¼Œå½“æˆ‘ä»¬å†™å‡ºä¸€ä¸ªç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™ä¸ªç¨‹åºåœ¨å¹¶å‘æƒ…å†µä¸‹ä¼šä¸ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ã€‚æ‰€ä»¥åœ¨æœ¬è´¨ä¸Šè¯´ï¼Œgoroutineçš„ä½¿ç”¨å¢åŠ äº†å‡½æ•°çš„å±é™©ç³»æ•°ã€‚æ¯”å¦‚ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¦‚æœæ²¡æœ‰åŠ ä¸Šé”ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªæ¯”è¾ƒåºå¤§çš„é¡¹ç›®ä¸‹æ¥ï¼Œæ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªå˜é‡æ˜¯ä¸æ˜¯ä¼šå¼•èµ·å¤šä¸ªgoroutineç«äº‰ï¼Œraceå‚æ•°å°±æ˜¯æå‰å¸®æˆ‘ä»¬æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç«äº‰ã€‚","date":"2021-01-11","objectID":"/golang-race/","tags":["Golang"],"title":"Golangä¸­çš„Raceæ£€æµ‹","uri":"/golang-race/"},{"categories":["Golang"],"content":"äº†è§£Race {{indent}}å¾ˆå¤šæ—¶å€™ï¼Œå½“æˆ‘ä»¬å†™å‡ºä¸€ä¸ªç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™ä¸ªç¨‹åºåœ¨å¹¶å‘æƒ…å†µä¸‹ä¼šä¸ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ã€‚æ‰€ä»¥åœ¨æœ¬è´¨ä¸Šè¯´ï¼Œgoroutineçš„ä½¿ç”¨å¢åŠ äº†å‡½æ•°çš„å±é™©ç³»æ•°ã€‚æ¯”å¦‚ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¦‚æœæ²¡æœ‰åŠ ä¸Šé”ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªæ¯”è¾ƒåºå¤§çš„é¡¹ç›®ä¸‹æ¥ï¼Œæ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªå˜é‡æ˜¯ä¸æ˜¯ä¼šå¼•èµ·å¤šä¸ªgoroutineç«äº‰ã€‚ å®˜ç½‘çš„æ–‡ç«  Introducing the Go Race Detector ç»™å‡ºçš„ä¾‹å­å°±è¯´æ˜äº†è¿™ç‚¹ï¼š package main import( \"time\" \"fmt\" \"math/rand\" ) func main() { start := time.Now() var t *time.Timer t = time.AfterFunc(randomDuration(), func() { fmt.Println(time.Now().Sub(start)) t.Reset(randomDuration()) }) time.Sleep(5 * time.Second) } func randomDuration() time.Duration { return time.Duration(rand.Int63n(1e9)) } {{indent}}è¿™ä¸ªä¾‹å­çœ‹èµ·æ¥æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œ time.AfterFuncÂ æ˜¯ä¼šå¦å¤–å¯åŠ¨ä¸€ä¸ªgoroutineæ¥è¿›è¡Œè®¡æ—¶å’Œæ‰§è¡Œfunc()ã€‚ç”±äº func ä¸­æœ‰å¯¹ t(Timer)Â è¿›è¡Œ ResetÂ æ“ä½œï¼Œè€Œä¸»goroutineä¹Ÿæœ‰å¯¹tè¿›è¡Œæ“ä½œ t = time.AfterÂ ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå…¶å®æœ‰å¯èƒ½ä¼šé€ æˆä¸¤ä¸ªgoroutineå¯¹åŒä¸€ä¸ªå˜é‡è¿›è¡Œç«äº‰çš„æƒ…å†µã€‚ {{indent}}è¿™ä¸ªä¾‹å­æœ‰ç‚¹å¤æ‚ï¼Œç®€åŒ–ä¸€ä¸‹ï¼Œä½¿ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š package main import( \"time\" \"fmt\" ) func main() { a := 1 go func(){ a = 2 }() a = 3 fmt.Println(\"a is \", a) time.Sleep(2 * time.Second) } {{indent}}åœ¨è¿™æ®µä»£ç ä¸­ï¼Œgo func è§¦å‘çš„goroutineä¼šä¿®æ”¹ a ã€‚ä¸»goroutineä¹Ÿä¼šå¯¹å¯¹ a è¿›è¡Œä¿®æ”¹ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªè¿è¡Œ go runÂ ï¼Œæˆ‘ä»¬å¯èƒ½å¾€å¾€ä¸ä¼šå‘ç°ä»€ä¹ˆå¤ªå¤§çš„é—®é¢˜ã€‚ go run main.go a is 3 {{indent}}å¯å–œçš„æ˜¯ï¼Œgolangåœ¨1.1ä¹‹åå¼•å…¥äº†ç«äº‰æ£€æµ‹çš„æ¦‚å¿µï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ go run -raceÂ æˆ–è€… go build -raceÂ æ¥è¿›è¡Œç«äº‰æ£€æµ‹ã€‚ {{indent}}Golangè¯­è¨€å†…éƒ¨å¤§æ¦‚çš„å®ç°å°±æ˜¯åŒæ—¶å¼€å¯å¤šä¸ª goroutine æ‰§è¡ŒåŒä¸€ä¸ªå‘½ä»¤ï¼Œå¹¶è®°å½•æ¯ä¸ªå˜é‡çš„çŠ¶æ€ã€‚ å¦‚æœç”¨raceæ¥æ£€æµ‹ä¸Šé¢çš„ç¨‹åºï¼Œæˆ‘ä»¬å°±ä¼šçœ‹åˆ°è¾“å‡ºï¼š go run -race main.go a is 3 ================== WARNING: DATA RACE Write at 0x00c00012c058 by goroutine 7: main.main.func1() E:/GoModule/go-learning/main.go:11 +0x44 Previous write at 0x00c00012c058 by main goroutine: main.main() E:/GoModule/go-learning/main.go:13 +0x92 Goroutine 7 (running) created at: main.main() E:/GoModule/go-learning/main.go:10 +0x84 ================== Found 1 data race(s) exit status 66 {{indent}}è¿™ä¸ªå‘½ä»¤è¾“å‡ºäº† Warningï¼Œ å‘Šè¯‰æˆ‘ä»¬ï¼Œgoroutine7 è¿è¡Œåˆ°ç¬¬11è¡Œè¿›è¡Œè§¦å‘è¿‘ç«äº‰äº†ã€‚è€Œä¸”ä»ç¬¬14è¡Œå¾—çŸ¥groutine7æ˜¯åœ¨ç¬¬10è¡Œåˆ›å»ºçš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±çŸ¥é“è¿™ä¸ªç¨‹åºåœ¨è¿™ä¸ªåœ°æ–¹å†™çš„æœ‰é—®é¢˜äº†ã€‚ {{indent}}å½“ç„¶è¿™ä¸ªå‚æ•°ä¼šå¼•å‘CPUå’Œå†…å­˜çš„ä½¿ç”¨å¢åŠ ï¼Œæ‰€ä»¥åŸºæœ¬æ˜¯åœ¨æµ‹è¯•ç¯å¢ƒä½¿ç”¨ï¼Œä¸æ˜¯åœ¨æ­£å¼ç¯å¢ƒå¼€å¯ã€‚ ","date":"2021-01-11","objectID":"/golang-race/:1:0","tags":["Golang"],"title":"Golangä¸­çš„Raceæ£€æµ‹","uri":"/golang-race/"},{"categories":["Golang"],"content":"è§£å†³æ–¹æ¡ˆ åˆ©ç”¨atomicåŒ…æ¥åŸå­æ“ä½œ package main import ( \"fmt\" \"sync/atomic\" \"time\" ) var value atomic.Value func main() { a := 1 value.Store(a) go func() { a := value.Load().(int) a = 2 value.Store(a) }() a = value.Load().(int) a = 3 value.Store(a) fmt.Println(\"a is \", a) time.Sleep(2 * time.Second) } åˆ©ç”¨Mutexé” package main import ( \"fmt\" \"sync\" \"time\" ) var mu sync.Mutex func main() { a := 1 go func() { mu.Lock() a = 2 mu.Unlock() }() mu.Lock() a = 3 fmt.Println(\"a is \", a) mu.Unlock() time.Sleep(2 * time.Second) } ","date":"2021-01-11","objectID":"/golang-race/:2:0","tags":["Golang"],"title":"Golangä¸­çš„Raceæ£€æµ‹","uri":"/golang-race/"},{"categories":["Golang"],"content":"å‚è€ƒèµ„æ–™ golangä¸­çš„raceæ£€æµ‹ è°ˆè°ˆ Golang ä¸­çš„ Data Race ","date":"2021-01-11","objectID":"/golang-race/:3:0","tags":["Golang"],"title":"Golangä¸­çš„Raceæ£€æµ‹","uri":"/golang-race/"},{"categories":["Golang"],"content":"Zinxæ˜¯ä¸€ä¸ªè½»é‡çº§TCPæœåŠ¡æ¡†æ¶ï¼Œä¼šè·Ÿç€è¯¾ç¨‹å¼€å§‹åšä¸€äº›ç¬”è®°ï¼Œæ¶ˆæ¯å°è£…æ¨¡å—æ˜¯å°†æ¶ˆæ¯ç»†åŒ–ï¼Œä»¥è¾¾åˆ°å°†æ¶ˆæ¯è¡¨è¾¾å…·ä½“åŒ–çš„ç›®çš„ã€‚","date":"2021-01-02","objectID":"/zinx-frame-v5/","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹æ¶ˆæ¯å°è£…æ¨¡å—","uri":"/zinx-frame-v5/"},{"categories":["Golang"],"content":"æ¶ˆæ¯å°è£…è„‘å›¾img \" æ¶ˆæ¯å°è£…è„‘å›¾ ","date":"2021-01-02","objectID":"/zinx-frame-v5/:0:0","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹æ¶ˆæ¯å°è£…æ¨¡å—","uri":"/zinx-frame-v5/"},{"categories":["Golang"],"content":"å°è£…æ¶ˆæ¯æ¥å£ åœ¨ä¹‹å‰æˆ‘ä»¬çš„æ¶ˆæ¯æ˜¯åœ¨Requestä¸­ä½œä¸ºdataä¼ é€’çš„ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹æ¶ˆæ¯è¿›è¡Œç»†åˆ†ï¼Œæ‰€ä»¥è¦æŠ½è±¡å‡ºä¸€ä¸ªæ¶ˆæ¯æ¥å£ åˆ›å»º ziface/imessage.goÂ ï¼Œä»£ç å¦‚ä¸‹ï¼š // IMessage å°†å»è¯·æ±‚çš„æ¶ˆæ¯å°è£…èµ·æ¥ type IMessage interface { // è·å–æ¶ˆæ¯æ•°æ®æ®µé•¿åº¦ GetDataLen() uint32 // è·å–æ¶ˆæ¯ID GetMsgId() uint32 // è·å–æ¶ˆæ¯å†…å®¹ GetData() []byte // è®¾ç½®æ¶ˆæ¯ID SetMsgId(uint32) // è®¾ç½®æ¶ˆæ¯å†…å®¹ SetData([]byte) // è®¾ç½®æ¶ˆæ¯æ•°æ®æ®µé•¿åº¦ SetDataLen(uint32) } ","date":"2021-01-02","objectID":"/zinx-frame-v5/:0:1","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹æ¶ˆæ¯å°è£…æ¨¡å—","uri":"/zinx-frame-v5/"},{"categories":["Golang"],"content":"æ¶ˆæ¯å®ä½“åŠåˆå§‹åŒ– è¿™ä¸€å—æ²¡æœ‰å¤ªå¤šéš¾åº¦ï¼Œç›´æ¥è´´ä»£ç äº†ã€‚ // Message åŒ…å«æ¶ˆæ¯çš„å±æ€§ type Message struct { // æ¶ˆæ¯ID ID uint32 // æ¶ˆæ¯é•¿åº¦ DataLen uint32 // æ¶ˆæ¯å†…å®¹ Data []byte } // NewMsgPackage åˆå§‹åŒ–æ¶ˆæ¯åŒ… func NewMsgPackage(id uint32, data []byte) *Message { return \u0026Message{ ID: id, DataLen: uint32(len(data)), Data: data, } } //è·å–æ¶ˆæ¯æ•°æ®æ®µé•¿åº¦ func (msg *Message) GetDataLen() uint32 { return msg.DataLen } //è·å–æ¶ˆæ¯ID func (msg *Message) GetMsgId() uint32 { return msg.ID } //è·å–æ¶ˆæ¯å†…å®¹ func (msg *Message) GetData() []byte { return msg.Data } //è®¾ç½®æ¶ˆæ¯æ•°æ®æ®µé•¿åº¦ func (msg *Message) SetDataLen(len uint32) { msg.DataLen = len } //è®¾è®¡æ¶ˆæ¯ID func (msg *Message) SetMsgId(msgId uint32) { msg.ID = msgId } //è®¾è®¡æ¶ˆæ¯å†…å®¹ func (msg *Message) SetData(data []byte) { msg.Data = data } ","date":"2021-01-02","objectID":"/zinx-frame-v5/:0:2","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹æ¶ˆæ¯å°è£…æ¨¡å—","uri":"/zinx-frame-v5/"},{"categories":["Golang"],"content":"æ¶ˆæ¯çš„å°åŒ…ä¸æ‹†åŒ… {{indent}}Zinxæ¡†æ¶ä½¿ç”¨ç»å…¸çš„ TLV(Type-Len-Value) å°åŒ…æ ¼å¼æ¥è§£å†³TCPé»åŒ…é—®é¢˜ã€‚ {{indent}}TLV å³åœ¨headéƒ¨åˆ†å…ˆå­˜æ”¾æ•°æ®é•¿åº¦ï¼Œå†å­˜æ”¾æ•°æ®IDï¼Œbodyéƒ¨åˆ†å­˜æ•°æ®ã€‚è¿™æ ·åœ¨è¯»æ¶ˆæ¯æ—¶ï¼Œå…ˆå»headéƒ¨åˆ†æŠŠæ•°æ®é•¿åº¦è¯»åˆ°ï¼Œç„¶åå†æŠŠè¯¥æ•°æ®å‘ååç§»è¯¥æ•°æ®é•¿åº¦å°±æ˜¯æ•´ä¸ªæ•°æ®ï¼Œæ¯ä¸ªæ•°æ®åˆç”¨æ•°æ®IDæ¥åŒºåˆ†ã€‚ {{indent}}å…³äºTCPé»åŒ… è¿™é‡Œç®€å•æŸ¥äº†ä¸‹èµ„æ–™ï¼Œä¾¿äºç†è§£ï¼šå½“å®¢æˆ·ç«¯è°ƒç”¨ä¸¤æ¬¡sendï¼ŒæœåŠ¡ç«¯ä¸€æ¬¡recvå°±å…¨éƒ¨è¯»å–å‡ºæ¥ï¼Œæˆ‘ä»¬æ˜¯å¸Œæœ›æ€ä¹ˆä¼ å°±æ€ä¹ˆè¯»ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚ç°è±¡æ˜¯è¿™ä¸ªæ ·å­ï¼Œä½†æ˜¯TCPæœ¬æ¥å°±æ˜¯åŸºäºå­—èŠ‚æµè€Œä¸æ˜¯æ¶ˆæ¯åŒ…çš„åè®®ï¼Œå®ƒè‡ªå·±è¯´çš„æ¸…æ¸…æ¥šæ¥šï¼šæˆ‘ä¼šæŠŠä½ çš„æ•°æ®å˜æˆå­—èŠ‚æµå‘åˆ°å¯¹é¢å»ï¼Œè€Œä¸”ä¿è¯é¡ºåºä¸ä¼šä¹±ï¼Œä½†æ˜¯ä½ è¦è‡ªå·±æå®šå­—èŠ‚æµè§£æã€‚æ‰€ä»¥è¿™ä¸ªé—®é¢˜å…¶å®å°±æ˜¯â€œå¦‚ä½•è®¾è®¡åº”ç”¨å±‚åè®®çš„é—®é¢˜â€ã€‚ åˆ›å»º zinx/ziface/idatapack.goÂ æ–‡ä»¶ï¼Œæ„é€ å¦‚ä¸‹æ–¹æ³•ï¼š å°åŒ…æ•°æ® æ‹†åŒ…æ•°æ® å¾—åˆ°å¤´éƒ¨é•¿åº¦ type IDataPack interface { // å¤´éƒ¨é•¿åº¦ GetHeadLen() uint32 // å°åŒ…æ–¹æ³• Pack(msg IMessage) ([]byte, error) // æ‹†åŒ…æ–¹æ³• UnPack([]byte) (IMessage, error) } åˆ›å»º zinx/znet/datapack.goÂ æ–‡ä»¶ï¼Œå®ç°IDataPackä¸­çš„å…¨éƒ¨æ–¹æ³•ï¼š // DataPack å°åŒ…æ‹†åŒ…ç±»å¯¹è±¡ type DataPack struct{} // NewDataPack å°åŒ…æ‹†åŒ…å®ä¾‹åˆå§‹åŒ–æ–¹æ³• func NewDataPack() *DataPack { return \u0026DataPack{} } // GetHeadLen è·å–åŒ…å¤´é•¿åº¦æ–¹æ³• func (d *DataPack) GetHeadLen() uint32 { // DataLen uint32(4) + MsgID uint32(4) return 8 } // Pack å°åŒ…æ–¹æ³• func (d *DataPack) Pack(msg ziface.IMessage) ([]byte, error) { dataBuff := bytes.NewBuffer([]byte{}) // å†™DataLen if err := binary.Write(dataBuff, binary.LittleEndian, msg.GetDataLen()); err != nil { return nil, err } // å†™MsgID if err := binary.Write(dataBuff, binary.LittleEndian, msg.GetMsgId()); err != nil { return nil, err } // å†™Dataæ•°æ® if err := binary.Write(dataBuff, binary.LittleEndian, msg.GetData()); err != nil { return nil, err } return dataBuff.Bytes(), nil } // UnPack æ‹†åŒ…æ–¹æ³• func (d *DataPack) UnPack(binaryData []byte) (ziface.IMessage, error) { dataBuff := bytes.NewReader(binaryData) msg := new(Message) // è¯»DataLen if err := binary.Read(dataBuff, binary.LittleEndian, \u0026msg.DataLen); err != nil { return nil, err } // è¯»MsgID if err := binary.Read(dataBuff, binary.LittleEndian, \u0026msg.ID); err != nil { return nil, err } // åˆ¤æ–­DataLenæ˜¯å¦åˆæ³• if utils.GlobalObject.MaxPacketSize \u003e 0 \u0026\u0026 msg.DataLen \u003e utils.GlobalObject.MaxPacketSize { return nil, errors.New(\"Too large msg data received \") } return msg, nil } ","date":"2021-01-02","objectID":"/zinx-frame-v5/:0:3","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹æ¶ˆæ¯å°è£…æ¨¡å—","uri":"/zinx-frame-v5/"},{"categories":["Golang"],"content":"æµ‹è¯•å°åŒ…æ‹†åŒ… æ„å»ºå•å…ƒæµ‹è¯• zinx/znet/datapack_test.goÂ æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š func TestDataPack(t *testing.T) { // æ¨¡æ‹ŸServerç«¯ // 1. åˆ›å»º socketTCP listener, err := net.Listen(\"tcp\", \"127.0.0.1:7777\") if err != nil { t.Log(\"Server listener err: \", err) return } // è´Ÿè´£å¤„ç†å®¢æˆ·ç«¯ä¸šåŠ¡ go func() { for { // 2. ä»å®¢æˆ·ç«¯è¯»å–æ•°æ®ï¼Œæ‹†åŒ…å¤„ç† conn, err := listener.Accept() if err != nil { t.Log(\"Server accept err: \", err) } go func(conn net.Conn) { // å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ dp := NewDataPack() for { // 2.1 ç¬¬ä¸€æ¬¡ä»connè¯»ï¼ŒæŠŠåŒ…çš„headè¯»å‡ºæ¥ headData := make([]byte, dp.GetHeadLen()) _, err := io.ReadFull(conn, headData) if err != nil { t.Log(\"Read head err: \", err) break } // 2.2 æ‹†åŒ… msgHead, err := dp.UnPack(headData) if err != nil { t.Log(\"Server unpack err: \", err) return } // 2.3 ç¬¬äºŒæ¬¡ä»connè¯»ï¼Œæ ¹æ®headä¸­dataLenå»æ‹¿data if msgHead.GetDataLen() \u003e 0 { msg := msgHead.(*Message) msg.Data = make([]byte, msg.GetDataLen()) // åç§»DataLenåæ‹¿æ•°æ® _, err := io.ReadFull(conn, msg.Data) if err != nil { t.Log(\"Server unpack data err: \", err) return } t.Logf(\"MsgID: %d, ReceiveLen: %d, data: %s\", msg.ID, msg.DataLen, string(msg.Data)) } } }(conn) } }() // æ¨¡æ‹ŸClientç«¯ conn, err := net.Dial(\"tcp\", \"127.0.0.1:7777\") if err != nil { t.Log(\"Client dial err: \", err) return } // åˆ›å»ºä¸€ä¸ªå°åŒ…å¯¹è±¡ dp := NewDataPack() // æ¨¡æ‹Ÿé»åŒ…è¿‡ç¨‹ï¼Œå°è£…ä¸¤ä¸ªmsgä¸€åŒå‘é€ msg1 := \u0026Message{ ID: 1, DataLen: 4, Data: []byte{'Z', 'i', 'n', 'x'}, } sendData1, _ := dp.Pack(msg1) msg2 := \u0026Message{ ID: 2, DataLen: 6, Data: []byte{'n', 'i', 'h', 'a', 'o', '!'}, } sendData2, _ := dp.Pack(msg2) sendData1 = append(sendData1, sendData2...) _, _ = conn.Write(sendData1) // å®¢æˆ·ç«¯é˜»å¡ select {} } æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š æµ‹è¯•img \" æµ‹è¯• ","date":"2021-01-02","objectID":"/zinx-frame-v5/:0:4","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹æ¶ˆæ¯å°è£…æ¨¡å—","uri":"/zinx-frame-v5/"},{"categories":["Golang"],"content":"Zinxæ˜¯ä¸€ä¸ªè½»é‡çº§TCPæœåŠ¡æ¡†æ¶ï¼Œä¼šè·Ÿç€è¯¾ç¨‹å¼€å§‹åšä¸€äº›ç¬”è®°ï¼Œå…¨å±€é…ç½®æ¨¡å—ä¸»è¦æ˜¯é…ç½®äº†æœåŠ¡å¯åŠ¨å’Œè¿è¡Œä¸­çš„ä¸€äº›å‚æ•°ã€‚","date":"2021-01-02","objectID":"/zinx-frame-v4/","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹å…¨å±€é…ç½®æ¨¡å—","uri":"/zinx-frame-v4/"},{"categories":["Golang"],"content":"å…¨å±€é…ç½®è„‘å›¾img \" å…¨å±€é…ç½®è„‘å›¾ ","date":"2021-01-02","objectID":"/zinx-frame-v4/:0:0","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹å…¨å±€é…ç½®æ¨¡å—","uri":"/zinx-frame-v4/"},{"categories":["Golang"],"content":"é…ç½®æ–‡ä»¶ å†™ä¸€ä¸ªå…¨å±€é…ç½®æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿çš„ç»´æŠ¤é¡¹ç›®å·²ç»ä¿®æ”¹ä»£ç å‚æ•°ï¼Œåˆ›å»º conf/zinx.jsonÂ æ–‡ä»¶ï¼Œé…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š { \"Name\": \"demo server\", \"Host\": \"127.0.0.1\", \"IPVersion\": \"tcp4\", \"TcpPort\": 8999, \"MaxConn\": 3 } ","date":"2021-01-02","objectID":"/zinx-frame-v4/:0:1","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹å…¨å±€é…ç½®æ¨¡å—","uri":"/zinx-frame-v4/"},{"categories":["Golang"],"content":"å…¨å±€å‚æ•°æ˜ å°„ åˆ›å»º utils/globalobj.goÂ æ–‡ä»¶ï¼Œä»£ç ç¼–å†™å¦‚ä¸‹ï¼š // GlobalObj ç”¨æ¥æ˜ å°„ zinx.json type GlobalObj struct { TcpServer ziface.IServer //å…¨å±€Serverå¯¹è±¡ IPVersion string // IPç‰ˆæœ¬ Host string //å½“å‰æœåŠ¡å™¨ä¸»æœºIP TcpPort int //å½“å‰æœåŠ¡å™¨ä¸»æœºç›‘å¬ç«¯å£å· Name string //å½“å‰æœåŠ¡å™¨åç§° Version string //å½“å‰æœåŠ¡ç‰ˆæœ¬å· MaxPacketSize uint32 //éƒ½éœ€æ•°æ®åŒ…çš„æœ€å¤§å€¼ MaxConn int //å½“å‰æœåŠ¡å™¨ä¸»æœºå…è®¸çš„æœ€å¤§é“¾æ¥ä¸ªæ•° } // å®šä¹‰ä¸€ä¸ªå…¨å±€çš„å¯¹è±¡ var GlobalObject *GlobalObj //è¯»å–ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ func (g *GlobalObj) Reload() { data, err := ioutil.ReadFile(\"conf/zinx.json\") if err != nil { panic(err) } err = json.Unmarshal(data, \u0026GlobalObject) if err != nil { panic(err) } } /* æä¾›initæ–¹æ³•ï¼Œé»˜è®¤åŠ è½½ */ func init() { //åˆå§‹åŒ–GlobalObjectå˜é‡ï¼Œè®¾ç½®ä¸€äº›é»˜è®¤å€¼ GlobalObject = \u0026GlobalObj{ Name: \"ZinxServerApp\", Version: \"V4\", TcpPort: 8999, Host: \"0.0.0.0\", MaxConn: 1000, MaxPacketSize: 4096, } //ä»é…ç½®æ–‡ä»¶ä¸­åŠ è½½ä¸€äº›ç”¨æˆ·é…ç½®çš„å‚æ•° GlobalObject.Reload() } ","date":"2021-01-02","objectID":"/zinx-frame-v4/:0:2","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹å…¨å±€é…ç½®æ¨¡å—","uri":"/zinx-frame-v4/"},{"categories":["Golang"],"content":"æ›¿æ¢å‚æ•° server.goä¸­NewServeræ›¿æ¢ // NewServer å®ä¾‹Server func NewServer(name string) ziface.IServer { return \u0026Server{ Name: utils.GlobalObject.Name, IPVersion: utils.GlobalObject.IPVersion, IP: utils.GlobalObject.Host, Port: utils.GlobalObject.TcpPort, Router: nil, } } åœ¨server.goä¸­Start()æ–¹æ³•ä¸­å¼€å§‹åŠ ä¸Šæ—¥å¿—ä¿¡æ¯ï¼š fmt.Printf(\"[START] Server name: %s,listenner at IP: %s, Port %d is starting\\n\", s.Name, s.IP, s.Port) fmt.Printf(\"[Zinx] Version: %s, MaxConn: %d, MaxPacketSize: %d\\n\", utils.GlobalObject.Version, utils.GlobalObject.MaxConn, utils.GlobalObject.MaxPacketSize) ","date":"2021-01-02","objectID":"/zinx-frame-v4/:0:3","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹å…¨å±€é…ç½®æ¨¡å—","uri":"/zinx-frame-v4/"},{"categories":["Golang"],"content":"æµ‹è¯• æ‹·è´v3ä¸­çš„ä»£ç åˆ°v4ï¼Œåœ¨v4ç›®å½•ä¸‹åˆ›å»º conf/zinx.jsonÂ ï¼Œå°†ä¸Šé¢çš„zinx.jsonå†…å®¹å¤åˆ¶è¿›å»ï¼Œåˆ†åˆ«è¿è¡Œserver.goå’Œclient.goå³å¯çœ‹åˆ°æœåŠ¡æ—¥å¿—å¼€å§‹æ‰“å°ã€‚ æµ‹è¯•img \" æµ‹è¯• ","date":"2021-01-02","objectID":"/zinx-frame-v4/:0:4","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹å…¨å±€é…ç½®æ¨¡å—","uri":"/zinx-frame-v4/"},{"categories":["Notes"],"content":"2020ç»“æŸå•¦ï¼Œç¬¬ä¸€æ¬¡æ­£å¼æ€»ç»“ï¼Œç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼","date":"2021-01-01","objectID":"/2020-harvest-summary/","tags":["mood"],"title":"2020 Harvest Summary","uri":"/2020-harvest-summary/"},{"categories":["Notes"],"content":" è½¬çœ¼é—´å°±åˆ°2020çš„æœ€åä¸€å¤©äº†ï¼Œç®—äº†ç®—æ—¶é—´ï¼Œæˆ‘ä¹Ÿå·¥ä½œ7ä¸ªå¤šæœˆäº†ï¼Œç”Ÿæ´»è™½ç„¶å¾ˆä¹±ï¼Œä½†æ˜¯å¥½åœ¨æ²¡æœ‰æ­¢æ­¥ä¸å‰ã€‚ {{indent}}ç¬¬ä¸€æ¬¡å†™å¹´ç»ˆæ€»ç»“ï¼Œä¹Ÿè®¸æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼Œå¸Œæœ›ä»¥åå¹´å¹´éƒ½åšæŒå†™ã€‚ {{indent}}2020æœ¬æ¥æ‰“ç®—æ—©æ—©è¿”å›å­¦æ ¡ï¼Œå®Œæˆæœ€åä¸€ä¸ªå­¦æœŸç¦»å¼€å­¦æ ¡ï¼Œæ²¡æƒ³åˆ°è‡ªå¯’å‡ç¦»æ ¡åï¼Œå†è§é¢å³æ¯•ä¸šã€‚æŒºåæ‚”è‡ªå·±æ²¡æœ‰å®ä¹ ç»å†çš„ï¼ŒçœŸçš„å°±æ˜¯æµªè´¹äº†å¾ˆå¤šæœºä¼šä¸€æ ·ï¼Œæˆ‘æ˜¯åœ¨19å¹´10æœˆæ¥è§¦Golangçš„ï¼Œä¹‹å‰åœ¨å­¦æ ¡å†™å†™PHPï¼Œå†™å†™å‰ç«¯ï¼Œå‚åŠ è¿‡æ¯”èµ›ï¼Œä¹Ÿæ‹¿è¿‡å¥–ï¼Œå´ä¸€ç›´æ²¡æœ‰å¾ˆè®¤çœŸçš„å¯¹å¾…ã€‚èŠ±è´¹åœ¨é€‰æ‹©ä¸Šçš„æ—¶é—´å¤§äºå­¦ä¹ è¿™æ˜¯æˆ‘ç»å¸¸çŠ¯çš„ä¸€ä¸ªæ¯›ç—…ï¼Œè¦æ”¹ï¼Œè¦æ”¹ï¼Œè¦æ”¹ã€‚æ¥è§¦Goä¹Ÿæ˜¯å¬ç€PHPåœˆé‡Œçš„äººå¤§å¤šéƒ½åœ¨è½¬ï¼Œè‡ªå·±å­¦ç€ä¹Ÿè§‰å¾—æŒºç®€å•æŒºç®€æ´çš„ï¼Œåæ­£ä¸€ç›´åœ¨å­¦å§ï¼Œåˆ°ä»Šå¹´4æœˆçš„æ—¶å€™ï¼Œåœ¨å®¶å¾…ä¸ä½äº†ï¼Œæƒ³ç€æ¥æ‰¾å·¥ä½œï¼Œä»¥ç€åº”å±Šç”Ÿç¤¾æ‹›èº«ä»½å»é¢è¯•çœŸçš„æ˜¯å¾ˆéš¾ï¼Œè€Œä¸”æˆ‘é€‰æ‹©äº†Goï¼Œå·®ç‚¹å˜æˆæˆ‘åæ‚”é€‰æ‹©çš„è¯­è¨€ï¼Œæˆ‘æ˜¯åœ¨æµå—æ±‚èŒï¼Œæµå—çš„Goå²—ä½çœŸçš„æ˜¯ç¨€ç¼ºï¼Œä»…ä»…7-8å®¶ï¼Œåªæœ‰ä¸¤å®¶è¦ä¸€å¹´ç»éªŒï¼Œå…¶ä»–éƒ½æ˜¯3å¹´ä»¥ä¸Šç»éªŒï¼Œæ‰€ä»¥è¿™ä¸¤å®¶æˆ‘éƒ½æŠ•äº†ï¼Œç¬¬ä¸€å®¶é¢è¯•ç­‰ç»“æœæ— æœï¼Œç¬¬äºŒå®¶é¢è¯•ä»¥ä¸ºä¹Ÿè¦å¤±è´¥çš„æ—¶å€™ï¼ŒBossç»™äº†æˆ‘æœºä¼šï¼ˆBossäº²è‡ªé¢ï¼Œä¹Ÿæ˜¯æŠ€æœ¯å‡ºèº«ï¼‰ï¼ŒçœŸçš„éå¸¸æ„Ÿè°¢ç»™æˆ‘æä¾›æœºä¼šã€‚åœ¨è¿™å¤šåŠå¹´æ¥ï¼ŒçœŸçš„æ˜¯å­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œæœ‰äº›ä¸œè¥¿åªæœ‰è‡ªå·±ä¸Šæ‰‹æ‰ä¼šçŸ¥é“å“ªé‡Œæœ‰å‘ï¼Œè¿™äº›å‘éƒ½æ˜¯å®è´µçš„ç»éªŒã€‚ {{indent}}ç¤¾ç•œç”Ÿæ´»å¼€å§‹äº†ï¼Œå’Œå¤§å®¶ä¸€æ ·ï¼Œå…ˆæ˜¯ç§Ÿæˆ¿ï¼Œç§Ÿæˆ¿ä¸€å®šè¦çœ‹å¥½åˆåŒï¼Œä¸€å®šä¸è¦ç€æ€¥ç¡®å®šæ˜¯å¦è¦ç§Ÿï¼Œå¤šçœ‹çœ‹å†ææä»·éƒ½æ˜¯å¯ä»¥è°ˆä¸‹æ¥çš„ï¼Œåœ¨æˆ‘ä½è¿›æ¥é‚£æ®µæ—¶é—´é™¤äº†å¶å°”è§‰å¾—æˆ¿å­å¤ªå°ï¼Œç”µè´¹å¤ªè´µå¤–æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚é—®é¢˜å‡ºç°åœ¨å›½åº†å‰ä¸€å¤©ï¼Œç”±äºå‚»Xä¸­ä»‹å’Œæˆ¿ä¸œå‡ºç°çŸ›ç›¾ï¼Œæˆ¿ä¸œè®©æˆ‘ä»¬æ¬å‡ºæˆ¿å­ï¼Œæ²¡æœ‰æ—¶é—´ç¼“å†²ï¼Œä¸­åˆä¸­ä»‹ç»™æˆ‘éšä¾¿æ‰¾äº†ä¸ªæˆ¿å­ï¼ŒçœŸçš„æ˜¯éšä¾¿æ‰¾çš„ï¼ŒåŒ†å¿™æ¬è¿›å»å·®ç‚¹å»¶è¯¯å›½åº†å›å®¶çš„ç«è½¦ã€‚åˆ°å®¶åï¼Œè¶Šæƒ³è¶Šè§‰å¾—ä¸å¯¹ï¼Œæˆ¿å­åˆå°åˆåµï¼Œä¹‹å‰æ˜¯800ä¸€æœˆçš„ï¼Œè¿™é—´åœ¨è´å£³çœ‹æ˜¯600ä¸€æœˆçš„ï¼Œä¸€æ¨¡ä¸€æ ·ã€‚å½“æˆ‘å¼€å§‹å¾®ä¿¡è”ç³»å‚»Xä¸­ä»‹çš„æ—¶å€™ï¼Œä»–ç©æ¶ˆå¤±äº†ï¼Œæœ€åå µåœ¨å°åŒºé‡Œæ‰¾åˆ°çš„ï¼Œéšä¾¿åº”ä»˜å‡ å¥è¯´ç»™æˆ‘æ¢æˆ¿å­ï¼Œç­‰äº†10æ¥å¤©ä¹Ÿä¸ç®¡æˆ‘ï¼Œæœ€åå†æ¬¡é€‰æ‹©æ¬å®¶ï¼Œå‚»Xä¸­ä»‹ä¸åŒäºé€€ï¼Œåœ¨åŒäº‹å¸®åŠ©ä¸‹åˆ©ç”¨æ³•å¾‹è¯‰è®¼è¦æ±‚åå•†é€€æŠ¼é‡‘æ‰ç»“æŸè¿™ä¸€äº›æ¶å¿ƒäº‹ã€‚ {{indent}}å†è¯´è¯´ç”µè„‘çš„æŠ˜è…¾ï¼Œåœ¨ç¾¤é‡Œå¶ç„¶æ¥è§¦åˆ°é»‘è‹¹æœè¿™ä¸ªä¸œè¥¿ï¼Œå‡ ç»æŠ˜è…¾ç»™è‡ªå·±çš„ç¬”è®°æœ¬æ¢ä¸Šäº†é»‘è‹¹æœç³»ç»Ÿï¼ŒåˆåŠ äº†å›ºæ€ç¡¬ç›˜ï¼Œåˆä¹°äº†2kæ˜¾ç¤ºå™¨ï¼Œè¿™æ—¶å€™åˆå‘ç°MacOSå¯¹2kå¾ˆä¸å‹å¥½ï¼Œé»˜è®¤åœ¨4Kä¸‹æ‰èƒ½è‡ªåŠ¨å¼€å¯HiDpiï¼Œæ•…åˆå’¸é±¼å‡ºæ‰2Kæ˜¾ç¤ºå™¨ï¼Œç”¨äº†20å¤©æŠ˜äº†ç‚¹é’±è¿˜æ˜¯å‡ºæ‰äº†ã€‚åˆé‡åˆ°äº†NUC8ï¼Œå†³å®šæŠŠç¬”è®°æœ¬å–æ‰ï¼Œå› ä¸ºæ€»æ‰€å‘¨çŸ¥çš„é»‘è‹¹æœç¬”è®°æœ¬çš„HDMIä¸èƒ½ç”¨ï¼ˆå› ä¸ºæ ¸æ˜¾ï¼‰ï¼Œå…¥äº†NUC8ä¹‹ååˆä¹°äº†ä¸€å—ä¾¿æº4Kï¼ŒåˆåŠ äº†ä¸€æ ¹16Gå†…å­˜ç»„æˆ32GåŒé€šé“ï¼Œæˆ‘éƒ½è§‰å¾—è‡ªå·±çœŸèƒ½å¤ŸæŠ˜è…¾çš„ï¼Œæ‰€å¹¸ç°åœ¨ç”¨çš„å¾ˆèˆ’æœï¼Œä½œä¸ºå¼€å‘ä¸»åŠ›æœºåœ¨ä½¿ç”¨ã€‚ç•™å¿µä¸€ä¸‹å­˜åœ¨ç›¸æœºé‡Œçš„ç…§ç‰‡å§ï¼Œè®²çœŸçš„ï¼Œæˆ‘çš„ä¸‹ä¸€å°ç¬”è®°æœ¬ä¸€å®šæ˜¯Mac Book Proã€‚ å›¾11609432992667 \" å›¾1 å›¾21609433015517 \" å›¾2 å›¾3image-20210101010515366 \" å›¾3 {{indent}}æœ€åè¯´ä¸€ä¸‹æŠ€æœ¯ä¸Šï¼Œæ„Ÿè§‰è‡ªå·±çš„å¿ƒå¤ªæµ®èºäº†ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯æµ…å°è¾„æ­¢ï¼Œè¿™å°±å¯¼è‡´æˆ‘çŸ¥è¯†ä½“ç³»å¾ˆé›¶æ•£ï¼Œæ— æ³•è´¯ç©¿èµ·æ¥ï¼Œæ‰€ä»¥æˆ‘æƒ³åœ¨æ–°çš„ä¸€å¹´é‡Œå»æŠŠè¿™äº›åšå¥½ï¼Œç­‰ä¸‹ä¸€ä¸ªå¹´ç»ˆå›å¤´çœ‹è‡ªå·±çš„Flagå®Œæˆåº¦ã€‚ {{indent}}åœ¨æ­¤ç«‹ä¸‹2021Flagï¼Œæ„¿ä¸è´Ÿæ—¶å…‰ã€‚ é‡æ–°è¿‡ä¸€éè®¡ç®—æœºç½‘ç»œ é‡æ–°è¿‡ä¸€éç³»ç»Ÿç»“æ„ çœ‹å…³äºGoè¿›é˜¶çš„5æœ¬ä¹¦ä»¥ä¸Š æŠŠDockerçŸ¥è¯†æ¢³ç†å‡ºæ¥ å­¦ä¼šCI/CDçš„æŸä¸€é¡¹æŠ€æœ¯ çœ‹å…³äºRedisçš„ä¹¦ æ•´ç†å¹¶æ·±å…¥å­¦ä¹ Natsã€RabbitMQ çœ‹ä¸€ç‚¹K8Sç›¸å…³æ–¹é¢çš„ä¹¦ å‡è‚¥ï¼ˆç°åœ¨140æƒ³å›åˆ°130ï¼‰ ç…§é¡¾å¥½å°æ¨ ","date":"2021-01-01","objectID":"/2020-harvest-summary/:0:0","tags":["mood"],"title":"2020 Harvest Summary","uri":"/2020-harvest-summary/"},{"categories":["Golang"],"content":"Zinxæ˜¯ä¸€ä¸ªè½»é‡çº§TCPæœåŠ¡æ¡†æ¶ï¼Œä¼šè·Ÿç€è¯¾ç¨‹å¼€å§‹åšä¸€äº›ç¬”è®°ï¼ŒRouteræ¨¡å—ä¸»è¦å°è£…äº†Requestæ¥å£å’ŒRouteræ¥å£ï¼Œç”¨äºå®ç°é€šè¿‡è·¯ç”±è¯·æ±‚æ•°æ®ï¼Œå¹¶ä¸”é€šè¿‡è·¯ç”±è°ƒç”¨é“¾æ¥åŠŸèƒ½ï¼Œv3æ˜¯å•è·¯ç”±æ¨¡å¼ã€‚","date":"2020-12-27","objectID":"/zinx-frame-v3/","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"Routeræ¨¡å—è„‘å›¾img \" Routeræ¨¡å—è„‘å›¾ ç°åœ¨æˆ‘ä»¬éœ€è¦ç»™ç”¨æˆ·ä¸€ä¸ªè‡ªå®šçš„Connå¤„ç†ä¸šåŠ¡çš„æ¥å£ï¼Œéœ€è¦ç”¨æˆ·ä¼ å…¥æ‰€éœ€è¦å¤„ç†çš„ä¸šåŠ¡ï¼Œè€Œä¸æ˜¯å†™æ­»çš„å›æ˜¾æ–¹æ³•ã€‚æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€äº› interface{}Â æ¥è®©ç”¨æˆ·å¡«å†™ä»»æ„æ ¼å¼çš„è¿æ¥å¤„ç†ä¸šåŠ¡æ–¹æ³•ã€‚ é‚£ä¹ˆï¼Œå¾ˆæ˜¾ç„¶funcä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®šä¹‰æŠ½è±¡çš„æ¥å£ç±»ã€‚ æˆ‘ä»¬éœ€è¦æŠŠå®¢æˆ·ç«¯è¯·æ±‚çš„è¿æ¥ä¿¡æ¯å’Œè¯·æ±‚çš„æ•°æ®ï¼Œæ”¾åœ¨ä¸€ä¸ª RequestÂ çš„ç»“æ„ä½“é‡Œï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥ä»Requesté‡Œé¢å¾—åˆ°å…¨éƒ¨å®¢æˆ·ç«¯çš„è¯·æ±‚ä¿¡æ¯ï¼Œä¹Ÿä¸ºæˆ‘ä»¬ä¹‹åæ‰©å±•æ¡†æ¶æœ‰ä¸€å®šçš„ä½œç”¨ï¼Œä¸€æ—¦å®¢æˆ·ç«¯æœ‰é¢å¤–çš„å«ä¹‰çš„æ•°æ®ä¿¡æ¯ï¼Œéƒ½å¯ä»¥æ”¾åœ¨è¿™ä¸ªRequestä¸­ã€‚å¯ä»¥ç†è§£ä¸ºæ¯æ¬¡å®¢æˆ·ç«¯çš„å…¨éƒ¨è¯·æ±‚æ•°æ®ï¼ŒZinxéƒ½ä¼šæŠŠå®ƒä»¬æ”¾åœ¨ä¸€ä¸ªRequestç»“æ„ä½“ä¸­ã€‚ ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:0","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"åˆ›å»ºæŠ½è±¡IRequestå±‚ åœ¨ zifaceÂ ä¸‹åˆ›å»º irequest.goÂ  // IRequest æ¥å£ // å®é™…ä¸Šæ˜¯æŠŠå®¢æˆ·ç«¯è¯·æ±‚çš„é“¾æ¥ä¿¡æ¯å’Œè¯·æ±‚çš„æ•°æ®åŒ…è£…åˆ°ä¸€ä¸ªrequestä¸­ type IRequest interface { // å¾—åˆ°å½“å‰é“¾æ¥ GetConnection() IConnection // å¾—åˆ°è¯·æ±‚çš„æ¶ˆæ¯æ•°æ® GetData() []byte } ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:1","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"åˆ›å»ºå®ä½“Requestå±‚ åœ¨ znetÂ ä¸‹åˆ›å»º request.goÂ  type Request struct { // å·²ç»å’Œå®¢æˆ·ç«¯å»ºç«‹å¥½çš„é“¾æ¥ conn ziface.IConnection // å®¢æˆ·ç«¯è¯·æ±‚çš„æ•°æ® data []byte } func (r *Request) GetConnection() ziface.IConnection { return r.conn } func (r *Request) GetData() []byte { return r.data } requestÂ ç›¸å…³çš„å°è£…å¥½äº†ï¼Œæ¥ä¸‹æ¥æ˜¯é…ç½® RouterÂ å±‚ï¼Œç›®çš„æ˜¯ä¸ºäº†åœ¨routeré‡Œé¢æºå¸¦æœåŠ¡è¦å¤„ç†çš„ä¸šåŠ¡ ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:2","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"åˆ›å»ºæŠ½è±¡çš„IRouterå±‚ åœ¨ zifaceÂ ä¸‹åˆ›å»º irouter.goÂ æˆ‘ä»¬çŸ¥é“ router å®é™…ä¸Šçš„ä½œç”¨å°±æ˜¯ï¼ŒæœåŠ¡ç«¯åº”ç”¨å¯ä»¥ç»™ Zinx æ¡†æ¶é…ç½®å½“å‰é“¾æ¥çš„å¤„ç†ä¸šåŠ¡æ–¹æ³•ï¼Œä¹‹å‰æ˜¯å†™æ­»çš„å›æ˜¾æ–¹æ³•ï¼Œæœ‰äº†routerå°±å¯ä»¥é€šè¿‡routeræºå¸¦ï¼Œå¹¶ä¸”ä¼šå®šä¹‰ä¸‰ä¸ªæ–¹æ³•ï¼Œä¸”æ”¯æŒæ–¹æ³•é‡å†™ã€‚ PreHandle: åœ¨å¤„ç†connä¸šåŠ¡ä¹‹å‰çš„é’©å­æ–¹æ³•Hook Handle: åœ¨å¤„ç†connä¸šåŠ¡çš„ä¸»æ–¹æ³•Hook PostHandle: åœ¨å¤„ç†connä¸šåŠ¡ä¹‹åçš„é’©å­æ–¹æ³•Hook æ¯ä¸ªæ–¹æ³•çš„å½¢å‚å°±æ˜¯ä¸Šé¢å°è£…çš„ IRequestÂ å¯¹è±¡ï¼Œç”¨æ¥å‘ŠçŸ¥æˆ‘ä»¬æ‰€è¦è¿çš„é“¾æ¥ä»¥åŠè¯·æ±‚æ•°æ®ï¼Œä½œä¸ºæˆ‘ä»¬ä¸šåŠ¡æ–¹æ³•çš„è¾“å…¥æ•°æ®ã€‚ // IRouter è·¯ç”±æŠ½è±¡æ¥å£ // è·¯ç”±é‡Œçš„æ•°æ®éƒ½æ˜¯IRequest type IRouter interface { // åœ¨å¤„ç†connä¸šåŠ¡ä¹‹å‰çš„é’©å­æ–¹æ³•Hook PreHandle(request IRequest) // åœ¨å¤„ç†connä¸šåŠ¡çš„ä¸»æ–¹æ³•Hook Handle(request IRequest) // åœ¨å¤„ç†connä¸šåŠ¡ä¹‹åçš„é’©å­æ–¹æ³•Hook PostHandle(request IRequest) } ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:3","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"åˆ›å»ºå®ä½“Routerå±‚ type BaseRouter struct{} // PreHandle åœ¨å¤„ç†connä¸šåŠ¡ä¹‹å‰çš„é’©å­æ–¹æ³•Hook func (br *BaseRouter) PreHandle(request ziface.IRequest) { } // Handle åœ¨å¤„ç†connä¸šåŠ¡çš„ä¸»æ–¹æ³•Hook func (br *BaseRouter) Handle(request ziface.IRequest) { } // PostHandle åœ¨å¤„ç†connä¸šåŠ¡ä¹‹åçš„é’©å­æ–¹æ³•Hook func (br *BaseRouter) PostHandle(request ziface.IRequest) { } æˆ‘ä»¬æ³¨æ„åˆ°äº†ï¼Œåœ¨å®ä½“çš„Routerå±‚é‡Œæˆ‘ä»¬å†™äº†ç©ºçš„ç»“æ„ä½“ BaseRouterÂ ï¼Œè¿™é‡Œè®²ä¸€ä¸‹ç›®çš„ã€‚åœ¨å®ç°routeræ—¶ï¼Œæˆ‘ä»¬è¦åŸºäº BaseRouterÂ ï¼Œä¹Ÿå°±æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ç»§æ‰¿åŸºç±»ï¼Œç»§æ‰¿ä¹‹åå°±å¯ä»¥å¯¹è¿™ä¸ªåŸºç±»çš„æ–¹æ³•è¿›è¡Œé‡å†™ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰çš„routeræ²¡æœ‰å‰ç½®æˆ–åç½®å¤„ç†ä¸šåŠ¡ï¼Œåœ¨ç»§æ‰¿åŸºç±»åï¼Œæœ‰éœ€è¦å†™çš„å°±ç›´æ¥é‡å†™æ–¹æ³•å³å¯ï¼Œä¸éœ€è¦çš„ç›´æ¥å¿½ç•¥å³å¯ã€‚ ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:4","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"IServer æ·»åŠ è·¯ç”±æ·»åŠ åŠŸèƒ½ æˆ‘ä»¬éœ€è¦ç»™ IServerÂ ç»“æ„ä½“ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³• AddRouterÂ ï¼Œç›®çš„æ˜¯è®©æ¡†æ¶ä½¿ç”¨è€…è‡ªå®šä¹‰ä¸€ä¸ªRouterå¤„ç†ä¸šåŠ¡æ–¹æ³•ã€‚ åœ¨ zinx/ziface/iserver.goÂ ä¿®æ”¹å¦‚ä¸‹ï¼š type IServer interface { // å¯åŠ¨ Start() // ç»“æŸ Stop() // è¿è¡Œ Serve() // è·¯ç”±åŠŸèƒ½ï¼Œç»™å½“å‰çš„æœåŠ¡æ³¨å†Œä¸€ä¸ªè·¯ç”±æ–¹æ³• AddRouter(router IRouter) } ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:5","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"Serverä¸­æ·»åŠ Routeræˆå‘˜ åœ¨ zinx/znet/server.goÂ ä¿®æ”¹å¦‚ä¸‹ï¼š type Server struct { Name string IPVersion string IP string Port int // ç»™å½“å‰çš„Serveræ·»åŠ ä¸€ä¸ªrouterï¼ŒServeræ³¨å†Œçš„é“¾æ¥å¯¹åº”çš„å¤„ç†ä¸šåŠ¡ Router ziface.IRouter } åœ¨åˆå§‹åŒ– NewServer()Â æ–¹æ³•ä¸­ä¹Ÿè¦æ·»åŠ ä¸€ä¸ªåˆå§‹åŒ–æˆå‘˜ func NewServer(name string) ziface.IServer { return \u0026Server{ Name: name, IPVersion: \"tcp4\", IP: \"0.0.0.0\", Port: 8999, Router: nil, // åˆå§‹åŒ–ä¸ºnil } } è¿˜è®°å¾—åœ¨ä¹‹å‰ä¸´æ—¶åœ¨ ConnectionÂ ä¸­æ·»åŠ äº†ä¸€ä¸ª handleAPI ziface.HandleFuncÂ ï¼Œç›®çš„æ˜¯ä¸ºäº†ç›´æ¥åœ¨ä¸šåŠ¡å¤„ç†æ–¹æ³•ï¼Œå¦‚ä»Šæˆ‘ä»¬å°è£…äº†Routerï¼Œå°±æ˜¯ä¸ºäº†åœ¨Routerä¸­æºå¸¦ä¸šåŠ¡æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥åˆ æ‰äº†ï¼Œç„¶åæ·»åŠ å¤„ç†çš„ RouterÂ å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š // é“¾æ¥æ¨¡å— type Connection struct { // å½“å‰é“¾æ¥çš„socket TCPå¥—æ¥å­— Conn *net.TCPConn // é“¾æ¥çš„ID ConnID uint32 // å½“å‰çš„é“¾æ¥çŠ¶æ€ isClosed bool // å‘ŠçŸ¥å½“å‰é“¾æ¥å·²ç»é€€å‡º/åœæ­¢çš„ channel ExitChan chan bool // è¯¥é“¾æ¥å¤„ç†çš„æ–¹æ³•Router Router ziface.IRouter } ç„¶åå»å®ç°æ¥å£ä¸­çš„ AddRouterÂ æ–¹æ³• func (s *Server) AddRouter(r ziface.IRouter) { s.Router = r log.Println(\"Add router success!\") } åŒæ ·åœ¨åˆå§‹åŒ– NewConnectionÂ ä¸­æ·»åŠ router // åˆå§‹åŒ–é“¾æ¥æ¨¡å—çš„æ–¹æ³• func NewConnection(conn *net.TCPConn, connID uint32, router ziface.IRouter) *Connection { return \u0026Connection{ Conn: conn, ConnID: connID, isClosed: false, Router: router, ExitChan: make(chan bool, 1), } } æ¥ä¸‹æ¥å½“ç„¶æ˜¯å»å¤„ç†ä¹‹å‰åœ¨ StartReader()Â ä¸­å†™çš„è°ƒç”¨ HandleFuncÂ æ–¹æ³• åˆ æ‰ï¼š if err := c.handleAPI(c.Conn, buf, cnt); err != nil { log.Println(\"ConnID = \", c.ConnID, \"Handle is error: \", err) break } æ·»åŠ ï¼š // ä»è·¯ç”±ä¸­ï¼Œæ‰¾åˆ°æ³¨å†Œç»‘å®šçš„Connå¯¹åº”çš„routerè°ƒç”¨ req := Request{ conn: c, data: buf, } // æ‰§è¡Œæ³¨å†Œçš„è·¯ç”±æ–¹æ³• go func(request ziface.IRequest) { c.Router.PreHandle(request) c.Router.Handle(request) c.Router.PostHandle(request) }(\u0026req) ä»¥ä¸Šå®Œæˆäº†Zinxçš„è·¯ç”±æ¨¡å—åŠŸèƒ½ï¼Œæ¥ä¸‹æ¥æ˜¯æµ‹è¯•äº†ã€‚ æ‹·è´ä¹‹å‰çš„ v2 æµ‹è¯•åŒ…é‡å‘½åä¸º v3ã€‚ä¿®æ”¹ Server.goÂ ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ª IRouterÂ ï¼Œå¹¶é‡å†™é‡Œé¢çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š type PingRouter struct { znet.BaseRouter } // PreHandle åœ¨å¤„ç†connä¸šåŠ¡ä¹‹å‰çš„é’©å­æ–¹æ³•Hook func (p *PingRouter) PreHandle(request ziface.IRequest) { log.Println(\"Call Router PreHandle\") _, err := request.GetConnection().GetTCPConnection().Write([]byte(\"before.ping...\\n\")) if err != nil { log.Println(\"before ping error is \", err) } } // Handle åœ¨å¤„ç†connä¸šåŠ¡çš„ä¸»æ–¹æ³•Hook func (p *PingRouter) Handle(request ziface.IRequest) { log.Println(\"Call Router Handle\") _, err := request.GetConnection().GetTCPConnection().Write([]byte(\"ping...\\n\")) if err != nil { log.Println(\"ping error is \", err) } } // PostHandle åœ¨å¤„ç†connä¸šåŠ¡ä¹‹åçš„é’©å­æ–¹æ³•Hook func (p *PingRouter) PostHandle(request ziface.IRequest) { log.Println(\"Call Router PostHandle\") _, err := request.GetConnection().GetTCPConnection().Write([]byte(\"after.ping...\\n\")) if err != nil { log.Println(\"after ping error is \", err) } } åœ¨ mainÂ æ–¹æ³•ä¸­æ·»åŠ  RouterÂ  func main() { server := znet.NewServer(\"Zinx v3\") // æ·»åŠ è‡ªå®šä¹‰router server.AddRouter(\u0026PingRouter{}) server.Serve() } æµ‹è¯•ç»“æœå¦‚ä¸‹å›¾ï¼šï¼ˆå¯ä»¥çœ‹å‡ºä¸‰ä¸ªæ–¹æ³•æŒ‰ç…§é“¾å¼è¿›è¡Œï¼‰ æµ‹è¯•ç»“æœimage \" æµ‹è¯•ç»“æœ ç°åœ¨Zinxæ¡†æ¶çš„è·¯ç”±åªæ˜¯å•è·¯ç”±ç»“æ„ï¼Œåç»­ä¼šå¢åŠ å¤šè·¯ç”±åŠŸèƒ½ ","date":"2020-12-27","objectID":"/zinx-frame-v3/:0:6","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹Routeræ¨¡å—","uri":"/zinx-frame-v3/"},{"categories":["Golang"],"content":"Zinxæ˜¯ä¸€ä¸ªè½»é‡çº§TCPæœåŠ¡æ¡†æ¶ï¼Œä¼šè·Ÿç€è¯¾ç¨‹å¼€å§‹åšä¸€äº›ç¬”è®°ï¼ŒåŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—æ¨¡å—æ˜¯å°†v1ä¸­ç›´æ¥åœ¨startæ–¹æ³•ä¸­çš„åŠŸèƒ½æŠ½è±¡å‡ºä¸€ä¸ªConnectionï¼Œè¯¥Connectionåˆæœ‰ä¸šåŠ¡ç»‘å®šåŠŸèƒ½ã€‚","date":"2020-12-27","objectID":"/zinx-frame-v2/","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—è„‘å›¾img \" åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—è„‘å›¾ v1ç‰ˆæœ¬å·²ç»å®ç°äº†ä¸€ä¸ªåŸºç¡€çš„Serveræ¡†æ¶ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å¯¹å®¢æˆ·ç«¯é“¾æ¥å’Œä¸åŒçš„å®¢æˆ·ç«¯é“¾æ¥æ‰€å¤„ç†çš„ä¸åŒä¸šåŠ¡åœ¨åšä¸€å±‚æ¥å£å°è£…ã€‚åœ¨zifaceä¸‹åˆ›å»ºä¸€ä¸ªé“¾æ¥çš„æ¥å£æ–‡ä»¶ iconnection.goÂ ï¼Œä»¥åŠåœ¨znetç›®å½•ä¸‹çš„å®ç°æ–‡ä»¶ connection.goÂ ã€‚ ","date":"2020-12-27","objectID":"/zinx-frame-v2/:0:0","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"å®šä¹‰IConnectionæ¥å£ // IConnection å®šä¹‰é“¾æ¥æ¨¡å—çš„æŠ½è±¡å±‚ type IConnection interface { // å¯åŠ¨é“¾æ¥ è®©å½“å‰çš„é“¾æ¥å‡†å¤‡å¼€å§‹å·¥ä½œ Start() // åœæ­¢é“¾æ¥ ç»“æŸå½“å‰é“¾æ¥çš„å·¥ä½œ Stop() // è·å–å½“å‰é“¾æ¥çš„ç»‘å®š socket conn GetTCPConnection() *net.TCPConn // è·å–å½“å‰é“¾æ¥æ¨¡å—çš„é“¾æ¥ID GetConnID() uint32 // è·å–è¿œç¨‹å®¢æˆ·ç«¯çš„ TCP çŠ¶æ€ IP Port RemoteAddr() net.Addr // å‘é€æ•°æ® å°†æ•°æ®å‘é€ç»™è¿œç¨‹çš„å®¢æˆ·ç«¯ Send(data []byte) error } // å®šä¹‰ä¸€ä¸ªå¤„ç†é“¾æ¥ä¸šåŠ¡çš„æ–¹æ³• // ä¼ å…¥TCPå¥æŸ„ï¼Œæ•°æ®ä»¥åŠé•¿åº¦ type HandleFunc func(*net.TCPConn, []byte, int) error ","date":"2020-12-27","objectID":"/zinx-frame-v2/:0:1","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"å®šä¹‰Connectionç»“æ„ä½“ // é“¾æ¥æ¨¡å— type Connection struct { // å½“å‰é“¾æ¥çš„socket TCPå¥—æ¥å­— Conn *net.TCPConn // é“¾æ¥çš„ID ConnID uint32 // å½“å‰çš„é“¾æ¥çŠ¶æ€ isClosed bool // è¯¥é“¾æ¥çš„å¤„ç†æ–¹æ³•API handleAPI ziface.HandleFunc // å‘ŠçŸ¥å½“å‰é“¾æ¥å·²ç»é€€å‡º/åœæ­¢çš„ channel ExitChan chan bool } // åˆå§‹åŒ–é“¾æ¥æ¨¡å—çš„æ–¹æ³• func NewConnection(conn *net.TCPConn, connID uint32, callback_api ziface.HandFunc) *Connection { return \u0026Connection{ Conn: conn, ConnID: connID, isClosed: false, handleAPI: callback_api, ExitChan: make(chan bool, 1), } } ","date":"2020-12-27","objectID":"/zinx-frame-v2/:0:2","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"å®ç°IConnectionæ¥å£æ‰€æœ‰æ–¹æ³• Start()æ–¹æ³• // Start ... func (c *Connection) Start() { log.Printf(\"Connection Start... ConnID = %d\", c.ConnID) // å¯åŠ¨ä»å½“å‰é“¾æ¥çš„è¯»æ•°æ®çš„ä¸šåŠ¡ go c.StartReader() } // æ­¤æ—¶å•ç‹¬æ„é€ äº†ä¸€ä¸ªStartReaderæ–¹æ³•ï¼Œç”¨æ¥å¤„ç†å¼€å§‹è¯»çš„ä¸šåŠ¡ // StartReader å¼€å§‹è¯»çš„ä¸šåŠ¡ func (c *Connection) StartReader() { log.Println(\"Reader Goroutine is running...\") // è¯»å®Œä¸šåŠ¡ç»“æŸ defer c.Stop() // å…·ä½“ä¸šåŠ¡ for { // è¯»å–å®¢æˆ·ç«¯çš„æ•°æ®åˆ°bufä¸­ï¼Œæœ€å¤§512å­—èŠ‚ buf := make([]byte, 512) cnt, err := c.Conn.Read(buf) if err != nil { log.Println(\"read buf error \", err) continue } // è°ƒç”¨å½“å‰é“¾æ¥ç»‘å®šHandleFunc if err := c.handleAPI(c.Conn, buf, cnt); err != nil { log.Println(\"ConnID = \", c.ConnID, \"Handle is error: \", err) break } } } Stop()æ–¹æ³• // Stop åœæ­¢é“¾æ¥ ç»“æŸå½“å‰é“¾æ¥çš„å·¥ä½œ func (c *Connection) Stop() { log.Printf(\"Connection Stop... ConnID = %d\", c.ConnID) // å¦‚æœå·²ç»å…³é—­ if c.isClosed { return } // å…³é—­é“¾æ¥ c.isClosed = true _ = c.Conn.Close() // å›æ”¶èµ„æº close(c.ExitChan) } GetTCPConnection()æ–¹æ³• // GetTCPConnection è·å–å½“å‰é“¾æ¥çš„ç»‘å®š socket conn func (c *Connection) GetTCPConnection() *net.TCPConn { return c.Conn } GetConnID()æ–¹æ³• // GetConnID è·å–å½“å‰é“¾æ¥æ¨¡å—çš„é“¾æ¥ID func (c *Connection) GetConnID() uint32 { return c.ConnID } RemoteAddr()æ–¹æ³• // RemoteAddr è·å–è¿œç¨‹å®¢æˆ·ç«¯çš„ TCP çŠ¶æ€ IP Port func (c *Connection) RemoteAddr() net.Addr { return c.Conn.RemoteAddr() } Send()æ–¹æ³• // Send å‘é€æ•°æ® å°†æ•°æ®å‘é€ç»™è¿œç¨‹çš„å®¢æˆ·ç«¯ func (c *Connection) Send(data []byte) error { // todo return nil } ","date":"2020-12-27","objectID":"/zinx-frame-v2/:0:3","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"é“¾æ¥ç»‘å®šæ–¹æ³•å¤„ç† åœ¨v1ä¸­å›æ˜¾åŠŸèƒ½ç›´æ¥å†™åœ¨Startæ–¹æ³•ä¸­ï¼Œä½†æ˜¯åœ¨v2ä¸­æˆ‘ä»¬åœ¨Connectionç»“æ„ä½“ä¸­å®šä¹‰äº†è¯¥é“¾æ¥çš„å¤„ç†æ–¹æ³•APIï¼š handleFuncÂ ï¼Œæ‰€ä»¥æˆ‘ä»¬å» server.goÂ å¤–éƒ¨å®ç°ä¸€ä¸ªå›æ˜¾åŠŸèƒ½çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š // CallBackToClient å®šä¹‰å½“å‰å®¢æˆ·ç«¯é“¾æ¥æ‰€ç»‘å®šçš„handle api func CallBackToClient(conn *net.TCPConn, data []byte, cnt int) error { // å›æ˜¾çš„ä¸šåŠ¡ if _, err := conn.Write(data[:cnt]); err != nil { log.Println(\"write back buf err is \", err) return errors.New(\"CallBackToClient error\") } return nil } åœ¨ Start() æ–¹æ³•ä¸­å°†åŸæœ¬çš„å›æ˜¾åŠŸèƒ½åˆ æ‰ï¼Œä½¿ç”¨ NewConnectionÂ å»ç›´æ¥ç»‘å®šä¸€ä¸ªé“¾æ¥å’Œè¯¥é“¾æ¥ç»‘å®šçš„ä¸šåŠ¡æ–¹æ³•ã€‚ func (s *Server) Start() { fmt.Printf(\"[Start] Server Listener at IP: %s, Port: %d, is starting\\n\", s.IP, s.Port) go func() { // 1. è·å–ä¸€ä¸ªTCPçš„Addr addr, err := net.ResolveTCPAddr(s.IPVersion, fmt.Sprintf(\"%s:%d\", s.IP, s.Port)) if err != nil { log.Println(\"resolve tcp addr error: \", err) return } // 2. ç›‘å¬æœåŠ¡å™¨çš„åœ°å€ listener, err := net.ListenTCP(s.IPVersion, addr) if err != nil { log.Println(\"listen \", s.IPVersion, \"error \", err) return } log.Println(\"Start Zinx server success, \", s.Name, \"Listening...\") var cid uint32 = 0 // 3. é˜»å¡ç­‰å¾…æœåŠ¡å™¨é“¾æ¥ï¼Œå¤„ç†å®¢æˆ·ç«¯é“¾æ¥ä¸šåŠ¡ï¼ˆè¯»å†™ï¼‰ for { // å¦‚æœæœ‰å®¢æˆ·ç«¯è¿æ¥ï¼Œé˜»å¡ä¼šè¿”å› conn, err := listener.AcceptTCP() if err != nil { log.Println(\"Accept error \", err) continue } // å°†å¤„ç†æ–°é“¾æ¥çš„ä¸šåŠ¡æ–¹æ³•å’Œconnè¿›è¡Œç»‘å®šï¼Œå¾—åˆ°é“¾æ¥æ¨¡å— dealConn := NewConnection(conn, cid, CallBackToClient) cid++ // å¯åŠ¨ä¸šåŠ¡æ¨¡å— go dealConn.Start() } }() } ","date":"2020-12-27","objectID":"/zinx-frame-v2/:0:4","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"æµ‹è¯• å°†v1çš„æµ‹è¯•å¤åˆ¶ä¸€ä»½åˆ°v2é‡Œé¢ï¼Œå°†å…¶ä¸­çš„logä¿¡æ¯ä¿®æ”¹ä¸ºv2çš„æ•°æ®ï¼Œåœ¨ä¸¤ä¸ªæ§åˆ¶å°åˆ†åˆ«è¿è¡Œserver.goå’Œclient.go å¯ä»¥çœ‹åˆ°å®¢æˆ·ç«¯ä¸€ç›´å‘é€æ•°æ®ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯ä»¥ä¸€ç›´æ¥æ”¶åˆ°ã€‚ ","date":"2020-12-27","objectID":"/zinx-frame-v2/:0:5","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€é“¾æ¥å°è£…å’Œä¸šåŠ¡ç»‘å®šæ¨¡å—","uri":"/zinx-frame-v2/"},{"categories":["Golang"],"content":"Zinxæ˜¯ä¸€ä¸ªè½»é‡çº§TCPæœåŠ¡æ¡†æ¶ï¼Œä¼šè·Ÿç€è¯¾ç¨‹å¼€å§‹åšä¸€äº›ç¬”è®°ï¼ŒServeræ¨¡å—æ˜¯å¿«é€Ÿå®ç°Zinxæœ€å°ç‰ˆæœ¬çš„ä¸€ä¸ªåŸºç¡€æ¨¡å—ã€‚","date":"2020-12-27","objectID":"/zinx-frame-v1/","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"ç¬¬ä¸€ç«  åŸºç¡€Server Serverè„‘å›¾img \" Serverè„‘å›¾ ","date":"2020-12-27","objectID":"/zinx-frame-v1/:1:0","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"åˆ›å»ºæŠ½è±¡ä¸å®ä½“æ¨¡å— é¦–å…ˆåˆ›å»ºä¸¤ä¸ªæ¨¡å—ä½¿ç”¨ï¼Œä¸€ä¸ªæ˜¯ zifaceÂ ï¼Œä¸€ä¸ªæ˜¯ znetÂ ï¼Œåˆ†åˆ«åˆ›å»º ziface/iserver.goÂ å’Œ znet/server.goÂ ä½œä¸ºæ¥å£ï¼Œæˆ‘ä»¬å¯¹å¤–åªæä¾›æ–¹æ³•ï¼Œæ•…æŠ½è±¡å‡ºä¸‰ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š å¯åŠ¨æœåŠ¡å™¨æ–¹æ³• åœæ­¢æœåŠ¡å™¨æ–¹æ³• å¼€å¯ä¸šåŠ¡æœåŠ¡æ–¹æ³• iserver.goÂ : // IServer å®šä¹‰ServeræŠ½è±¡å±‚ type IServer interface { // å¯åŠ¨ Start() // ç»“æŸ Stop() // è¿è¡Œ Serve() } åœ¨server.goä¸­å®šä¹‰Serverç»“æ„ä½“å®ç°ä¸‰ä¸ªå±æ€§ æœåŠ¡å™¨å æœåŠ¡å™¨IP æœåŠ¡å™¨ç›‘å¬ç«¯å£ IPç‰ˆæœ¬ï¼ˆIPv4ã€IPv6ï¼‰ // Server åŒ…å«ä¸€ä¸ªæœåŠ¡å¿…è¦çš„å±æ€§ type Server struct { Name string IPVersion string IP string Port int } // NewServer å®ä¾‹Server func NewServer(name string) ziface.IServer { return \u0026Server{ Name: name, IPVersion: \"tcp4\", IP: \"0.0.0.0\", Port: 8999, } } æ¥ä¸‹æ¥å»å®ç°IServerä¸­æ‰€æœ‰æ–¹æ³• å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨éœ€è¦åˆ†ä¸ºä¸‰æ­¥ï¼š è·å–TCPçš„åœ°å€ ç›‘å¬æœåŠ¡å™¨åœ°å€ å¯åŠ¨Serverç½‘ç»œè¿æ¥ä¸šåŠ¡ ","date":"2020-12-27","objectID":"/zinx-frame-v1/:1:1","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"å®ç°Start() æ–¹æ³• // Start ... func (s *Server) Start() { fmt.Printf(\"[Start] Server Listener at IP: %s, Port: %d, is starting\\n\", s.IP, s.Port) go func() { // 1. è·å–ä¸€ä¸ªTCPçš„Addr addr, err := net.ResolveTCPAddr(s.IPVersion, fmt.Sprintf(\"%s:%d\", s.IP, s.Port)) if err != nil { log.Println(\"resolve tcp addr error: \", err) return } // 2. ç›‘å¬æœåŠ¡å™¨çš„åœ°å€ listener, err := net.ListenTCP(s.IPVersion, addr) if err != nil { log.Println(\"listen \", s.IPVersion, \"error \", err) return } log.Println(\"Start Zinx server success, \", s.Name, \"Listening...\") // 3. é˜»å¡ç­‰å¾…æœåŠ¡å™¨é“¾æ¥ï¼Œå¤„ç†å®¢æˆ·ç«¯é“¾æ¥ä¸šåŠ¡ï¼ˆè¯»å†™ï¼‰ for { // å¦‚æœæœ‰å®¢æˆ·ç«¯è¿æ¥ï¼Œé˜»å¡ä¼šè¿”å› conn, err := listener.AcceptTCP() if err != nil { log.Println(\"Accept error \", err) continue } // æš‚æ—¶åšä¸€ä¸ªæœ€å¤§512å­—èŠ‚çš„å›æ˜¾åŠŸèƒ½ go func () { //ä¸æ–­çš„å¾ªç¯ä»å®¢æˆ·ç«¯è·å–æ•°æ® for { buf := make([]byte, 512) cnt, err := conn.Read(buf) if err != nil { fmt.Println(\"recv buf err \", err) continue } //å›æ˜¾ if _, err := conn.Write(buf[:cnt]); err !=nil { fmt.Println(\"write back buf err \", err) continue } } }() } }() } ","date":"2020-12-27","objectID":"/zinx-frame-v1/:1:2","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"å®ç°Stop() æ–¹æ³• // Stop ... func (s *Server) Stop() { log.Println(\"[STOP] Zinx server , name \", s.Name) } ","date":"2020-12-27","objectID":"/zinx-frame-v1/:1:3","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"å®ç°Serve() æ–¹æ³• // Serve ... func (s *Server) Serve() { // å¯åŠ¨æœåŠ¡ s.Start() // todo ç”¨æ¥å†æ­¤å¤„å¤„ç†å…¶ä»–ä¸šåŠ¡ // é˜»å¡åœ¨æ­¤ï¼Œé˜²æ­¢ä¸»åç¨‹ç»“æŸ select {} } ","date":"2020-12-27","objectID":"/zinx-frame-v1/:1:4","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"æµ‹è¯• åœ¨é¡¹ç›®ä¸­åˆ›å»º v1/client.goÂ å’Œ v1/server.goÂ ä»£ç åˆ†åˆ«å¦‚ä¸‹ï¼š // client.go package main import ( \"log\" \"net\" \"time\" ) func main() { log.Println(\"client start...\") time.Sleep(1 * time.Second) // 1. ç›´æ¥é“¾æ¥è¿œç¨‹æœåŠ¡å™¨ï¼Œå¾—åˆ°ä¸€ä¸ªconné“¾æ¥ conn, err := net.Dial(\"tcp\", \"127.0.0.1:8999\") if err != nil { log.Println(\"client start error \", err) return } // 2. é“¾æ¥è°ƒç”¨writeå†™æ•°æ® for { _, err := conn.Write([]byte(\"Hello Zinx v1\")) if err != nil { log.Println(\"write buf error \", err) return } buf := make([]byte, 512) cnt, err := conn.Read(buf) if err != nil { log.Println(\"read buf error \", err) return } log.Printf(\"Server call back %s, cnt = %d\\n\", buf, cnt) // CPUé˜»å¡ time.Sleep(1 * time.Second) } } // server.go package main import \"Zinx/znet\" func main() { server := znet.NewServer(\"Zinx v1\") server.Serve() } åœ¨æ§åˆ¶å°åˆ†åˆ«è¿è¡Œserver.go å’Œ client.go å¯ä»¥çœ‹åˆ°clientä¸€ç›´åœ¨å‘é€ï¼Œserverä¹Ÿå¯ä»¥æ¥æ”¶ã€‚ ","date":"2020-12-27","objectID":"/zinx-frame-v1/:1:5","tags":["Golang","Zinx"],"title":"Zinxå­¦ä¹ ä¹‹åŸºç¡€Serveræ¨¡å—","uri":"/zinx-frame-v1/"},{"categories":["Golang"],"content":"åœ¨å†™è·¯ç”±ä¸­é—´ä»¶æ—¶æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå»è·å–Requestæºå¸¦çš„å‚æ•°ç„¶åå»æ‹¦æˆªæ˜¯å¦åˆæ³•ï¼Œè¿™æ—¶å€™åœ¨ä¸‹æ¸¸çš„Controllerå±‚å†æ¬¡å»è·å–bodyç«Ÿç„¶å‘ç°ç»“æœä¸ºç©ºï¼Œç‰¹æ­¤è®°å½•åŸå› å’Œè§£å†³æ–¹æ¡ˆ","date":"2020-12-19","objectID":"/golang-request-body-reuse/","tags":["Golang"],"title":"Golangä¹‹Request.Bodyå¤ç”¨","uri":"/golang-request-body-reuse/"},{"categories":["Golang"],"content":" åœ¨å†™è·¯ç”±ä¸­é—´ä»¶æ—¶æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå»è·å–Requestæºå¸¦çš„å‚æ•°ç„¶åå»æ‹¦æˆªæ˜¯å¦åˆæ³•ï¼Œè¿™æ—¶å€™åœ¨ä¸‹æ¸¸çš„Controllerå±‚å†æ¬¡å»è·å–bodyç«Ÿç„¶å‘ç°ç»“æœä¸ºç©ºï¼Œç‰¹æ­¤è®°å½•åŸå› å’Œè§£å†³æ–¹æ¡ˆ ç”±äºhttp.Request.Bodyæ˜¯io.ReadCloserç±»å‹ï¼Œæ‰€ä»¥éœ€è¦å¸¦æœ‰æ— æ“ä½œcloseæ–¹æ³•çš„ReadCloserå»å¤åˆ¶ ","date":"2020-12-19","objectID":"/golang-request-body-reuse/:0:0","tags":["Golang"],"title":"Golangä¹‹Request.Bodyå¤ç”¨","uri":"/golang-request-body-reuse/"},{"categories":["Golang"],"content":"è§£å†³æ–¹æ¡ˆ // å‡è®¾ræ˜¯http.Requestç±»å‹ // æˆ‘ä»¬æ‹¿åˆ°bodyå­—èŠ‚æµæ•°æ® b, _ := ioutil.ReadAll(r.Body) // ç”¨è¯¥æ–¹æ³•ç»§ç»­å°†æ•°æ®å†™å…¥Bodyç”¨äºä¼ é€’ r.Body = ioutil.NopCloser(bytes.NewBuffer(b)) ","date":"2020-12-19","objectID":"/golang-request-body-reuse/:1:0","tags":["Golang"],"title":"Golangä¹‹Request.Bodyå¤ç”¨","uri":"/golang-request-body-reuse/"},{"categories":["Golang"],"content":"åˆ†æåŸå›  å¤§å¤šæ•°Httpæ¡†æ¶éƒ½æ˜¯è¿™æ ·å®ç°çš„ï¼Œåªè¯»ä¸€æ¬¡ï¼Œæ˜¯å› ä¸ºæŒæœ‰çš„ç¼“å†²åŒºçš„æŒ‡é’ˆéƒ½æ˜¯å¾€å‰è¯»çš„ï¼Œå¦‚æœä¸€ç›´æŒæœ‰ç¼“å†²åŒºè€Œä¸é‡Šæ”¾ä¼šå‡ºé—®é¢˜ï¼Œå¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå‡å¦‚å¯ä»¥å¤šæ¬¡é‡å¤è¯»ï¼Œé‚£ä¹ˆç”¨æˆ·è¿æ¥æ‰€äº§ç”Ÿçš„çš„å†…å­˜å ç”¨çš„ç¼“å†²åŒºæœ‰å¤šå¤§å‘¢ï¼Ÿä»€ä¹ˆæ—¶å€™é‡Šæ”¾å‘¢ï¼Ÿ åœ¨å®é™…å¼€å‘ä¸­ï¼Œå“åº”ä¸»ä½“æŒæœ‰çš„èµ„æºå¯èƒ½ä¼šå¾ˆå¤§ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šå°†å…¶ç›´æ¥ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œåªæ˜¯æŒæœ‰æ•°æ®æµè¿æ¥ã€‚å½“æˆ‘ä»¬éœ€è¦æ—¶ï¼Œæ‰ä¼šä»æœåŠ¡å™¨è·å–æ•°æ®å¹¶è¿”å›ã€‚åŒæ—¶ï¼Œè€ƒè™‘åˆ°åº”ç”¨é‡å¤è¯»å–æ•°æ®çš„å¯èƒ½æ€§å¾ˆå°ï¼Œæ‰€ä»¥å°†å…¶è®¾è®¡ä¸ºä¸€æ¬¡æ€§æµï¼ˆone-shotï¼‰,å³â€œè¯»å–åç«‹å³å…³é—­å¹¶é‡Šæ”¾èµ„æºâ€ã€‚ ","date":"2020-12-19","objectID":"/golang-request-body-reuse/:2:0","tags":["Golang"],"title":"Golangä¹‹Request.Bodyå¤ç”¨","uri":"/golang-request-body-reuse/"},{"categories":["Golang"],"content":"æºç åˆ†æ å¾…æ›´æ–°â€¦ ","date":"2020-12-19","objectID":"/golang-request-body-reuse/:3:0","tags":["Golang"],"title":"Golangä¹‹Request.Bodyå¤ç”¨","uri":"/golang-request-body-reuse/"},{"categories":["Docker"],"content":"è§£å†³Ubuntuå¯åŠ¨Docker 'Got permission denied while trying to connect to the Docker daemon socket' é—®é¢˜ã€‚","date":"2020-11-11","objectID":"/ubuntu-docker-permission-denied/","tags":["Docker"],"title":"Ubuntuå¯åŠ¨DockeræŠ¥æ²¡æœ‰æƒé™","uri":"/ubuntu-docker-permission-denied/"},{"categories":["Docker"],"content":"é—®é¢˜æè¿° â€‹ è§£å†³Ubuntuå¯åŠ¨Docker â€œGot permission denied while trying to connect to the Docker daemon socketâ€ é—®é¢˜ã€‚åœ¨ç»ˆç«¯æ‰§è¡Œ docker version å‘½ä»¤ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ docker versionimage-20201111081455844 \" docker version ","date":"2020-11-11","objectID":"/ubuntu-docker-permission-denied/:1:0","tags":["Docker"],"title":"Ubuntuå¯åŠ¨DockeræŠ¥æ²¡æœ‰æƒé™","uri":"/ubuntu-docker-permission-denied/"},{"categories":["Docker"],"content":"åŸå› åˆ†æ â€‹ dockerè¿›ç¨‹ä½¿ç”¨ Unix Socket è€Œä¸æ˜¯ TCP ç«¯å£ã€‚è€Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒUnix socket å±äº root ç”¨æˆ·ï¼Œå› æ­¤éœ€è¦ rootæƒé™ æ‰èƒ½è®¿é—®ã€‚ ","date":"2020-11-11","objectID":"/ubuntu-docker-permission-denied/:2:0","tags":["Docker"],"title":"Ubuntuå¯åŠ¨DockeræŠ¥æ²¡æœ‰æƒé™","uri":"/ubuntu-docker-permission-denied/"},{"categories":["Docker"],"content":"è§£å†³æ–¹æ¡ˆ â€‹ å°† docker æ·»åŠ è¿›ç”¨æˆ·ç»„ï¼Œä»£ç å¦‚ä¸‹ï¼Œä¾æ¬¡æ‰§è¡Œï¼š 1. æ·»åŠ dockerç”¨æˆ·ç»„ sudo groupadd docker 2. æ£€æµ‹å½“å‰ç”¨æˆ·æ˜¯å¦å·²ç»åœ¨dockerç”¨æˆ·ç»„ä¸­ï¼Œå…¶ä¸­XXXä¸ºç³»ç»Ÿç”¨æˆ·å sudo gpasswd -a $XXX docker 3. å°†å½“å‰ç”¨æˆ·æ·»åŠ è‡³dockerç”¨æˆ·ç»„ sudo gpasswd -a $USER docker 4. æ›´æ–°dockerç”¨æˆ·ç»„ newgrp docker è§£å†³æ–¹æ¡ˆimage-20201111081917641 \" è§£å†³æ–¹æ¡ˆ ","date":"2020-11-11","objectID":"/ubuntu-docker-permission-denied/:3:0","tags":["Docker"],"title":"Ubuntuå¯åŠ¨DockeræŠ¥æ²¡æœ‰æƒé™","uri":"/ubuntu-docker-permission-denied/"},{"categories":["Docker"],"content":"æ£€æŸ¥ç»“æœ å†æ¬¡æ‰§è¡Œ docker version å‘½ä»¤ï¼Œå‘ç°ä¸å†å‡ºç°ç¼ºå¤±æƒé™çš„é—®é¢˜ æœ¬æ–‡å‚è€ƒæ–‡ç« ï¼š CSDN ","date":"2020-11-11","objectID":"/ubuntu-docker-permission-denied/:4:0","tags":["Docker"],"title":"Ubuntuå¯åŠ¨DockeræŠ¥æ²¡æœ‰æƒé™","uri":"/ubuntu-docker-permission-denied/"},{"categories":["MySQL"],"content":"åœ¨Ubuntuç³»ç»Ÿä¸­å®‰è£…äº†MySQLä¹‹å,ä¸çŸ¥é“å¯†ç æ˜¯ä»€ä¹ˆæ— æ³•ç™»å½•ï¼Œæœ¬æ–‡è®°å½•è§£å†³æ–¹æ¡ˆã€‚","date":"2020-11-10","objectID":"/ubuntu-mysql-lost-passowrd/","tags":["MySQL"],"title":"Ubuntuå®‰è£…MySQLåæ²¡æœ‰åˆå§‹å¯†ç ä¹‹è§£å†³æ–¹æ¡ˆ","uri":"/ubuntu-mysql-lost-passowrd/"},{"categories":["MySQL"],"content":"â€‹ â€‹ åœ¨Ubuntuç³»ç»Ÿä¸­å®‰è£…äº†MySQLä¹‹åï¼Œæ ¹æ®æ“ä½œçœ‹æ˜¯æœ‰ä¸€ä¸ªäº¤äº’éœ€è¦è®¾ç½®å¯†ç çš„ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å‡ºç°è®¾ç½®å¯†ç çš„ç¯èŠ‚ï¼Œå‹æ ¹ç™»å½•ä¸äº†ï¼Œå°è¯•æŸ¥çœ‹è¿‡ var/log/mysql/error.logï¼Œçœ‹åˆ°çš„å†…å®¹æ˜¾ç¤ºå¯†ç ä¸ºç©ºï¼Œè¿˜æ˜¯æ²¡æœ‰ç”¨ã€‚ â€‹ è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š åœ¨ç»ˆç«¯è¾“å…¥ sudo cat/etc/mysql/debian.cnfï¼Œå¦‚ä¸‹å›¾ debian.cnfimage-20201110235553156 \" debian.cnf ç”¨ä¸Šé¢çš„user å’Œ password ç™»å½•mysqlï¼Œå¦‚å›¾ ç™»å½•æˆåŠŸimage-20201110235713406 \" ç™»å½•æˆåŠŸ ç™»å½•è¿›æ¥ä¹‹åï¼Œå°±å¯ä»¥ä¿®æ”¹mysqlçš„å¯†ç äº†ï¼Œä½¿ç”¨åˆ°çš„å‘½ä»¤å¦‚ä¸‹ï¼Œä¹Ÿå¯ä»¥å‚è€ƒä¹‹å‰çš„ MySQL5.7ä¿®æ”¹rootå¯†ç  1.é€‰æ‹©mysqlåº“usemysql2.æ›´æ–°å¯†ç updatemysql.usersetauthentication_string=password('è¿™é‡Œè®¾ç½®æ–°å¯†ç ')whereuser='root'andHost='localhost';3.æ›´æ–°pluginupdateusersetplugin=\"mysql_native_password\";4.åˆ·æ–°flushprivileges;5.é€€å‡ºquit; â€‹ æ“ä½œå¦‚å›¾æ‰€ç¤ºï¼š ä¿®æ”¹å¯†ç image-20201111080453889 \" ä¿®æ”¹å¯†ç  é‡å¯MySQLæœåŠ¡ sudoservicemysqlrestart ä»¥ä¸Šå°±æ˜¯å…¨éƒ¨ï¼Œå†æ¬¡ç™»å½•ä½¿ç”¨rootå’Œè®¾ç½®çš„å¯†ç å°±å¯ä»¥ç™»å½• æœ¬æ–‡å‚è€ƒæ–‡ç« CNBLOGS ","date":"2020-11-10","objectID":"/ubuntu-mysql-lost-passowrd/:0:0","tags":["MySQL"],"title":"Ubuntuå®‰è£…MySQLåæ²¡æœ‰åˆå§‹å¯†ç ä¹‹è§£å†³æ–¹æ¡ˆ","uri":"/ubuntu-mysql-lost-passowrd/"},{"categories":["Notes"],"content":"æŠ˜è…¾æ¥æŠ˜è…¾å»åˆå›åˆ°äº†windowsï¼Œå› ä¸ºä¸€å—2kå±æŠ›å¼ƒäº†ä½“éªŒè‰¯å¥½çš„é»‘è‹¹æœï¼Œç”±äºè£…äº†ä¼ä¸šç‰ˆï¼Œå‘ç°ä¼ä¸šç‰ˆä¸ä¼šå¸¦Microsoft Storeï¼Œæ•…æŸ¥èµ„æ–™å‘ç°äº†è§£å†³æ–¹æ³•ï¼Œæ­¤æ–‡æ’çœ¼è®°å½•ã€‚","date":"2020-11-08","objectID":"/win10-missing-microsoftstore/","tags":["mood"],"title":"win10ä¼ä¸šç‰ˆç¼ºå¤±Microsoft StoreåŠä¸€é”®åˆ‡æ¢ç‰ˆæœ¬","uri":"/win10-missing-microsoftstore/"},{"categories":["Notes"],"content":" æŠ˜è…¾æ¥æŠ˜è…¾å»åˆå›åˆ°äº†windowsï¼Œå› ä¸ºä¸€å—2kå±æŠ›å¼ƒäº†ä½“éªŒè‰¯å¥½çš„é»‘è‹¹æœï¼Œç”±äºè£…äº†ä¼ä¸šç‰ˆï¼Œå‘ç°ä¼ä¸šç‰ˆä¸ä¼šå¸¦Microsoft Storeï¼Œæ•…æŸ¥èµ„æ–™å‘ç°äº†è§£å†³æ–¹æ³•ï¼Œæ­¤æ–‡æ’çœ¼è®°å½•ã€‚ ","date":"2020-11-08","objectID":"/win10-missing-microsoftstore/:0:0","tags":["mood"],"title":"win10ä¼ä¸šç‰ˆç¼ºå¤±Microsoft StoreåŠä¸€é”®åˆ‡æ¢ç‰ˆæœ¬","uri":"/win10-missing-microsoftstore/"},{"categories":["Notes"],"content":"ä¸‹è½½åŒ… æ‰“å¼€ç½‘å€ Microsoft Store - Generation Projec ä»¥ PackageFamilyName æ–¹å¼æœç´¢ Microsoft.WindowsStore_8wekyb3d8bbwe æ ¹æ®ç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„åŒ…ï¼Œä¸€å…±éœ€è¦ä¸‹è½½4ä¸ªå®‰è£…åŒ…ï¼ˆæ¯ç±»ç§é€‰æ‹©ä¸€ä¸ªï¼‰éƒ½è¦ä¸‹è½½(64ä½å¯ä»¥ä¸‹è½½32çš„ï¼Œ32åªä¸‹è½½32çš„å°±å¯) é€‰æ‹©ç‰ˆæœ¬image-20201108190353787 \" é€‰æ‹©ç‰ˆæœ¬ ","date":"2020-11-08","objectID":"/win10-missing-microsoftstore/:1:0","tags":["mood"],"title":"win10ä¼ä¸šç‰ˆç¼ºå¤±Microsoft StoreåŠä¸€é”®åˆ‡æ¢ç‰ˆæœ¬","uri":"/win10-missing-microsoftstore/"},{"categories":["Notes"],"content":"å®‰è£…åŒ… ä»¥ä¸Šä¸‹è½½çš„æ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œç„¶ååœ¨å½“å‰ç›®å½•æ‰“å¼€Powershellï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£… Add-AppxPackage * éšåçœ‹åˆ°è¿›åº¦æ¡ä¸‹è½½ä¸­å°±è¯´æ˜okï¼Œç„¶åå°±å¯ä»¥æœåˆ°Storeåº”ç”¨äº† æœ¬æ–‡å‚è€ƒè‡ªï¼šCSDN ","date":"2020-11-08","objectID":"/win10-missing-microsoftstore/:2:0","tags":["mood"],"title":"win10ä¼ä¸šç‰ˆç¼ºå¤±Microsoft StoreåŠä¸€é”®åˆ‡æ¢ç‰ˆæœ¬","uri":"/win10-missing-microsoftstore/"},{"categories":["Notes"],"content":"winä¸€é”®åˆ‡æ¢ç‰ˆæœ¬ ä¼ä¸šç‰ˆå¤ªä¸é€‚åˆå¼€å‘å…šäº†ï¼Œæƒ³ä¸‹è½½ä¸ªæ–°ç‰ˆ Terminalç‰ˆæœ¬éƒ½ä¸å¤Ÿï¼Œåªèƒ½åˆ‡æ¢åˆ°ä¸“ä¸šç‰ˆäº† ä¸€é”®åˆ‡æ¢è½¯ä»¶image-20201108191221252 \" ä¸€é”®åˆ‡æ¢è½¯ä»¶ ä¸‹è½½åœ°å€ï¼šhttps://wwa.lanzous.com/ihWfli71vzc å¯†ç :2vgu ","date":"2020-11-08","objectID":"/win10-missing-microsoftstore/:3:0","tags":["mood"],"title":"win10ä¼ä¸šç‰ˆç¼ºå¤±Microsoft StoreåŠä¸€é”®åˆ‡æ¢ç‰ˆæœ¬","uri":"/win10-missing-microsoftstore/"},{"categories":["Golang"],"content":"äº†è§£æ­£åˆ™è¡¨è¾¾å¼ç¯è§†çš„ä½¿ç”¨æ–¹æ³•ï¼ŒçŸ¥é“Golangä¸ºä»€ä¹ˆä¸æ”¯æŒè¯¥åŠŸèƒ½ï¼Œå®ç°ä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯ã€‚","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":" æœ€è¿‘å†™äº†ä¸€ä¸ªæ­£åˆ™æ¥è¡¨è¾¾é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œç‰¹æ­¤è®°å½• ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:0:0","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":"äº†è§£è§„åˆ™ å¯†ç å¼ºåº¦è§„åˆ™ å¿…é¡»æœ‰å¤§å†™å­—æ¯ å¿…é¡»æœ‰å°å†™å­—æ¯ å¿…é¡»æœ‰ä¸€ä¸ªæ•°å­—æˆ–è€…æ ‡ç‚¹ç¬¦å· å¯†ç é•¿åº¦ä¸º6åˆ°14ä½ é¦–å…ˆçœ‹ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼ ^((?=.*\\d)|(?=.*[\\\\\\^\\$\\.\\*\\+\\?\\{\\}\\(\\)\\[\\]\\|]+))(?=.*[a-z])(?=.*[A-Z]).{6, 14}$ åŒ¹é…ç»“æœimage-20200915220733612 \" åŒ¹é…ç»“æœ å¯ä»¥çœ‹åˆ°å›¾ç‰‡ï¼Œè¯¥æ­£åˆ™æ˜¯å¯ä»¥æ­£ç¡®åˆ¤æ–­çš„ é‚£ä¹ˆæˆ‘ä»¬æŠŠè¯¥æ­£åˆ™ç”¨Goå†™ä¸€ä¸‹ï¼Œå¦‚ä¸‹ func main() { reg := `^((?=.*\\d)|(?=.*[\\\\\\^\\$\\.\\*\\+\\?\\{\\}\\(\\)\\[\\]\\|]+))(?=.*[a-z])(?=.*[A-Z]).{6, 14}$` matchString, err := regexp.MatchString(reg, \"123456\") if err != nil { log.Println(\"err is \", err) } log.Println(\"Res is \", matchString) } æŠ¥é”™å¦‚ä¸‹ 2020/09/15 21:51:46 err is error parsing regexp: invalid or unsupported Perl syntax: `(?=` æ‹¿ç€è¯¥é—®é¢˜å»googleä¸€ä¸‹ï¼Œå‘ç°å®˜æ–¹å¹¶ä¸æ”¯æŒæ­£åˆ™ä¸­çš„ ç¯è§†ï¼ˆlookaroundï¼‰ï¼Œè¯´æ˜¯ä¸ç¬¦åˆGoçš„é£æ ¼ï¼Œå› ä¸ºå®ƒçš„å¤æ‚åº¦ç›¸å¯¹æ¯”è¾ƒé«˜ï¼Œæ¯•ç«Ÿæ˜¯è¦å…¨å±€å»æœä¸€ä¸‹çš„ The go regexp package uses RE2 syntax, not PCRE github.com/google/re2/wiki/Syntax ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:1:0","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":"ä»£æ›¿æ–¹æ³• é‚£æ—¢ç„¶æ­£åˆ™ä¸æ”¯æŒäº†ï¼Œå°±åªèƒ½é€šè¿‡å†™ä¸ªæ–¹æ³•ä»£æ›¿äº†ï¼Œä¸è¿‡ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¦‚ä¸‹ func VerifyPasswordRule(str string, minLen, maxLen int) error { var ( isUpper = false isLower = false isNumber = false isSpecial = false ) if len(str) \u003c minLen || len(str) \u003e maxLen { return errors.New(\"The password must contain uppercase and lowercase letters, numbers or punctuation, and must be 6-14 digits long. \") } for _, s := range str { switch { case unicode.IsUpper(s): isUpper = true case unicode.IsLower(s): isLower = true case unicode.IsNumber(s): isNumber = true case unicode.IsPunct(s) || unicode.IsSymbol(s): isSpecial = true default: } } if (isUpper \u0026\u0026 isLower) \u0026\u0026 (isNumber || isSpecial) { return nil } return errors.New(\"The password must contain uppercase and lowercase letters, numbers or punctuation, and must be 6-14 digits long. \") } ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:2:0","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":"äº†è§£ç¯è§† ç¯è§†æ˜¯ä»€ä¹ˆï¼Œç¯è§†æ˜¯æ­£åˆ™ä¸­çš„ä¸€ä¸ªéš¾ç‚¹ï¼Œä½†æ˜¯åœ¨å®é™…åº”ç”¨èµ·æ¥çœŸçš„å¾ˆæ–¹é¢ï¼Œæ¯”å¦‚å»å¯»æ‰¾ä¸€ä¸ªä¸²ä¸­æ˜¯å¦å‡ºç°è¿‡çš„è¿™ç§æƒ…å†µå°±ååˆ†æ–¹ä¾¿ï¼Œä½†æ˜¯ç”±äºå…¨å±€å»éå†ä¹Ÿå°±å¯¼è‡´äº†ä»–çš„å¤æ‚åº¦ä¸Šæ¥ã€‚ç¯è§†ä¸åŒ¹é…æ–‡æœ¬ä¸­çš„ä»»ä½•å­—ç¬¦ï¼ŒåªåŒ¹é…æ–‡æœ¬ä¸­çš„ç‰¹å®šä½ç½®ã€‚ç¯è§†ç±»ä¼¼äºå®šä½ç¬¦ ^, $, \\bï¼Œä¸ä¼šå ç”¨å­—ç¬¦ ç¯è§†åˆ†ä¸º é¡ºåºç¯è§†ã€ é€†åºç¯è§†ä¸¤ç§ ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:3:0","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":"é¡ºåºç¯è§† ç±»å‹ æ­£åˆ™è¡¨è¾¾å¼ åŒ¹é…æˆåŠŸçš„æ¡ä»¶ è‚¯å®šé¡ºåºç¯è§† (?=exp) å­è¡¨è¾¾å¼ èƒ½å¤Ÿ åŒ¹é… å³ä¾§ æ–‡æœ¬ å¦å®šé¡ºåºç¯è§† (?!exp) å­è¡¨è¾¾å¼ ä¸èƒ½ åŒ¹é… å³ä¾§ æ–‡æœ¬ é¡ºåºç¯è§†ä¼šæ£€æŸ¥å­è¡¨è¾¾å¼ exp èƒ½å¦åŒ¹é…æˆåŠŸï¼Œä¸”åªå¯»æ‰¾å­è¡¨è¾¾å¼åŒ¹é…æˆåŠŸæ—¶å·¦ä¾§ä½ç½®ï¼Œå³å­è¡¨è¾¾å¼èƒ½å¤ŸåŒ¹é…å³ä¾§æ–‡æœ¬ é¡ºåºç¯è§†image-20200915225541491 \" é¡ºåºç¯è§† ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:3:1","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":"é€†åºç¯è§† ç±»å‹ æ­£åˆ™è¡¨è¾¾å¼ åŒ¹é…æˆåŠŸçš„æ¡ä»¶ è‚¯å®šé€†åºç¯è§† (?\u003c=exp) å­è¡¨è¾¾å¼ èƒ½å¤Ÿ åŒ¹é… å·¦ä¾§ æ–‡æœ¬ å¦å®šé€†åºç¯è§† (?\u003c!exp) å­è¡¨è¾¾å¼ ä¸èƒ½ åŒ¹é… å·¦ä¾§ æ–‡æœ¬ é€†åºç¯è§†åŒæ ·ä¼šæ£€æŸ¥å­—è¡¨è¾¾å¼å­ expçš„åŒ¹é…ï¼Œè¿™æ¬¡åŒ¹é…çš„æ˜¯å·¦ä¾§æ–‡æœ¬ é€†åºç¯è§†image-20200915225506021 \" é€†åºç¯è§† ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:3:2","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Golang"],"content":"ä¾‹å­ æ¯”è¾ƒç»å…¸çš„æœ‰æ•°å­—æ˜¾ç¤ºé—®é¢˜ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸è§åˆ°çš„ 12345 è¦æ˜¾ç¤ºæˆ 12,345ï¼Œå°±æ˜¯ä»å³å¾€å·¦æ¯éš”ä¸‰ä¸ªä½ç½®åŠ ä¸€ä¸ªé€—å· // æ­£åºç¯è§† (?\u003c=\\d)(?=(\\d{3})+$) // é€†åºç¯è§† (?=(\\d{3})+$)(?\u003c=\\d) ç”¨ä»¥ä¸Šçš„è¡¨è¾¾å¼åŒ¹é…ä½ç½®æ›¿æ¢ä¸ºé€—å·å³å¯ ","date":"2020-09-15","objectID":"/regex-lookground-verify-passowrd/:3:3","tags":["Golang"],"title":"Golangä¸€ä¸ªç®€å•çš„å¯†ç å¼ºåº¦éªŒè¯","uri":"/regex-lookground-verify-passowrd/"},{"categories":["Docker"],"content":"Dockeræ— ç–‘æ˜¯äº‘åŸç”Ÿæ—¶ä»£ä¸å¯ç¼ºå°‘çš„çŸ¥è¯†æŠ€èƒ½ï¼Œæˆ‘å°†ä¸€ç‚¹ä¸€ç‚¹å­¦Dockerï¼Œå¾ªåºæ¸è¿›ï¼Œæœ¬æ–‡ä½œä¸ºè‡ªå·±å­¦ä¹ Dockerçš„ç¬”è®°","date":"2020-09-05","objectID":"/docker-study-notes/","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"å®‰è£… é¦–å…ˆåœ¨å®‰è£…Dockerä¹‹å‰ï¼Œéœ€è¦æ·»åŠ Dockerå®‰è£…æº $ sudo yum-config-manager\\ -add-repo\\ https://download.docker.com/linux/centos/docker-ce-repo å®‰è£…æœ€æ–°ç‰ˆæœ¬docker $ sudo yum install docker-ce docker-ce-cli containerd.io ","date":"2020-09-05","objectID":"/docker-study-notes/:1:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"å¯åŠ¨ $ sudo systemctl start docker ","date":"2020-09-05","objectID":"/docker-study-notes/:2:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"å®¹å™¨åŸç†æŠ€æœ¯ ","date":"2020-09-05","objectID":"/docker-study-notes/:3:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"Chroot chroot æ˜¯åœ¨Unixå’ŒLinuxç³»ç»Ÿçš„ä¸€ä¸ªæ“ä½œï¼Œé’ˆå¯¹æ­£åœ¨è¿è¡Œçš„è½¯ä»¶è¡Œç¨‹å’Œå®ƒçš„å­è¿›ç¨‹ï¼Œæ”¹å˜å®ƒå¤–æ˜¾çš„æ ¹ç›®å½•ã€‚ä¸€ä¸ªè¿è¡Œåœ¨è¿™ä¸ªç¯å¢ƒä¸‹ï¼Œç»ç”±chroot è®¾ç½®æ ¹ç›®å½•çš„ç¨‹åºï¼Œä»–ä¸èƒ½å¤Ÿå¯¹è¿™ä¸ªæŒ‡å®šæ ¹ç›®å½•ä¹‹å¤–çš„æ–‡ä»¶è¿›è¡Œè®¿é—®åŠ¨ä½œï¼Œä¸èƒ½è¯»å–ï¼Œä¹Ÿä¸èƒ½æ›´æ”¹å®ƒçš„å†…å®¹ã€‚ ","date":"2020-09-05","objectID":"/docker-study-notes/:3:1","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"Namespace Namespaceå¯¹å†…æ ¸èµ„æºè¿›è¡Œéš”ç¦»ï¼Œä½¿å¾—å®¹å™¨ä¸­çš„è¿›ç¨‹éƒ½å¯ä»¥åœ¨å•ç‹¬çš„å‘½åç©ºé—´ä¸­è¿è¡Œå¹¶ä¸”åªå¯ä»¥è®¿é—®å½“å‰å®¹å™¨å‘½åç©ºé—´çš„èµ„æºã€‚ Namesapceå¯ä»¥éš”ç¦»è¿›ç¨‹IDã€ä¸»æœºåã€ç”¨æˆ·IDã€æ–‡ä»¶åã€ç½‘ç»œè®¿é—®å’Œè¿›ç¨‹é—´é€šä¿¡ç­‰ç›¸å…³èµ„æºã€‚ Dockerç”¨åˆ°ä»¥ä¸‹äº”ç§å‘½åç©ºé—´ Pid Namespace ç”¨äºéš”ç¦»è¿›ç¨‹ID Net Namespace ç”¨äºéš”ç¦»ç½‘ç»œæ¥å£ï¼Œä½¿ç”¨æˆ·æ‹¥æœ‰ç‹¬ç«‹çš„IPã€è·¯ç”±ã€ç«¯å£ç­‰ Mnt Namespace ç”¨äºæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹éš”ç¦» Ipc Namespace ç”¨äºä¿¡å·é‡ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜çš„éš”ç¦» Uts Namespace ç”¨äºä¸»æœºåå’ŒåŸŸåçš„éš”ç¦» ","date":"2020-09-05","objectID":"/docker-study-notes/:3:2","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"Cgroup Cgroup æ˜¯ä¸€ç§Linuxå†…æ ¸åŠŸèƒ½ï¼Œå¯ä»¥é™åˆ¶å’Œéš”ç¦»è¿›ç¨‹çš„èµ„æºä½¿ç”¨æƒ…å†µï¼ˆCPUã€å†…å­˜ã€ç£ç›˜I/Oã€ç½‘ç»œç­‰ï¼‰ ","date":"2020-09-05","objectID":"/docker-study-notes/:3:3","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"è”åˆæ–‡ä»¶ç³»ç»Ÿ è”åˆæ–‡ä»¶ç³»ç»Ÿ åˆå« UnionFS ï¼Œæ˜¯ä¸€ç§é€šè¿‡åˆ›å»ºæ–‡ä»¶å±‚è¿›ç¨‹æ“ä½œçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¸¸ç”¨çš„è”åˆæ–‡ä»¶ç³»ç»Ÿæœ‰AUFSã€Overlayå’ŒDevicemapperç­‰ ","date":"2020-09-05","objectID":"/docker-study-notes/:3:4","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"é•œåƒ é•œåƒæ˜¯å®¹å™¨ä¸å¯æˆ–ç¼ºçš„ä½¿ç”¨æ¡ä»¶ï¼Œæ˜¯ä»¥åªè¯»çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ç»„åˆï¼Œæ˜¯Docker å®¹å™¨å¯åŠ¨çš„å…ˆå†³æ¡ä»¶ ","date":"2020-09-05","objectID":"/docker-study-notes/:4:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"å®¹å™¨ å®¹å™¨æ˜¯é•œåƒçš„è¿è¡Œå®ä½“ï¼Œå®¹å™¨è¿è¡Œç€çœŸæ­£çš„åº”ç”¨è¿›ç¨‹ï¼Œå®¹å™¨æœ‰åˆå»ºã€è¿è¡Œã€åœæ­¢ã€æš‚åœå’Œåˆ é™¤äº”ç§çŠ¶æ€ã€‚ åœ¨å®¹å™¨å†…éƒ¨ï¼Œæ— æ³•çœ‹åˆ°ä¸»æœºä¸Šçš„è¿›ç¨‹ã€ç¯å¢ƒå˜é‡ã€ç½‘ç»œç­‰ä¿¡æ¯ ","date":"2020-09-05","objectID":"/docker-study-notes/:5:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"Docker é‡è¦ç»„ä»¶ ","date":"2020-09-05","objectID":"/docker-study-notes/:6:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"RunC runC æ˜¯ç”¨æ¥è¿è¡Œå®¹å™¨çš„è½»é‡çº§å·¥å…·ï¼Œæ˜¯çœŸæ­£ç”¨æ¥è¿è¡Œå®¹å™¨çš„ ","date":"2020-09-05","objectID":"/docker-study-notes/:6:1","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"Containerd containerd æ˜¯é€šè¿‡ containerd-shim å¯åŠ¨å¹¶ç®¡ç† runCï¼Œæ˜¯ä»Dockerä¸­å‰¥ç¦»å‡ºæ¥çš„ï¼Œæ˜¯çœŸæ­£ç®¡ç†äº†Dockerç”Ÿå‘½å‘¨æœŸçš„é‡è¦ç»„ä»¶ ","date":"2020-09-05","objectID":"/docker-study-notes/:6:2","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"å¸¸ç”¨å‘½ä»¤ // æ‹‰å–é•œåƒ docker pull // é‡å‘½åé•œåƒ docker tag // æŸ¥çœ‹é•œåƒ docker image ls æˆ– docker images // åˆ é™¤é•œåƒ docker rmi // æ„å»ºé•œåƒ 1. docker build åŸºäºDockerfileæ„å»ºé•œåƒ 2. docker commit åŸºäºå·²ç»è¿è¡Œçš„å®¹å™¨æäº¤ä¸ºé•œåƒ ","date":"2020-09-05","objectID":"/docker-study-notes/:7:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"æ‹‰å–é•œåƒ Dockeré•œåƒçš„æ‹‰å–ä½¿ç”¨ docker pull å‘½ä»¤ï¼Œå‘½ä»¤æ ¼å¼ä¸€èˆ¬ä¸º $ docker pull [Registry]/[Repository]/[Image]:[Tag] Registry ä¸ºæ³¨å†ŒæœåŠ¡å™¨ï¼ŒDockeré»˜è®¤ä¼šä»docker.ioæ‹‰å–é•œåƒï¼Œå¦‚æœä½ æœ‰è‡ªå·±çš„é•œåƒä»“åº“ï¼Œå¯ä»¥æŠŠRegistryæ›¿æ¢ä¸ºè‡ªå·±çš„æ³¨å†ŒæœåŠ¡å™¨ Repository ä¸ºé•œåƒä»“åº“ï¼Œé€šå¸¸æŠŠä¸€ç»„ç›¸å…³è”çš„é•œåƒå½’ä¸ºä¸€ä¸ªé•œåƒä»“åº“ï¼Œlibrary ä¸ºDockeré»˜è®¤çš„é•œåƒä»“åº“ Image ä¸ºé•œåƒåç§° Tag ä¸ºé•œåƒçš„æ ‡ç­¾ï¼Œå¦‚æœä¸æŒ‡å®šæ‹‰å–é•œåƒçš„æ ‡ç­¾ï¼Œé»˜è®¤ä¸º latest ","date":"2020-09-05","objectID":"/docker-study-notes/:8:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"è¿‡æ»¤é•œåƒ è¿‡æ»¤é•œåƒimage-20200909204607924 \" è¿‡æ»¤é•œåƒ ","date":"2020-09-05","objectID":"/docker-study-notes/:9:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"é‡å‘½åé•œåƒ å¦‚æœæƒ³è‡ªå®šä¹‰é•œåƒåç§°æˆ–è€…æ¨é€é•œåƒåˆ°å…¶ä»–é•œåƒä»“åº“ï¼Œä½ å¯ä»¥ä½¿ç”¨ docker tag å‘½ä»¤å°†é•œåƒé‡å‘½åã€‚docker tag çš„å‘½ä»¤æ ¼å¼ä¸º $ docker tag [SOURCE_IMAGE][:TAG] [TARGET_IMAGE][:TAG] Ps. $ docker tag telemed:latest newtelemed:telemed åœ¨æ‰§è¡Œå®Œå¦‚ä¸Šå‘½ä»¤åï¼Œå†æ¬¡æŸ¥çœ‹é•œåƒå°±ä¼šå‘ç°å¤šäº†ä¸€ä¸ªä»“åº“åä¸º newtelemed çš„é•œåƒï¼Œä½†æ˜¯å®ƒå’Œ telemed çš„ IMAGE ID æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œå®é™…ä¸Šå®ƒä»¬æŒ‡å‘äº†åŒä¸€ä¸ªé•œåƒæ–‡ä»¶ï¼Œåªæ˜¯åˆ«åä¸ä¸€æ ·è€Œå·² ","date":"2020-09-05","objectID":"/docker-study-notes/:10:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"æ„å»ºé•œåƒ æ„å»ºé•œåƒä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼š ä½¿ç”¨ docker commit å‘½ä»¤ä»è¿è¡Œä¸­çš„å®¹å™¨æäº¤ä¸ºé•œåƒ ä½¿ç”¨ docker build å‘½ä»¤ä» Dockerfile æ„å»ºé•œåƒ ","date":"2020-09-05","objectID":"/docker-study-notes/:11:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"docker commit å…ˆè¿›å…¥é•œåƒä¸­ // æ²¡æœ‰ `[]` $ docker run -rm --name=[å®¹å™¨å] -it [å®¹å™¨å] sh / # æ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤åï¼Œå½“å‰çª—å£ä¼šè¿›å…¥æŒ‡å®šå®¹å™¨åçš„å®¹å™¨ä¸­ï¼Œåœ¨å®¹å™¨ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¹¶å†™å…¥å†…å®¹ / # touch hello.txt \u0026\u0026 echo \"I Love Docker.\" \u003e hello.txt / # æ­¤æ—¶åœ¨å®¹å™¨çš„æ ¹ç›®å½•ä¸‹ï¼Œå·²ç»åˆ›å»ºäº†ä¸€ä¸ªhello.txtæ–‡ä»¶ï¼Œå¹¶å†™å…¥äº†\"I Love Docker.\"ã€‚ä¸‹é¢ï¼Œé‡æ–°æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æäº¤é•œåƒ $ docker commit [TARGET_IMAGE] [TARGET_IMAGE][:TAG] å†æ¬¡ä½¿ç”¨ docker images å°±å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº† [TARGET_IMAGE][:TAG]è¿™ä¸ªé•œåƒ ","date":"2020-09-05","objectID":"/docker-study-notes/:11:1","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"docker build è¿™ç§æ–¹å¼æ˜¯æœ€é‡è¦çš„ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„é•œåƒæ„å»ºæ–¹å¼ï¼šDockerfileã€‚Dockerfileæ˜¯ä¸€ä¸ªåŒ…å«äº†ç”¨æˆ·æ‰€æœ‰æ„å»ºå‘½ä»¤çš„æ–‡æœ¬ã€‚é€šè¿‡ docker build å‘½ä»¤å¯ä»¥ä»Dockerfileç”Ÿæˆé•œåƒ ä½¿ç”¨Dockerfileæ„å»ºé•œåƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š Dockerfileçš„æ¯ä¸€è¡Œå‘½ä»¤éƒ½ä¼šç”Ÿæˆä¸€ä¸ªç‹¬ç«‹çš„é•œåƒå±‚ï¼Œå¹¶ä¸”æ‹¥æœ‰å”¯ä¸€çš„ID Dockerfileçš„å‘½ä»¤æ˜¯å®Œå…¨é€æ˜çš„ï¼Œé€šè¿‡æŸ¥çœ‹Dockerfileçš„å†…å®¹ï¼Œå°±å¯ä»¥çŸ¥é“é•œåƒæ˜¯å¦‚ä½•ä¸€æ­¥æ­¥æ„å»ºçš„ Dockerfileæ˜¯çº¯æ–‡æœ¬çš„ï¼Œæ–¹ä¾¿è·Ÿéšä»£ç ä¸€èµ·å­˜æ”¾åœ¨ä»£ç ä»“åº“å¹¶åšç‰ˆæœ¬ç®¡ç† ","date":"2020-09-05","objectID":"/docker-study-notes/:11:2","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"Dockerfileå¸¸ç”¨æŒ‡ä»¤ æŒ‡ä»¤ ç®€ä»‹ FROM Dockerfileé™¤äº†æ³¨é‡Šç¬¬ä¸€è¡Œå¿…é¡»æ˜¯ FROM ï¼ŒFROM åé¢è·Ÿé•œåƒåç§°ï¼Œä»£è¡¨æˆ‘ä»¬è¦åŸºäºå“ªä¸ªåŸºç¡€é•œåƒæ„å»ºæˆ‘ä»¬çš„å®¹å™¨ RUN RUN åé¢è·Ÿä¸€ä¸ªå…·ä½“çš„å‘½ä»¤ï¼Œç±»ä¼¼äº Linux å‘½ä»¤è¡Œæ‰§è¡Œå‘½ä»¤ã€‚ ADD æ‹·è´æœ¬æœºæ–‡ä»¶æˆ–è€…è¿œç¨‹æ–‡ä»¶åˆ°é•œåƒå†… COPY æ‹·è´æœ¬æœºæ–‡ä»¶åˆ°é•œåƒå†… USER æŒ‡å®šå®¹å™¨å¯åŠ¨çš„ç”¨æˆ· ENTRYPOINT å®¹å™¨çš„å¯åŠ¨å‘½ä»¤ CMD CMD ä¸º ENTRYPOINT æŒ‡ä»¤æä¾›é»˜è®¤å‚æ•°ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ CMD æŒ‡å®šå®¹å™¨å¯åŠ¨å‚æ•° ENV æŒ‡å®šå®¹å™¨è¿è¡Œæ—¶çš„ç¯å¢ƒå˜é‡ï¼Œæ ¼å¼ä¸º key=value ARG å®šä¹‰å¤–éƒ¨å˜é‡ï¼Œæ„å»ºé•œåƒæ—¶å¯ä»¥ä½¿ç”¨ build-arg = çš„æ ¼å¼ä¼ é€’å‚æ•°ç”¨äºæ„å»º EXPOSE æŒ‡å®šå®¹å™¨ç›‘å¬çš„ç«¯å£ï¼Œæ ¼å¼ä¸º [port]/tcp æˆ–è€… [port]/udp WORKDIR ä¸º Dockerfile ä¸­è·Ÿåœ¨å…¶åçš„æ‰€æœ‰ RUNã€CMDã€ENTRYPOINTã€COPY å’Œ ADD å‘½ä»¤è®¾ç½®å·¥ä½œç›®å½•ã€‚ é€šè¿‡å¦‚ä¸‹å®ä¾‹æ¥ç†Ÿæ‚‰ä¸€ä¸‹Dockerfile FROMcentos:7COPY nginx.repo /etc/yum.repos.d/nginx.repoRUN yum install -y nginxEXPOSE80ENV HOST=mynginx CMD [\"nginx\", \"-g\", \"daemon off;\"] åˆ†æä¸€ä¸‹ä¸Šé¢çš„Dockerfile ç¬¬ä¸€è¡Œè¡¨ç¤ºåŸºäº centos:7 è¿™ä¸ªé•œåƒæ¥æ„å»ºè‡ªå®šä¹‰é•œåƒã€‚è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæ¯ä¸ªDockerfileçš„ç¬¬ä¸€è¡Œé™¤äº†æ³¨é‡Šéƒ½å¿…é¡»ä»¥FROMå¼€å¤´ ç¬¬äºŒè¡Œè¡¨ç¤ºæ‹·è´æœ¬åœ°æ–‡ä»¶ nginx.repo æ–‡ä»¶åˆ°å®¹å™¨å†…çš„ /etc/yum.repos.d ç›®å½•ä¸‹ã€‚è¿™é‡Œæ‹·è´ nginx.repo æ–‡ä»¶æ˜¯ä¸ºäº†æ·»åŠ nginxçš„å®‰è£…æº ç¬¬ä¸‰è¡Œè¡¨ç¤ºåœ¨å®¹å™¨å†…è¿è¡Œ yum install -y nginx å‘½ä»¤ï¼Œå®‰è£…nginxæœåŠ¡åˆ°å®¹å™¨å†…ï¼Œæ‰§è¡Œå®Œç¬¬ä¸‰è¡Œå‘½ä»¤ï¼Œå®¹å™¨å†…çš„nginxå·²ç»å®‰è£…å®Œæˆ ç¬¬å››è¡Œå£°æ˜å®¹å™¨å†…ä¸šåŠ¡ï¼ˆnginxï¼‰ä½¿ç”¨80ç«¯å£å¯¹å¤–æä¾›æœåŠ¡ ç¬¬äº”è¡Œå®šä¹‰å®¹å™¨å¯åŠ¨æ—¶çš„ç¯å¢ƒå˜é‡ HOST=mynginxï¼Œå®¹å™¨å¯åŠ¨åå¯ä»¥è·å–åˆ°ç¯å¢ƒå˜é‡HOSTçš„å€¼ä¸ºmynginx ç¬¬å…­è¡Œå®šä¹‰å®¹å™¨çš„å¯åŠ¨å‘½ä»¤ï¼Œå‘½ä»¤æ ¼å¼ä¸ºjsonæ•°ç»„ã€‚è¿™é‡Œè®¾ç½®äº†å®¹å™¨çš„å¯åŠ¨å‘½ä»¤ä¸ºnginxï¼Œå¹¶ä¸”æ·»åŠ äº†nginxçš„å¯åŠ¨å‚æ•° -g 'daemon 0ff;'ï¼Œä½¿nginxä»¥å‰å°çš„æ–¹å¼å¯åŠ¨ã€‚ ","date":"2020-09-05","objectID":"/docker-study-notes/:12:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Docker"],"content":"é•œåƒçš„å®ç°åŸç† å…¶å®Dockeré•œåƒæ˜¯ç”±ä¸€ç³»åˆ—é•œåƒå±‚ï¼ˆlayerï¼‰ç»„æˆçš„ï¼Œæ¯ä¸€å±‚ä»£è¡¨äº†é•œåƒæ„å»ºè¿‡ç¨‹ä¸­çš„ä¸€æ¬¡æäº¤ã€‚ä¸‹é¢ä»¥ä¸€ä¸ªé•œåƒæ„å»ºçš„Dockerfileæ¥è¯´æ˜é•œåƒæ˜¯å¦‚ä½•åˆ†å±‚çš„ã€‚ FROMbusybosCOPY test /tmp/testRUN mkdir /tmp/testdir ä¸Šé¢çš„Dockerfileç”±ä¸‰éƒ¨ç»„æˆ ç¬¬ä¸€è¡ŒåŸºäº busybox åˆ›å»ºä¸€ä¸ªé•œåƒå±‚ ç¬¬äºŒè¡Œæ‹·è´æœ¬åœ° test æ–‡ä»¶åˆ°é•œåƒå†… ç¬¬ä¸‰è¡Œåœ¨ /test æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªç›®å½• testdir ä¸ºäº†éªŒè¯é•œåƒçš„å­˜å‚¨ç»“æ„ï¼Œæˆ‘ä»¬ä½¿ç”¨ docker build å‘½ä»¤åœ¨ä¸Šé¢Dockerfileæ‰€åœ¨ç›®å½•æ„å»ºä¸€ä¸ªé•œåƒï¼š $ docker build -t mybusybox . è¿™é‡Œçš„Dockerä½¿ç”¨çš„æ˜¯overlay2æ–‡ä»¶é©±åŠ¨ï¼Œè¿›å…¥åˆ° /var/lib/docker/overlay2 ç›®å½•ä¸‹ä½¿ç”¨ tree . å‘½ä»¤æŸ¥çœ‹äº§ç”Ÿçš„é•œåƒæ–‡ä»¶ // todo åˆ†å±‚çš„ç»“æ„ä½¿å¾—Dockeré•œåƒéå¸¸è½»é‡ï¼Œæ¯ä¸€å±‚æ ¹æ®é•œåƒçš„å†…å®¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„IDå€¼ï¼Œå½“ä¸åŒçš„é•œåƒä¹‹é—´æœ‰ç›¸åŒçš„é•œåƒå±‚æ—¶ï¼Œä¾¿å¯ä»¥å®ç°ä¸åŒçš„é•œåƒä¹‹é—´å…±äº«é•œåƒå±‚çš„æ•ˆæœ æ€»ç»“ä¸€ä¸‹ï¼ŒDockeré•œåƒæ˜¯é™æ€çš„åˆ†å±‚ç®¡ç†çš„æ–‡ä»¶ç»„åˆï¼Œé•œåƒåº•å±‚çš„å®ç°ä¾èµ–äºè”åˆæ–‡ä»¶ç³»ç»Ÿï¼ˆUnionFSï¼‰ã€‚æ¯ä¸€å±‚ä»£è¡¨äº†é•œåƒæ„å»ºè¿‡ç¨‹ä¸­çš„ä¸€æ¬¡æäº¤ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¿®æ”¹é•œåƒå†…çš„æŸä¸ªæ–‡ä»¶æ—¶ï¼Œåªéœ€è¦åœ¨å½“å‰é•œåƒå±‚çš„åŸºç¡€ä¸Šæ–°å»ºä¸€ä¸ªé•œåƒå±‚ï¼Œå¹¶ä¸”åªå­˜æ”¾ä¿®æ”¹è¿‡çš„æ–‡ä»¶å†…å®¹ã€‚ ","date":"2020-09-05","objectID":"/docker-study-notes/:13:0","tags":["Docker"],"title":"Dockerå­¦ä¹ ç¬”è®°","uri":"/docker-study-notes/"},{"categories":["Tips"],"content":"åšå®¢æ›´æ¢åˆ°äº†é™æ€Hugoç”Ÿæˆçš„ç½‘é¡µï¼Œä¸ºäº†éƒ¨ç½²æ–¹ä¾¿ï¼Œæ‰€ä»¥ä½¿ç”¨GitHub Actionsæ¥è‡ªåŠ¨åŒ–éƒ¨ç½²","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"äº†è§£ åœ¨ä½¿ç”¨ GitHub Actions å‰å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯GitHub Actions æ¨èçœ‹é˜®ä¸€å³°è€å¸ˆçš„æ–‡ç« ï¼šGitHub Actionså…¥é—¨æ•™ç¨‹ ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:1:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"ç†Ÿæ‚‰æµç¨‹ é¦–å…ˆæˆ‘ä»¬åœ¨githubåˆ›å»ºè‡ªå·±çš„ç§æœ‰ä»“åº“ï¼Œç”¨æ¥æ¨Hugoç”Ÿæˆçš„ public æ–‡ä»¶å¤¹ åˆ©ç”¨ GitHub Actions è¿œç¨‹è¿æ¥ SSH,æ‰§è¡Œåˆ é™¤æœåŠ¡å™¨çš„ç»‘å®šçš„webç›®å½•ï¼ˆå³è¿è¡Œç›®å½•ï¼‰ åˆ©ç”¨ GitHub Actions SCPæœåŠ¡æ¨é€Githubä»“åº“ä¸‹çš„ public åˆ°è¿œç«¯æœåŠ¡å™¨çš„webç›®å½• ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:2:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"åˆ›å»ºActions å‰é¢æˆ‘ä»¬å·²ç»æåˆ°å…ˆå°†Hugoç”Ÿæˆçš„publicæ–‡ä»¶å¤¹æ•´ä½“æ¨åˆ°äº†Githubï¼Œæ¥ä¸‹æ¥å°±æ˜¯åˆ›å»º GitHub Actions åˆ›å»ºActionsimg \" åˆ›å»ºActions ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:3:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"é…ç½®æ–‡ä»¶ è¿æ¥SSHçš„é€‰æ‹©ä¸€ä¸ªStaræ¯”è¾ƒå¤šçš„ï¼Œå¦‚ä¸‹å›¾ é€‰æ‹©å¸‚åœºæ’ä»¶img \" é€‰æ‹©å¸‚åœºæ’ä»¶ è¿™è¾¹æˆ‘è´´ä¸€ä¸‹æˆ‘é…ç½®å¥½çš„ # This is a basic workflow to help you get started with Actionsname:CIon:push:branches:[master ]jobs:build:runs-on:ubuntu-lateststeps:- name:Check Outuses:actions/checkout@v2# ä½¿ç”¨SSHè¿œç¨‹è¿æ¥- name:SSH Remote Commandsuses:appleboy/ssh-action@masterwith:host:${{ secrets.ALIYUN_HOST }}username:${{ secrets.ALIYUN_USER }}password:${{ secrets.ALIYUN_PASSWORD }}script:bash /root/blog_del.sh# ç”¨SCPå°†æ–‡ä»¶ä¼ åˆ°è¿œç«¯æœåŠ¡å™¨- name:SCP Files to aliyunuses:appleboy/scp-action@masterwith:host:${{ secrets.ALIYUN_HOST }}username:${{ secrets.ALIYUN_USER }}password:${{ secrets.ALIYUN_PASSWORD }}source:\"./public\"target:${{ secrets.ALIYUN_PATH }} æ³¨æ„ ${{ secrets.xxx }} æ˜¯å®˜æ–¹è®¾ç½®ç§˜é’¥çš„æ–¹æ³• ${{ secrets.ALIYUN_HOST }} æœåŠ¡å™¨åœ°å€ ${{ secrets.ALIYUN_USER }} æœåŠ¡å™¨ç”¨æˆ·å ${{ secrets.ALIYUN_PASSWORD }} æœåŠ¡å™¨å¯†ç  ${{ secrets.ALIYUN_PATH }} åšå®¢è¿è¡Œç›®å½• ç¬¬24è¡Œçš„è¿è¡Œè„šæœ¬æ˜¯æŒ‡åœ¨è¿æ¥åˆ°è¿œç«¯æœåŠ¡å™¨æ—¶ï¼Œå…ˆå»åˆ é™¤æœåŠ¡å™¨ä¸ŠåŸæœ¬çš„æ–‡ä»¶ ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:4:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"åˆ é™¤è¿œç«¯ç›®å½• åˆ é™¤è¿œç«¯ç›®å½•img \" åˆ é™¤è¿œç«¯ç›®å½• if [ ! -d \"è¿œç«¯ç›®å½•\" ];then echo \"æ–‡ä»¶å¤¹ä¸å­˜åœ¨\" else rm -rf è¿œç«¯ç›®å½• fi ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:4:1","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"secretsæ·»åŠ  secretsæ·»åŠ ä½ç½®img \" secretsæ·»åŠ ä½ç½® ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:4:2","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"æ¨é€ ç‚¹å‡»å³ä¸Šè§’ä¿å­˜å³å¯ï¼Œè¿™æ ·æ¯æ¬¡åªéœ€è¦åœ¨æœ¬åœ°å°†æ–‡ç« æ¨åˆ°GitHubå°±å¯ä»¥è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨äº†ã€‚ è¿è¡Œæ—¥å¿—img \" è¿è¡Œæ—¥å¿— ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:5:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"è¡¥å…… 2020/09/01 è¡¥å…… Algoliaæœç´¢çš„è‡ªåŠ¨åŒæ­¥ æœ¬ç«™æœç´¢ç”¨çš„æ˜¯Algoliaæœç´¢ï¼Œç”±äºæ¯æ¬¡éœ€è¦æ‰‹åŠ¨å°†Hugoç”Ÿæˆçš„è¦æœç´¢çš„jsonæ•°æ®æ‰‹åŠ¨åŒæ­¥åˆ° Algoliaæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥ç ”ç©¶äº†ä¸‹ç»§ç»­ä½¿ç”¨ GitHub Actionsï¼Œè¿™æ ·åœ¨ä¸Šé¢ä¸€ç³»åˆ—æ“ä½œåé¢æ·»åŠ å³å¯ã€‚ å¼•ç”¨åº“æ¥è‡ªï¼š https://github.com/chrisdmacrae/atomic-algolia è´´ä¸€ä¸‹ä»£ç ï¼Œåœ¨ä¸Šé¢çš„ ymlé…ç½®æ–‡ä»¶ä¸­åé¢è·Ÿç€æ·»åŠ  - name:Use Node.jsuses:actions/setup-node@v1with:node-version:'12.x'- name:Install automic-algoliarun:| npm install atomic-algolianpm run algoliaenv:ALGOLIA_APP_ID:${{ secrets.ALGOLIA_APP_ID }}ALGOLIA_ADMIN_KEY:${{ secrets.ALGOLIA_ADMIN_KEY }}ALGOLIA_INDEX_NAME:${{ secrets.ALGOLIA_INDEX_NAME }}ALGOLIA_INDEX_FILE:\"./public/index.json\" æŠ€å·§ å…¶ä¸­çš„ ALGOLIA_ADMIN_KEY æ˜¯ADMIN_KEYï¼Œè€Œä¸æ˜¯SEARCH_KEY ALGOLIA_INDEX_FILE è¿™é‡Œå†™è‡ªå·±GitHubä»“åº“ä¸­ç›¸å¯¹è¦ä¸Šä¼ çš„æ–‡ä»¶çš„åœ°å€ å®Œç¾æ‰§è¡Œimg \" å®Œç¾æ‰§è¡Œ 2020/09/016è¡¥å…… æ”¾å¼ƒSCPï¼Œä½¿ç”¨RSync ç”¨äº†ä¸€æ®µæ—¶é—´éšç€ç”Ÿæˆæ–‡ä»¶çš„è¶Šæ¥è¶Šå¤šï¼ŒSCPæ˜¯çœŸçš„å¤ªæ…¢äº†ï¼Œåœ¨Github Actions ä¸Šæˆ‘å¾€å¾€éœ€è¦èŠ±è´¹10å¤šåˆ†é’Ÿæ‰èƒ½å®Œæˆéƒ¨ç½² ç”¨åˆ°çš„Rsyncåº“æ˜¯ https://github.com/marketplace/actions/rsyncer-actionï¼Œé…ç½®çš„ä¸€äº›å‚æ•°çœ‹ç»™å‡ºçš„æ–‡æ¡£å°±å¯ä»¥ è¿™é‡Œè´´å‡ºæ¥æˆ‘é‡æ–°é…ç½®çš„yml æŠ€å·§ è¿™æ¬¡ä¸ºäº†å‡ ä¹å¾ˆå¿«çš„éƒ¨ç½²è¡”æ¥ï¼Œæ˜¾ç¤ºåŒæ­¥äº†æ–‡ä»¶ï¼Œåæ¥æ‰å»æ‰§è¡Œè„šæœ¬åˆ é™¤ï¼Œä¹‹å‰é‚£ç§ä¼šå› ä¸ºå…ˆåˆ é™¤ï¼Œè€Œç”±äºæ²¡æœ‰åŒæ­¥å®Œæˆæ–‡ä»¶ï¼Œç½‘ç«™å¤„äºæ— æ³•è®¿é—®çš„æƒ…å†µï¼Œå½“ç„¶é‚£æ˜¯å‡ºç°åœ¨SCPä¸­ï¼Œç»æµ‹è¯•ï¼ŒRsyncè¿˜æ˜¯å¾ˆè®©æˆ‘æ»¡æ„çš„ # This is a basic workflow to help you get started with Actionsname:CIon:push:branches:[master ]jobs:build:runs-on:ubuntu-lateststeps:- name:Check Outuses:actions/checkout@v2- name:rsync deploymentsuses:Pendect/action-rsyncer@v1.1.0env:DEPLOY_KEY:${{ secrets.ALIYUN_KEY }}with:flags:'-avzr --delete'src:'public/'dest:'${{ secrets.ALIYUN_USER }}@${{ secrets.ALIYUN_HOST }}:${{ secrets.ALIYUN_PATH }}'- name:SSH Remote Commandsuses:appleboy/ssh-action@masterwith:host:${{ secrets.ALIYUN_HOST }}username:${{ secrets.ALIYUN_USER }}password:${{ secrets.ALIYUN_PASSWORD }}script:bash /root/blog_develop.sh- name:Use Node.jsuses:actions/setup-node@v1with:node-version:'12.x'- name:Install automic-algoliarun:| npm install atomic-algolianpm run algoliaenv:ALGOLIA_APP_ID:${{ secrets.ALGOLIA_APP_ID }}ALGOLIA_ADMIN_KEY:${{ secrets.ALGOLIA_ADMIN_KEY }}ALGOLIA_INDEX_NAME:${{ secrets.ALGOLIA_INDEX_NAME }}ALGOLIA_INDEX_FILE:\"./public/index.json\" éœ€è¦ç”¨åˆ°çš„ blog_develop.sh # åˆ é™¤é¡¹ç›®ç›®å½• if [ ! -d \"è¿œç«¯ç›®å½•\" ]; then echo \"åŸé¡¹ç›®æ–‡ä»¶ä¸å­˜åœ¨\" else rm -rf è¿œç«¯ç›®å½• fi if [ ! -d \"æ–°çš„ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œæ¯”å¦‚ è¿œç«¯ç›®å½•temp\" ]; then echo \"ä¸´æ—¶é¡¹ç›®æ–‡ä»¶ä¸å­˜åœ¨\" else # é‡å‘½åæ–‡ä»¶å¤¹ mv è¿œç«¯ç›®å½•temp è¿œç«¯ç›®å½• fi echo \"publish success!\" æ•ˆæœå›¾img \" æ•ˆæœå›¾ ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:6:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"ç»“æŸ è‡³æ­¤ï¼Œæ¯æ¬¡åªéœ€è¦åœ¨æœ¬åœ°å†™æ–‡ç« å¹¶æ¨é€åˆ°GitHubï¼Œå…¶ä»–çš„äº‹æƒ…å°±äº¤ç»™GitHub Actionsåšå°±å¯ä»¥äº† ","date":"2020-08-30","objectID":"/hugo-github-actions-aliyun/:7:0","tags":["Hugo","GitHub Actions"],"title":"ä½¿ç”¨GitHub Actionséƒ¨ç½²Hugoåˆ°é˜¿é‡Œäº‘","uri":"/hugo-github-actions-aliyun/"},{"categories":["Tips"],"content":"å‘¨æœ«æ•´ç†äº†ä¸€ä¸‹Gitå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ï¼Œè™½ç„¶ç°åœ¨æœ‰å¯è§†åŒ–çš„å·¥å…·å¸®åŠ©ï¼Œä½†æ˜¯åŸºç¡€å‘½ä»¤è¦çŸ¥é“","date":"2020-07-05","objectID":"/git-command-quick-check/","tags":["Git"],"title":"Gitå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨","uri":"/git-command-quick-check/"},{"categories":["Tips"],"content":" å‘¨æœ«æ•´ç†äº†ä¸€ä¸‹Gitå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨ï¼Œè™½ç„¶ç°åœ¨æœ‰å¯è§†åŒ–çš„å·¥å…·å¸®åŠ©ï¼Œä½†æ˜¯åŸºç¡€å‘½ä»¤è¦çŸ¥é“ Git Cheat Sheetmark \" Git Cheat Sheet ","date":"2020-07-05","objectID":"/git-command-quick-check/:0:0","tags":["Git"],"title":"Gitå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨","uri":"/git-command-quick-check/"},{"categories":["Tips"],"content":"é‡åˆ°çš„é—®é¢˜ git å‡ºç°old mode 100644 new mode 100755 åœ¨å½“å‰ç›®å½•æ‰“å¼€gitï¼Œè¾“å…¥ä»£ç  `git config --add core.filemode false` ","date":"2020-07-05","objectID":"/git-command-quick-check/:1:0","tags":["Git"],"title":"Gitå¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨","uri":"/git-command-quick-check/"},{"categories":null,"content":"ç®€ä»‹ ç”·ï¼Œ98å¹´åŒé±¼åº§æ­»å®…ï¼Œå¾è¾ˆæ„šé’èº«æ— é•¿ç‰©ï¼Œä»…æ‰€ä¾å‡­ï¼Œå”¯æ‰‹ç†Ÿè€³ã€‚ èŒä¸šï¼šGopherğŸ’ã€‚ æ“…é•¿è¯­è¨€ï¼šGolangã€Pythonã€Javascript æè¿°ï¼šä¸­åº¦å¼ºè¿«ç—‡ï¼Œé‡åº¦æ€¥æ€§å­ å¸¸ç”¨æ˜µç§°ï¼šYqchilde Githubï¼šhttps://github.com/yqchilde ","date":"2020-05-20","objectID":"/about/:0:1","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"Hey ","date":"2020-05-20","objectID":"/about/:0:2","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"å¼€æºé¡¹ç›® é¡¹ç›®åç§° é¡¹ç›®åœ°å€ CheckInAssistant https://github.com/yqchilde/CheckInAssistantğŸ¤¡æ˜¯æˆ‘å‚åŠ å±±ä¸œçœå¤§å­¦ç”Ÿè½¯ä»¶è®¾è®¡å¤§èµ›ä¸€ç­‰å¥–ä½œå“ï¼Œä¹Ÿæ˜¯æˆ‘æ¯•è®¾ç­”è¾©ä¼˜ç§€ä½œå“ JDMemberCloseAccount https://github.com/yqchilde/JDMemberCloseAccountPython+Seleniumå®ç°çš„ä¸€ç§äº¬ä¸œå…¨è‡ªåŠ¨é€€ä¼šæ–¹æ¡ˆ Golang-Interview https://github.com/yqchilde/Golang-Interviewæ”¶é›†çš„ä¸€äº›Golangç¬”è¯•é¢˜ Rebirth https://github.com/yqchilde/rebirthä¸€æ¬¾ç®€çº¦ä¼˜é›…å“åº”å¼WordPressä¸»é¢˜ ","date":"2020-05-20","objectID":"/about/:0:3","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"æ„Ÿè°¢ æœ¬æ¥æ˜¯æƒ³ç€ä»wordpressä¸»é¢˜è¿ç§»åˆ°hugoçš„ï¼Œå·²ç»è¿ç§»äº†ä¸€éƒ¨åˆ†ï¼ŒåŠ ä¸Šå¤ä¹ æ—¶é—´ç´§ï¼Œåœ¨githubå‘ç°äº†è¯¥ä¸»é¢˜ï¼Œæ„Ÿè°¢ä¸»é¢˜ä½œè€…ï¼ˆä¸æ„§æ˜¯loveitğŸ˜€ ï¼‰ï¼Œè¿™è®©æˆ‘çš„å¿ƒæ²‰æ·€äº†ä¸‹æ¥ï¼Œå®‰å¿ƒå»æ€è€ƒå…¶ä»–äº‹æƒ…ã€‚ ","date":"2020-05-20","objectID":"/about/:0:4","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"å…³äºRebirth WordPressçš„Rebirthä¸»é¢˜æˆ‘å·²æ”¾å¼ƒç»´æŠ¤ï¼Œå·²è½¬Hugoï¼Œå¤§çˆ±Hugo ","date":"2020-05-20","objectID":"/about/:0:5","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"è”ç³» yqchilde@gmail.com å¤§å¤šæ•°æ—¶é—´åœ¨çº¿ï¼Œæœ‰äº‹è¯·è”ç³» ","date":"2020-05-20","objectID":"/about/:0:6","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":null,"content":"å£°æ˜ æœ¬åšå®¢æ‰€æœ‰å†…å®¹é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0 å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯ã€‚ ","date":"2020-05-20","objectID":"/about/:0:7","tags":null,"title":"å…³äºæˆ‘","uri":"/about/"},{"categories":["Golang"],"content":"Golangè§£æJsonæ•°ç»„çš„ä¸€äº›æŠ€å·§ï¼Œå¥‡æ€ªçš„çŸ¥è¯†åˆå¢åŠ äº†ï¼","date":"2020-05-16","objectID":"/golang-json-serialization/","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"æ™®é€šåºåˆ—åŒ– type A struct { Name string `json:\"name\"` Age int `json:\"age\"` Sex string `json:\"sex\"` } func main() { a := \u0026A{ Name: \"å¼ ä¸‰\", Age: 18, Sex: \"ç”·\", } marshal, err := json.Marshal(a) if err != nil { fmt.Println(err) } fmt.Println(string(marshal)) } è¾“å‡ºç»“æœï¼š{\"name\":\"å¼ ä¸‰\",\"age\":18,\"sex\":\"ç”·\"} ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:1","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"å¿½ç•¥æŸä¸ªå­—æ®µ å¦‚æœæƒ³åœ¨åºåˆ—åŒ–/ååºåˆ—åŒ–çš„æ—¶å€™å¿½ç•¥æ‰ç»“æ„ä½“ä¸­çš„æŸä¸ªå­—æ®µï¼Œå¯ä»¥åœ¨tagå­—æ®µä¸­æ·»åŠ - type A struct { Name string `json:\"name\"` Age int `json:\"-\"` Sex string `json:\"-\"` } func main() { a := \u0026A{ Name: \"å¼ ä¸‰\", Age: 18, Sex: \"ç”·\", } marshal, err := json.Marshal(a) if err != nil { fmt.Println(err) } fmt.Println(string(marshal)) } è¾“å‡ºç»“æœï¼š{\"name\":\"å¼ ä¸‰\"} ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:2","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"å¿½ç•¥ç©ºå€¼å­—æ®µ å½“structä¸­çš„å­—æ®µæ²¡æœ‰å€¼æ—¶ï¼Œjson.Marshal()åºåˆ—åŒ–çš„æ—¶å€™ä¸ä¼šå¿½ç•¥è¿™äº›å­—æ®µï¼Œè€Œæ˜¯è¾“å‡ºé»˜è®¤å­—æ®µçš„ç±»å‹é›¶å€¼ï¼Œå¦‚æœæƒ³è¦å¿½ç•¥æ‰è¿™äº›å€¼çš„å­—æ®µæ—¶ï¼Œå¯ä»¥åœ¨å¯¹åº”å­—æ®µæ·»åŠ omitemptytag type User struct { Name string `json:\"name\"` Email string `json:\"email\"` Hobby []string `json:\"hobby\"` } func main() { a := \u0026User{ Name: \"å¼ ä¸‰\", } marshal, err := json.Marshal(a) if err != nil { fmt.Println(err) } fmt.Println(string(marshal)) } è¾“å‡ºç»“æœï¼š{\"name\":\"å¼ ä¸‰\",\"email\":\"\",\"hobby\":null} æ·»åŠ omitemptytagï¼Œçœ‹çœ‹æ•ˆæœ type User struct { Name string `json:\"name\"` Email string `json:\"email,omitempty\"` Hobby []string `json:\"hobby,omitempty\"` } è¾“å‡ºç»“æœï¼š{\"name\":\"å¼ ä¸‰\"} ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:3","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"å¿½ç•¥åµŒå¥—ç»“æ„ä½“ç©ºå€¼å­—æ®µ type User struct { Name string `json:\"name\"` Email string `json:\"email,omitempty\"` Hobby []string `json:\"hobby,omitempty\"` Profile } type Profile struct { Website string `json:\"site\"` SLogan string `json:\"slogan\"` } func main() { a := \u0026User{ Name: \"å¼ ä¸‰\", Hobby: []string{\"è¶³çƒ\", \"åŒè‰²çƒ\"}, } marshal, err := json.Marshal(a) if err != nil { fmt.Println(err) } fmt.Println(string(marshal)) } åŒ¿ååµŒå¥—Profileæ—¶åºåˆ—åŒ–åçš„jsonä¸²ä¸ºå•å±‚çš„ï¼š {\"name\":\"å¼ ä¸‰\",\"hobby\":[\"è¶³çƒ\",\"åŒè‰²çƒ\"],\"site\":\"\",\"slogan\":\"\"} æƒ³è¦å˜æˆåµŒå¥—çš„jsonä¸²ï¼Œéœ€è¦æ”¹ä¸ºå…·ååµŒå¥—æˆ–å®šä¹‰å­—æ®µtag type User struct { Name string `json:\"name\"` Email string `json:\"email,omitempty\"` Hobby []string `json:\"hobby,omitempty\"` Profile `json:\"profile\"` } {\"name\":\"å¼ ä¸‰\",\"hobby\":[\"è¶³çƒ\",\"åŒè‰²çƒ\"],\"profile\":{\"site\":\"\",\"slogan\":\"\"}} æƒ³è¦åœ¨åµŒå¥—çš„ç»“æ„ä½“ä¸ºç©ºå€¼æ—¶ï¼Œå¿½ç•¥è¯¥å­—æ®µï¼Œä»…æ·»åŠ omitemptyæ˜¯ä¸å¤Ÿçš„ï¼Œä¾‹å¦‚ç»™Profileæ·»åŠ tagomitempty type User struct { Name string `json:\"name\"` Email string `json:\"email,omitempty\"` Hobby []string `json:\"hobby,omitempty\"` Profile `json:\"profile,omitempty\"` } è¾“å‡ºä»ç„¶æ˜¯{\"name\":\"å¼ ä¸‰\",\"hobby\":[\"è¶³çƒ\",\"åŒè‰²çƒ\"],\"profile\":{\"site\":\"\",\"slogan\":\"\"}} è¿™æ—¶å€™æ¢æˆæŒ‡é’ˆå°±å¯ä»¥äº† type User struct { Name string `json:\"name\"` Email string `json:\"email,omitempty\"` Hobby []string `json:\"hobby,omitempty\"` *Profile `json:\"profile,omitempty\"` } è¾“å‡ºç»“æœå˜ä¸º{\"name\":\"å¼ ä¸‰\",\"hobby\":[\"è¶³çƒ\",\"åŒè‰²çƒ\"]} ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:4","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"ä¸ä¿®æ”¹åŸç»“æ„ä½“å¿½ç•¥ç©ºå€¼å­—æ®µ ç°åœ¨æœ‰ä¸€ä¸ªæ¡ˆä¾‹ï¼Œéœ€è¦jsonåºåˆ—åŒ–Userï¼Œä½†æ˜¯ä¸æƒ³æŠŠå¯†ç ä¹Ÿåºåˆ—åŒ–ï¼Œåˆä¸æƒ³ä¿®æ”¹Userç»“æ„ä½“ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åˆ›å»ºå¦å¤–ä¸€ä¸ªç»“æ„ä½“PublicUseråŒ¿ååµŒå¥—åŸUserï¼ŒåŒæ—¶æŒ‡å®šPasswordå­—æ®µä¸ºåŒ¿åç»“æ„ä½“æŒ‡é’ˆç±»å‹ï¼Œå¹¶æ·»åŠ omitemptytagï¼Œç¤ºä¾‹å¦‚ä¸‹ type User struct { Name string `json:\"name\"` Password string `json:\"password\"` } type PublicUser struct { *User // åŒ¿ååµŒå¥— Password *struct{} `json:\"password,omitempty\"` } func main() { a := \u0026User{ Name: \"å¼ ä¸‰\", Password: \"123456\", } marshal, err := json.Marshal(PublicUser{ User: a, }) if err != nil { fmt.Println(err) } fmt.Println(string(marshal)) } è¾“å‡ºç»“æœï¼š{\"name\":\"å¼ ä¸‰\"}ï¼Œç†è§£ä¸ºäºå¼•ç”¨ç±»å‹å¼•ç”¨ ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:5","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"ä¼˜é›…å¤„ç†å­—ç¬¦ä¸²æ ¼å¼çš„æ•°å­— æœ‰æ—¶å€™ï¼Œå‰ç«¯ä¼ é€’æ¥çš„jsonæ•°æ®ä¸­å¯èƒ½ä¼šä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„æ•°å­—ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥åœ¨ç»“æ„ä½“tagä¸­æ·»åŠ stringæ¥å‘Šè¯‰jsonåŒ…ä»å­—ç¬¦ä¸²ä¸­è§£æç›¸åº”å­—æ®µçš„æ•°æ® type Card struct { ID int64 `json:\"id,string\"` Score float64 `json:\"score,string\"` } func main() { jsonStr := `{\"id\":\"123456\",\"score\":\"88.50\"}` var c1 Card err := json.Unmarshal([]byte(jsonStr), \u0026c1) if err != nil { fmt.Println(err) return } fmt.Println(c1) } ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:6","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"æ•´æ•°å˜æˆæµ®ç‚¹æ•° åœ¨JSONåè®®ä¸­æ˜¯æ²¡æœ‰æ•´å½¢å’Œæµ®ç‚¹å‹ä¹‹åˆ†çš„ï¼Œä»–ä»¬ç»Ÿç§°ä¸ºnumberï¼Œjsonå­—ç¬¦ä¸²ä¸­çš„æ•°å­—ç»è¿‡Goè¯­è¨€ä¸­çš„jsonåŒ…ååºåˆ—åŒ–ä¹‹åéƒ½ä¼šå˜æˆfloat64ç±»å‹ func main() { var m = make(map[string]interface{}, 1) m[\"count\"] = 1 // int b, err := json.Marshal(m) if err != nil { fmt.Printf(\"marshal failed, err:%v\\n\", err) } fmt.Println(string(b)) // json string -\u003e map[string]interface{} var m2 map[string]interface{} err = json.Unmarshal(b, \u0026m2) if err != nil { fmt.Printf(\"unmarshal failed, err:%v\\n\", err) return } fmt.Printf(\"value:%v\\n\", m2[\"count\"]) // 1 fmt.Printf(\"type:%T\\n\", m2[\"count\"]) // float64 } å¯ä»¥çœ‹åˆ°ä¸Šé¢ä»£ç è¾“å‡ºçš„ç»“æœï¼Œintæ•°å€¼ç±»å‹å˜æˆäº†float64ï¼Œå¦‚æœæƒ³æ›´åˆç†çš„å¤„ç†æ•°å­—å°±éœ€è¦ä½¿ç”¨decoderå»ååºåˆ—åŒ– func main() { var m = make(map[string]interface{}, 1) m[\"count\"] = 1 // int b, err := json.Marshal(m) if err != nil { fmt.Println(err) } fmt.Println(string(b)) var m2 map[string]interface{} // ä½¿ç”¨decoderæ–¹å¼ååºåˆ—åŒ–ï¼ŒæŒ‡å®šä½¿ç”¨numberç±»å‹ decoder := json.NewDecoder(bytes.NewReader(b)) decoder.UseNumber() err = decoder.Decode(\u0026m2) if err != nil { fmt.Println(err) return } fmt.Printf(\"value:%v\\n\", m2[\"count\"]) // 1 fmt.Printf(\"type:%T\\n\", m2[\"count\"]) // json.Number // å°†m2[\"count\"]è½¬ä¸ºjson.Numberä¹‹åè°ƒç”¨Int64()æ–¹æ³•è·å¾—int64ç±»å‹çš„å€¼ count, err := m2[\"count\"].(json.Number).Int64() if err != nil { fmt.Printf(\"parse to int64 failed, err:%v\\n\", err) return } fmt.Printf(\"type:%T\\n\", int(count)) // int } json.Numberçš„æºç å®šä¹‰å¦‚ä¸‹ï¼š // A Number represents a JSON number literal. // Numberè¡¨ç¤ºJSONæ•°å­—æ–‡å­— type Number string // String returns the literal text of the number. // å­—ç¬¦ä¸²è¿”å›æ•°å­—çš„æ–‡å­—æ–‡æœ¬å­—ç¬¦ä¸²è¿”å›æ•°å­—çš„æ–‡å­—æ–‡æœ¬ func (n Number) String() string { return string(n) } // Float64 returns the number as a float64. // Float64å°†æ•°å­—è¿”å›ä¸ºfloat64 func (n Number) Float64() (float64, error) { return strconv.ParseFloat(string(n), 64) } // Int64 returns the number as an int64. // Int64å°†æ•°å­—è¿”å›ä¸ºint64 func (n Number) Int64() (int64, error) { return strconv.ParseInt(string(n), 10, 64) } æˆ‘ä»¬åœ¨å¤„ç†numberç±»å‹çš„jsonå­—æ®µæ—¶éœ€è¦å¾—åˆ°json.Numberç±»å‹ï¼Œç„¶åæ ¹æ®è¯¥å­—æ®µçš„å®é™…ç±»å‹è°ƒç”¨Float64()æˆ–Int64() ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:7","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"è‡ªå®šä¹‰è§£ææ—¶é—´å­—æ®µ Goè¯­è¨€å†…ç½®çš„jsonåŒ…ä½¿ç”¨RFC3339æ ‡å‡†ä¸­å®šä¹‰çš„æ—¶é—´æ ¼å¼ï¼Œå¯¹æˆ‘ä»¬åºåˆ—åŒ–æ—¶é—´å­—æ®µçš„æ—¶å€™æœ‰å¾ˆå¤šé™åˆ¶ func main() { p1 := Post{CreateTime: time.Now()} marshal, err := json.Marshal(p1) if err != nil { fmt.Println(err) return } fmt.Println(string(marshal)) jsonStr := `{\"create_time\":\"2020-05-16 12:25:42\"}` var p2 Post if err := json.Unmarshal([]byte(jsonStr), \u0026p2); err != nil { fmt.Println(err) return } fmt.Println(p2) } ä¸Šé¢çš„ä»£ç è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š {\"create_time\":\"2020-05-16T21:23:48.1498199+08:00\"} parsing time \"\"2020-05-16 12:25:42\"\" as \"\"2006-01-02T15:04:05Z07:00\"\": cannot parse \" 12:25:42\"\" as \"T\" è¿™ä¸ªæŠ¥é”™è¯´æ˜jsonåŒ…ä¸è¯†åˆ«æˆ‘ä»¬å¸¸ç”¨çš„å­—ç¬¦ä¸²æ—¶é—´æ ¼å¼ï¼Œå¦‚2020-05-16 12:25:42 ä¸è¿‡æˆ‘ä»¬é€šè¿‡å®ç°json.Marshaler/json.Unmarshaleræ¥å£å®ç°è‡ªå®šä¹‰çš„äº‹ä»¶æ ¼å¼è§£æ å®ç°decodeåŒ…ä¸‹çš„ä¸¤ä¸ªæ¥å£å‡½æ•°MarshalJSONå’ŒUnmarshalJSONï¼Œè€Œä¸”è¿™ä¸ªä¹Ÿå¯ä»¥ä½œä¸ºå®ç°è‡ªå®šä¹‰è§£æ func (ct *CustomTime) UnmarshalJSON(b []byte) (err error) { fmt.Println(string(b)) s := strings.Trim(string(b), \"\\\"\") if s == \"null\" { ct.Time = time.Time{} return } ct.Time, err = time.Parse(ctLayout, s) return } func (ct *CustomTime) MarshalJSON() ([]byte, error) { if ct.Time.UnixNano() == nilTime { return []byte(\"null\"), nil } return []byte(fmt.Sprintf(\"\\\"%s\\\"\", ct.Time.Format(ctLayout))), nil } ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:8","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"ä½¿ç”¨åŒ¿åç»“æ„ä½“æ·»åŠ å­—æ®µ ä½¿ç”¨å†…åµŒç»“æ„ä½“èƒ½å¤Ÿæ‰©å±•ç»“æ„ä½“çš„å­—æ®µï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬æ²¡æœ‰å¿…è¦å•ç‹¬å®šä¹‰æ–°çš„ç»“æ„ä½“ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åç»“æ„ä½“ç®€åŒ–æ“ä½œ type UserInfo struct { ID int `json:\"id\"` Name string `json:\"name\"` } func main() { u1 := UserInfo{ ID: 123456, Name: \"å¼ ä¸‰\", } // ä½¿ç”¨åŒ¿åç»“æ„ä½“å†…åµŒUserå¹¶æ·»åŠ é¢å¤–å­—æ®µToken b, err := json.Marshal(struct { *UserInfo Token string `json:\"token\"` }{ \u0026u1, \"91je3a4s72d1da96h\", }) if err != nil { fmt.Println(err) return } fmt.Println(string(b)) } è¾“å‡ºç»“æœä¸ºï¼š{\"id\":123456,\"name\":\"å¼ ä¸‰\",\"token\":\"91je3a4s72d1da96h\"} ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:9","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"ä½¿ç”¨åŒ¿åç»“æ„ä½“ç»„åˆå¤šä¸ªç»“æ„ä½“ åŒç†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŒ¿åç»“æ„ä½“æ¥ç»„åˆå¤šä¸ªç»“æ„ä½“æ¥åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ•°æ® type Student struct { Name string `json:\"name\"` } type Teacher struct { Subject string `json:\"subject\"` } func main() { stu := Student{Name: \"å¼ ä¸‰\"} tea := Teacher{Subject: \"CS\"} // ä½¿ç”¨åŒ¿åç»“æ„ä½“å†…åµŒUserå¹¶æ·»åŠ é¢å¤–å­—æ®µToken b, err := json.Marshal(struct { *Student *Teacher }{ \u0026stu, \u0026tea, }) if err != nil { fmt.Println(err) return } fmt.Println(string(b)) } è¾“å‡ºç»“æ„ä¸ºï¼š{\"name\":\"å¼ ä¸‰\",\"subject\":\"CS\"} ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:10","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"gjsonåº“ package main import ( \"fmt\" \"github.com/tidwall/gjson\" ) const data string = `{\"good\":[{\"name\":\"chicken\"}]}` func main() { get := gjson.Get(data, \"good.#.name\") fmt.Println(get) } gjsonçš„å…¶ä»–æ–¹æ³•æŸ¥çœ‹å®˜æ–¹apiå°±å¥½ ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:11","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"å‚è€ƒé“¾æ¥ https://www.liwenzhou.com/posts/Go/json_tricks_in_go/ https://github/tidwall/gjson ","date":"2020-05-16","objectID":"/golang-json-serialization/:0:12","tags":["Golang"],"title":"Golangä¹‹jsonåºåˆ—åŒ–","uri":"/golang-json-serialization/"},{"categories":["Golang"],"content":"ContextåŒ…æ˜¯ä»€ä¹ˆå¾ˆå¼ºå¤§çš„åŒ…ï¼Œä»–å¯ç”¨æˆ·webå¤„ç†å¤šä¸ªgoroutineæ•°æ®é—´å…³ç³»ï¼Œäº¦å¯å¤„ç†è¶…æ—¶æ§åˆ¶å’Œä¸Šä¸‹æ–‡æ§åˆ¶ï¼Œæ€»ä¹‹ï¼Œè¦å¥½å¥½ç†è§£ä¸€ä¸‹äº†ã€‚","date":"2020-05-15","objectID":"/golang-learning-context/","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":" ä»‹ç»ä¸€ä¸‹ åœ¨go1.7ä¹‹å‰ï¼Œcontextè¿˜æ˜¯éç¼–åˆ¶çš„ï¼Œå­˜åœ¨ï¼ˆgolang.org/x/net/contextï¼‰ä¸­ï¼Œgolangå›¢é˜Ÿå‘ç°contextè¿™ä¸ªä¸œè¥¿å¾ˆå¥½ç”¨ï¼Œäºæ˜¯æŠŠå®ƒæ”¶ç¼–äº†ï¼Œ1.7ç‰ˆæœ¬æ­£å¼è¿›å…¥äº†æ ‡å‡†åº“ã€‚ä¸“é—¨ç”¨æ¥ç®€åŒ–å¤„ç†å¤šä¸ªgoroutineä¹‹é—´ä¸è¯·æ±‚åŸŸçš„æ•°æ®ã€å–æ¶ˆä¿¡å·ã€æˆªæ­¢æ—¶é—´ç­‰ç›¸å…³æ“ä½œã€‚ å¯¹æœåŠ¡å™¨ä¼ å…¥çš„è¯·æ±‚åº”è¯¥åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œè€Œå¯¹æœåŠ¡å™¨çš„ä¼ å‡ºè°ƒç”¨åº”è¯¥æ¥å—ä¸Šä¸‹æ–‡ï¼Œå®ƒä»¬ä¹‹é—´çš„å‡½æ•°è°ƒç”¨é“¾å¿…é¡»ä¼ é€’ä¸Šä¸‹æ–‡ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨WithCancelã€WithDeadlineã€WithTimeOutã€WithValueåˆ›å»ºçš„æ´¾ç”Ÿä¸Šä¸‹æ–‡ï¼Œå½“ä¸€ä¸ªä¸Šä¸‹æ–‡è¢«å–æ¶ˆæ—¶ï¼Œå®ƒæ´¾ç”Ÿçš„æ‰€æœ‰ä¸Šä¸‹æ–‡ä¹Ÿè¢«å–æ¶ˆã€‚ Contextå¸¸ç”¨çš„ä½¿ç”¨å§¿åŠ¿ webç¼–ç¨‹ä¸­ï¼Œä¸€ä¸ªè¯·æ±‚å¯¹åº”å¤šä¸ªgoroutineä¹‹é—´çš„æ•°æ®äº¤äº’ è¶…æ—¶æ§åˆ¶ ä¸Šä¸‹æ–‡æ§åˆ¶ ","date":"2020-05-15","objectID":"/golang-learning-context/:0:0","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":"contextçš„åº•å±‚ç»“æ„ type Context interface { Deadline() (deadline time.Time, ok bool) Done() \u003c-chan struct{} Err() error Value(key interface{}) interface{} } å­—æ®µ å«ä¹‰ Deadline è¿”å›ä¸€ä¸ªtime.Timeï¼Œè¡¨ç¤ºå½“å‰Contextåº”è¯¥ç»“æŸçš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯å®Œæˆå·¥ä½œçš„æˆªæ­¢æ—¶é—´ï¼Œokåˆ™è¡¨ç¤ºæœ‰ç»“æŸæ—¶é—´ Done å½“Contextè¢«å–æ¶ˆæˆ–è€…è¶…æ—¶æ—¶å€™è¿”å›çš„ä¸€ä¸ªcloseçš„channelï¼Œå‘Šè¯‰ç»™contextçš„ç›¸å…³çš„å‡½æ•°è¦åœæ­¢å½“å‰å·¥ä½œç„¶åè¿”å› Err contextè¢«å–æ¶ˆçš„åŸå› ï¼Œå®ƒåªä¼šåœ¨Doneè¿”å›çš„Channelè¢«å…³é—­æ—¶æ‰ä¼šè¿”å›éç©ºçš„å€¼ Value ä»contextä¸­è¿”å›é”®å¯¹åº”çš„å€¼ï¼Œå¯¹äºåŒä¸€ä¸ªä¸Šä¸‹æ–‡æ¥è¯´ï¼Œå¤šæ¬¡è°ƒç”¨valueä¼šä¼ å…¥ç›¸åŒçš„keyä¼šè¿”å›ç›¸åŒçš„ç»“æœï¼Œè¯¥æ–¹æ³•ä»…ç”¨äºä¼ é€’è·¨APIå’Œè¿›ç¨‹é—´è·Ÿè¯·æ±‚åŸŸçš„æ•°æ®ï¼Œcontextå®ç°å…±äº«æ•°æ®å­˜å‚¨çš„åœ°æ–¹ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ ","date":"2020-05-15","objectID":"/golang-learning-context/:0:1","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":"contextçš„åˆ›å»º ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„åˆ›å»ºContextï¼ŒåŒ…é‡Œå¤´å®šä¹‰äº†Backgroundæ¥ä½œä¸ºæ‰€æœ‰Contextçš„æ ¹ï¼Œå¯ä»¥è®¤ä¸ºæ‰€æœ‰çš„Contextæ˜¯æ ‘çš„ç»“æ„ï¼ŒBackgroundæ˜¯æ ‘çš„æ ¹ï¼Œå½“ä»»ä¸€Contextè¢«å–æ¶ˆçš„æ—¶å€™ï¼Œé‚£ä¹ˆç»§æ‰¿ä»–çš„Contextå°†å…¨éƒ¨è¢«å›æ”¶ã€‚ ","date":"2020-05-15","objectID":"/golang-learning-context/:0:2","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":"contextçš„Api WithCancel WithCancelè¿”å›å¸¦æœ‰æ–°Doneé€šé“çš„çˆ¶èŠ‚ç‚¹çš„å‰¯æœ¬ï¼Œå½“è°ƒç”¨è¿”å›çš„cancelå‡½æ•°æˆ–å½“å…³é—­ çˆ¶ä¸Šä¸‹æ–‡ çš„Doneé€šé“æ—¶ï¼Œå°†å…³é—­è¿”å›ä¸Šä¸‹æ–‡çš„Doneé€šé“ï¼Œæ— è®ºå…ˆå‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚ func WithCancel(parent Context) (ctx Context, cancel CancelFunc) ç»ƒä¹ åœºæ™¯ï¼š åœ¨æºç¨‹ä¸­ä¾æ¬¡å¾ªç¯è®¡æ•°ï¼Œç›´åˆ°ç­‰äº5çš„ä¹‹åé€€å‡ºåç¨‹ func main() { ctx, cancel := context.WithCancel(context.Background()) // å½“æˆ‘ä»¬å–å®Œéœ€è¦çš„æ•´æ•°åè°ƒç”¨cancel defer cancel() // ä»é€šé“ä¸­è¯»å‡º for n := range gen(ctx) { fmt.Println(n) if n == 5 { break } } } func gen(ctx context.Context) \u003c-chan int { dst := make(chan int) n := 1 go func() { for { select { // ç”¨contextç»“æŸæ‰ï¼Œå…¶å®å°±æ˜¯è¯»å–åˆ°ç©ºçš„struct case \u003c-ctx.Done(): return // returnç»“æŸè¯¥goroutineï¼Œé˜²æ­¢æ³„éœ² case dst \u003c- n: n++ } } }() return dst } **è§£é‡Šï¼š**åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œgenå‡½æ•°åœ¨å•ç‹¬çš„goroutineä¸­ç”Ÿæˆæ•´æ•°å¹¶å°†å®ƒä»¬å‘é€åˆ°è¿”å›çš„é€šé“ã€‚ gençš„è°ƒç”¨è€…åœ¨ä½¿ç”¨ç”Ÿæˆçš„æ•´æ•°ä¹‹åéœ€è¦å–æ¶ˆä¸Šä¸‹æ–‡ï¼Œä»¥å…genå¯åŠ¨çš„å†…éƒ¨goroutineå‘ç”Ÿæ³„æ¼ã€‚ WithDeadline WithDeadlineè¿”å›çˆ¶ä¸Šä¸‹æ–‡çš„å‰¯æœ¬ï¼Œå¹¶å°†deadlineè°ƒæ•´ä¸ºä¸è¿Ÿäºdã€‚å¦‚æœçˆ¶ä¸Šä¸‹æ–‡çš„deadlineå·²ç»æ—©äºdï¼Œåˆ™WithDeadline(parent, d)åœ¨è¯­ä¹‰ä¸Šç­‰åŒäºçˆ¶ä¸Šä¸‹æ–‡ã€‚å½“æˆªæ­¢æ—¥è¿‡æœŸæ—¶ï¼Œå½“è°ƒç”¨è¿”å›çš„cancelå‡½æ•°æ—¶ï¼Œæˆ–è€…å½“çˆ¶ä¸Šä¸‹æ–‡çš„Doneé€šé“å…³é—­æ—¶ï¼Œè¿”å›ä¸Šä¸‹æ–‡çš„Doneé€šé“å°†è¢«å…³é—­ï¼Œä»¥æœ€å…ˆå‘ç”Ÿçš„æƒ…å†µä¸ºå‡†ã€‚ func WithDeadline(parent Context, d time.Time) (Context, CancelFunc) å–æ¶ˆä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶ç›¸å…³è”çš„èµ„æºï¼Œå› æ­¤ä»£ç è¿˜åº”è¯¥åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancel func main() { d := time.Now().Add(time.Millisecond * 500) ctx, cancel := context.WithDeadline(context.Background(), d) defer cancel() select { case \u003c-time.After(time.Second * 1): fmt.Println(\"overslept\") case \u003c-ctx.Done(): fmt.Println(ctx.Err()) // context deadline exceeded } } ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ª50æ¯«ç§’ä¹‹åè¿‡æœŸçš„deadlineï¼Œç„¶åæˆ‘ä»¬è°ƒç”¨context.WithDeadline(context.Background(), d)å¾—åˆ°ä¸€ä¸ªä¸Šä¸‹æ–‡ctxå’Œä¸€ä¸ªå–æ¶ˆå‡½æ•°cancelï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªselectè®©ä¸»ç¨‹åºé™·å…¥ç­‰å¾…ï¼Œç­‰å¾…1ç§’åæ‰“å°overslepté€€å‡ºæˆ–è€…ç­‰å¾…ctxè¿‡æœŸåé€€å‡ºï¼Œå› ä¸ºctx50ç§’åå°±è¿‡æœŸï¼Œæ‰€ä»¥ctx.Doneä¼šå…ˆæ¥æ”¶åˆ°å€¼ï¼Œä¸Šé¢çš„ä»£ç ä¼šæ‰“å°ctx.Err()å–æ¶ˆåŸå›  WithTimeout WithTimeoutè¿”å›WithDeadLine(parent, time.Now().Add(timeout)) func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc) å–æ¶ˆæ­¤ä¸Šä¸‹æ–‡å°†é‡Šæ”¾ä¸å…¶ç›¸å…³çš„èµ„æºï¼Œå› æ­¤ä»£ç åº”è¯¥åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­è¿è¡Œçš„æ“ä½œå®Œæˆåç«‹å³è°ƒç”¨cancelï¼Œé€šå¸¸ç”¨äºæ•°æ®åº“æˆ–è€…ç½‘ç»œè¿æ¥çš„è¶…æ—¶æ§åˆ¶ var wg sync.WaitGroup func main() { // è®¾ç½®50æ¯«ç§’çš„è¶…æ—¶ ctx, cancel := context.WithTimeout(context.Background(), time.Millisecond*50) defer cancel() wg.Add(1) go worker(ctx) time.Sleep(time.Second * 5) wg.Wait() fmt.Println(\"over\") } func worker(ctx context.Context) { LOOP: for { fmt.Println(\"db connecting ...\") // å‡è®¾è¿æ¥æ•°æ®åº“è€—æ—¶10æ¯«ç§’ time.Sleep(time.Millisecond * 10) select { case \u003c-ctx.Done(): break LOOP default: } } fmt.Println(\"worker done!\") wg.Done() } ä¸Šé¢ç¤ºä¾‹ä»£ç å°±æ˜¯è®¾ç½®äº†ä¸€ä¸ª50æ¯«ç§’çš„è¶…æ—¶ï¼Œåœ¨æ¨¡æ‹Ÿé“¾æ¥è¶…æ—¶åˆ°50æ¯«ç§’çš„æ—¶å€™ç»“æŸäº†æ“ä½œ WithValue WithValueå‡½æ•°èƒ½å¤Ÿå°†è¯·æ±‚ä½œç”¨åŸŸçš„æ•°æ®ä¸Contextå¯¹è±¡å»ºç«‹å…³ç³» func WithValue(parent Context, key, val interface{}) Context WithValueè¿”å›çˆ¶èŠ‚ç‚¹çš„å‰¯æœ¬ï¼Œå…¶ä¸­ä¸keyå…³è”çš„å€¼ä¸ºval ä»…å¯¹APIå’Œè¿›ç¨‹é—´ä¼ é€’è¯·æ±‚åŸŸçš„æ•°æ®ä½¿ç”¨ä¸Šä¸‹æ–‡å€¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨å®ƒæ¥ä¼ é€’å¯é€‰å‚æ•°ç»™å‡½æ•° æ‰€æä¾›çš„é”®å¿…é¡»æ˜¯å¯æ¯”è¾ƒçš„ï¼Œå¹¶ä¸”ä¸åº”è¯¥æ˜¯stringç±»å‹æˆ–ä»»ä½•å…¶ä»–å†…ç½®ç±»å‹ï¼Œä»¥é¿å…ä½¿ç”¨ä¸Šä¸‹æ–‡åœ¨åŒ…ä¹‹é—´å‘ç”Ÿå†²çªã€‚WithValueçš„ç”¨æˆ·åº”è¯¥ä¸ºé”®å®šä¹‰è‡ªå·±çš„ç±»å‹ã€‚ä¸ºäº†é¿å…åœ¨åˆ†é…ç»™interface{}æ—¶è¿›è¡Œåˆ†é…ï¼Œä¸Šä¸‹æ–‡é”®é€šå¸¸å…·æœ‰å…·ä½“ç±»å‹struct{}ï¼Œæˆ–è€…å¯¼å‡ºçš„ä¸Šä¸‹æ–‡å…³é”®å˜é‡çš„é™æ€ç±»å‹åº”è¯¥ä¸ºæŒ‡é’ˆæˆ–æ¥å£ã€‚ type TraceCode string var wg sync.WaitGroup func main() { ctx, cancel := context.WithTimeout(context.Background(), time.Millisecond*50) defer cancel() ctx = context.WithValue(ctx, TraceCode(\"TRACE_CODE\"), \"12512312234\") wg.Add(1) go worker(ctx) time.Sleep(time.Second * 5) wg.Wait() fmt.Println(\"over\") } func worker(ctx context.Context) { key := TraceCode(\"TRACE_CODE\") // åœ¨å­goroutineä¸­è·å–trace code traceCode, ok := ctx.Value(key).(string) if !ok { fmt.Println(\"invalid trace code\") } LOOP: for { fmt.Printf(\"worker, trace code:%s\\n\", traceCode) time.Sleep(time.Millisecond * 10) // å‡è®¾æ­£å¸¸è¿æ¥æ•°æ®åº“è€—æ—¶10æ¯«ç§’ select { case \u003c-ctx.Done(): // 50æ¯«ç§’åè‡ªåŠ¨è°ƒç”¨ break LOOP default: } } fmt.Println(\"worker done!\") wg.Done() } ","date":"2020-05-15","objectID":"/golang-learning-context/:0:3","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":"å»ºè®®æˆ–æ³¨æ„äº‹é¡¹ æ¨èä»¥å‚æ•°çš„æ–¹å¼ä¼ é€’context å¦‚æœæ˜¯å…¨é“¾è·¯å‡½æ•°ï¼Œåº”è¯¥æŠŠcontextè®¾ç½®ä¸ºç¬¬ä¸€ä¸ªå‚æ•° ç»™ä¸€ä¸ªå‡½æ•°æ–¹æ³•ä¼ é€’Contextçš„æ—¶å€™ï¼Œä¸è¦ä¼ é€’nilï¼Œå¦‚æœä¸çŸ¥é“ä¼ é€’ä»€ä¹ˆï¼Œå°±ä½¿ç”¨context.TODO() Contextçš„Valueç›¸å…³æ–¹æ³•åº”è¯¥ä¼ é€’è¯·æ±‚åŸŸçš„å¿…è¦æ•°æ®ï¼Œä¸åº”è¯¥ç”¨äºä¼ é€’å¯é€‰å‚æ•° Contextæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¯ä»¥æ”¾å¿ƒçš„åœ¨å¤šä¸ªgoroutineä¸­ä¼ é€’ ","date":"2020-05-15","objectID":"/golang-learning-context/:0:4","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":"å‚è€ƒèµ„æ–™ ææ–‡å‘¨åšå®¢ ç”±æµ…å…¥æ·±èŠèŠGolangçš„context ","date":"2020-05-15","objectID":"/golang-learning-context/:0:5","tags":["Golang"],"title":"Golangä¹‹å­¦ä¹ Context","uri":"/golang-learning-context/"},{"categories":["Golang"],"content":"å†™äº†å¾ˆä¹…çš„sliceå´æ²¡æœ‰å»æƒ³è¿‡ä»–çš„æ‰©å®¹æœºåˆ¶ï¼Œè¿‘æœŸé¢è¯•ï¼Œå»äº†è§£äº†ä¸€ä¸‹ï¼Œè¿™æ¬¡ä¹Ÿç®—æ˜¯å½»åº•æ˜ç™½äº†ï¼Œä¹‹å‰åªæ˜¯ç®€å•çš„çœ‹äº†çœ‹æ–‡ç« ","date":"2020-05-08","objectID":"/golang-slice-expand-capacity/","tags":["Golang"],"title":"ç»ˆäºç†è§£äº†Sliceæ‰©å®¹æœºåˆ¶","uri":"/golang-slice-expand-capacity/"},{"categories":["Golang"],"content":"Sliceimg \" Slice å†™äº†å¾ˆä¹…çš„sliceå´æ²¡æœ‰å»æƒ³è¿‡ä»–çš„æ‰©å®¹æœºåˆ¶ï¼Œè¿‘æœŸé¢è¯•ï¼Œå»äº†è§£äº†ä¸€ä¸‹ï¼Œè¿™æ¬¡ä¹Ÿç®—æ˜¯å½»åº•æ˜ç™½äº†ï¼Œä¹‹å‰åªæ˜¯ç®€å•çš„çœ‹äº†çœ‹æ–‡ç«  ","date":"2020-05-08","objectID":"/golang-slice-expand-capacity/:0:0","tags":["Golang"],"title":"ç»ˆäºç†è§£äº†Sliceæ‰©å®¹æœºåˆ¶","uri":"/golang-slice-expand-capacity/"},{"categories":["Golang"],"content":"STEP1 é¢„ä¼°æ‰©å®¹åå®¹é‡ å…ˆçœ‹ä¸€ä¸ªä¾‹å­ ints := []int{1, 2} ----\u003e æ‰©å®¹å‰å®¹é‡ oldCap = 2 ints = append(ints, 3, 4, 5) ----\u003e è‡³å°‘æ‰©å®¹åˆ° cap = 5 ? äº†è§£ä¸€ä¸‹é¢„ä¼°è§„åˆ™ åœ¨åŸå®¹é‡æ‰©å¤§ä¸¤å€è¿˜è¦å°äºæ‰©å®¹åçš„å®¹é‡æ—¶ï¼Œé¢„ä¼°å®¹é‡å°±æ˜¯æ‰©å®¹åçš„ å½“å¤§äºæ‰©å®¹åçš„æ—¶ï¼Œå¦‚æœå°äº1024æ—¶ï¼Œé¢„ä¼°å®¹é‡æ˜¯æ‰©å®¹å‰å®¹é‡çš„2å€ å½“å¤§äºæ‰©å®¹åçš„æ—¶ï¼Œå¦‚æœå¤§äº1024æ—¶ï¼Œé¢„ä¼°å®¹é‡æ˜¯æ‰©å®¹å‰å®¹é‡çš„1.25å€ï¼Œå³ä»¥0.25å¢åŠ  æ‰©å®¹è§„åˆ™image-20200508232208435 \" æ‰©å®¹è§„åˆ™ ","date":"2020-05-08","objectID":"/golang-slice-expand-capacity/:0:1","tags":["Golang"],"title":"ç»ˆäºç†è§£äº†Sliceæ‰©å®¹æœºåˆ¶","uri":"/golang-slice-expand-capacity/"},{"categories":["Golang"],"content":"STEP2 éœ€è¦å¤šå¤§å†…å­˜ æ‰€éœ€å†…å­˜ = é¢„ä¼°å®¹é‡ * å…ƒç´ ç±»å‹å¤§å° è¿™é‡Œä»¥int ä¸¾ä¾‹ï¼Œintåœ¨64ä½æ“ä½œä¸Šé»˜è®¤æ˜¯int64ï¼Œå³8ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥å…ƒç´ ç±»å‹ä¸ä¸€æ ·ï¼Œå†…å­˜ä¹Ÿä¸ä¸€æ · å†…å­˜è¿™é‡Œéœ€è¦äº†è§£golangçš„å†…å­˜ç®¡ç†æ¨¡å—ï¼Œæºç åœ¨runtime/sizeclasses.go // class bytes/obj bytes/span objects tail waste max waste // 1 8 8192 1024 0 87.50% // 2 16 8192 512 0 43.75% // 3 32 8192 256 0 46.88% // 4 48 8192 170 32 31.52% ... // 17 256 8192 32 0 5.86% // 18 288 8192 28 128 12.16% // 19 320 8192 25 192 11.80% // 20 352 8192 23 96 9.88% // 21 384 8192 21 128 9.51% // 22 416 8192 19 288 10.71% // 23 448 8192 18 128 8.37% // 24 480 8192 17 32 6.82% // 25 512 8192 16 0 6.05% ... // 66 32768 32768 1 0 12.50% é€šè¿‡é˜…è¯»æºç å¯ä»¥çŸ¥é“ï¼Œåœ¨å°äº16å­—èŠ‚æ—¶ï¼Œæ¯æ¬¡ä»¥8ä¸ªå­—èŠ‚å¢åŠ ï¼Œå½“å¤§äº16å°äº2^8æ—¶ï¼Œæ¯æ¬¡ä»¥16å­—èŠ‚å¢åŠ ï¼Œå½“å¤§äº2^8å°äº2^9æ—¶ä»¥32å­—èŠ‚å¢åŠ ï¼Œä¾æ­¤è§„å¾‹â€¦ ç”³è¯·å†…å­˜æ—¶ï¼Œé€‰æ‹©ç›¸è¿‘çš„ï¼Œä¸”å¤§äºç­‰äºéœ€è¦çš„å¤§å° ","date":"2020-05-08","objectID":"/golang-slice-expand-capacity/:0:2","tags":["Golang"],"title":"ç»ˆäºç†è§£äº†Sliceæ‰©å®¹æœºåˆ¶","uri":"/golang-slice-expand-capacity/"},{"categories":["Golang"],"content":"STEP3 åŒ¹é…åˆ°åˆé€‚çš„å†…å­˜è§„æ ¼ åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œé¢„ä¼°å®¹é‡ä¸º5 1ä¸ªintæ˜¯8ä¸ªå­—èŠ‚ï¼Œ5 * 8 = 40 æœ€åˆé€‚çš„å†…å­˜è§„æ ¼æ˜¯48ï¼Œæ‰€ä»¥48 / 8 = 6 æ‰€ä»¥å†…å­˜ä¼šæ‰©å®¹åˆ° 6 ä¸ªå®¹é‡ ","date":"2020-05-08","objectID":"/golang-slice-expand-capacity/:0:3","tags":["Golang"],"title":"ç»ˆäºç†è§£äº†Sliceæ‰©å®¹æœºåˆ¶","uri":"/golang-slice-expand-capacity/"},{"categories":["Golang"],"content":"Practice ä¸‹é¢ä»£ç è¾“å‡ºä»€ä¹ˆï¼Ÿ package main import \"fmt\" func main() { a := make([]int, 20) b := make([]int, 42) a = append(a, b...) fmt.Println(len(a), cap(a)) } é•¿åº¦æ˜¯62ï¼Œè¿™æ— ç–‘ï¼Œé‡ç‚¹æ˜¯å®¹é‡è®¡ç®—ï¼Œä¸¤å€çš„æ—§å®¹é‡å°äºé¢„ä¼°è®¡çš„å®¹é‡ï¼Œæ‰€ä»¥é¢„ä¼°è®¡å®¹é‡æˆäº†62 62 * 8 = 496ï¼Œåœ¨å†…å­˜è§„æ ¼ä¸­é€‰æ‹©åˆ°äº†512ï¼Œæ‰€ä»¥512 / 8 = 64ï¼Œå³cap(a) = 64 ","date":"2020-05-08","objectID":"/golang-slice-expand-capacity/:0:4","tags":["Golang"],"title":"ç»ˆäºç†è§£äº†Sliceæ‰©å®¹æœºåˆ¶","uri":"/golang-slice-expand-capacity/"},{"categories":["MySQL"],"content":"å‡è®¾ç°åœ¨å­¦æ ¡ç›®å‰åªå¼€è®¾äº†è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­ä¸‰é—¨è¯¾ï¼ŒåæœŸè¿˜å¯å¼€è®¾å…¶ä»–é—¨è¯¾ï¼Œè¯·å°½é‡åˆç†çš„è®¾è®¡ç­çº§ã€å­¦ç”Ÿã€è€ƒç”Ÿæˆç»©çš„æ•°æ®åº“è¡¨ç»“æ„å¹¶å†™å‡ºæŸ¥è¯¢è¯­å¥ã€‚","date":"2020-05-08","objectID":"/mysql-score-exercises/","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["MySQL"],"content":"é¢˜ç›® å‡è®¾ç°åœ¨å­¦æ ¡ç›®å‰åªå¼€è®¾äº†è¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­ä¸‰é—¨è¯¾ï¼ŒåæœŸè¿˜å¯å¼€è®¾å…¶ä»–é—¨è¯¾ï¼Œè¯·å°½é‡åˆç†çš„è®¾è®¡ç­çº§ã€å­¦ç”Ÿã€è€ƒç”Ÿæˆç»©çš„æ•°æ®åº“è¡¨ç»“æ„å¹¶å†™å‡ºæŸ¥è¯¢è¯­å¥ã€‚ æ•°æ®åº“ç±»å›¾å¦‚ä¸‹ï¼š ç±»å›¾image-20200508171438084 \" ç±»å›¾ è®¾è®¡çš„sqlå¦‚ä¸‹ï¼š /* Navicat Premium Data Transfer Source Server : root Source Server Type : MySQL Source Server Version : 50726 Source Host : localhost:3306 Source Schema : xuexiao Target Server Type : MySQL Target Server Version : 50726 File Encoding : 65001 Date: 08/05/2020 16:30:45 */SETNAMESutf8mb4;SETFOREIGN_KEY_CHECKS=0;-- ---------------------------- -- Table structure for t_class -- ---------------------------- DROPTABLEIFEXISTS`t_class`;CREATETABLE`t_class`(`classid`int(10)NOTNULL,`classname`varchar(32)CHARACTERSETutf8COLLATEutf8_general_ciNULLDEFAULTNULL,PRIMARYKEY(`classid`)USINGBTREE)ENGINE=InnoDBCHARACTERSET=utf8COLLATE=utf8_general_ciROW_FORMAT=Dynamic;-- ---------------------------- -- Records of t_class -- ---------------------------- INSERTINTO`t_class`VALUES(1701,'ä¸€ç­');INSERTINTO`t_class`VALUES(1702,'äºŒç­');INSERTINTO`t_class`VALUES(1703,'ä¸‰ç­');-- ---------------------------- -- Table structure for t_course -- ---------------------------- DROPTABLEIFEXISTS`t_course`;CREATETABLE`t_course`(`cid`int(10)NOTNULL,`cname`varchar(32)CHARACTERSETutf8COLLATEutf8_general_ciNULLDEFAULTNULL,PRIMARYKEY(`cid`)USINGBTREE)ENGINE=InnoDBCHARACTERSET=utf8COLLATE=utf8_general_ciROW_FORMAT=Dynamic;-- ---------------------------- -- Records of t_course -- ---------------------------- INSERTINTO`t_course`VALUES(101,'MySQL');INSERTINTO`t_course`VALUES(102,'ç½‘ç»œ');INSERTINTO`t_course`VALUES(103,'ç³»ç»Ÿ');-- ---------------------------- -- Table structure for t_score -- ---------------------------- DROPTABLEIFEXISTS`t_score`;CREATETABLE`t_score`(`sid`int(10)NULLDEFAULTNULL,`cid`int(10)NULLDEFAULTNULL,`score`int(3)NULLDEFAULTNULL,INDEX`s_id`(`sid`)USINGBTREE,INDEX`c_id`(`cid`)USINGBTREE,CONSTRAINT`c_id`FOREIGNKEY(`cid`)REFERENCES`t_course`(`cid`)ONDELETENOACTIONONUPDATECASCADE,CONSTRAINT`s_id`FOREIGNKEY(`sid`)REFERENCES`t_student`(`sid`)ONDELETENOACTIONONUPDATECASCADE)ENGINE=InnoDBCHARACTERSET=utf8COLLATE=utf8_general_ciROW_FORMAT=Dynamic;-- ---------------------------- -- Records of t_score -- ---------------------------- INSERTINTO`t_score`VALUES(10001,101,59);INSERTINTO`t_score`VALUES(10001,102,66);INSERTINTO`t_score`VALUES(10001,103,80);INSERTINTO`t_score`VALUES(10002,101,79);INSERTINTO`t_score`VALUES(10002,102,50);INSERTINTO`t_score`VALUES(10002,103,82);INSERTINTO`t_score`VALUES(10003,101,30);INSERTINTO`t_score`VALUES(10003,102,84);INSERTINTO`t_score`VALUES(10003,103,65);-- ---------------------------- -- Table structure for t_student -- ---------------------------- DROPTABLEIFEXISTS`t_student`;CREATETABLE`t_student`(`sid`int(10)NOTNULL,`sname`varchar(32)CHARACTERSETutf8COLLATEutf8_general_ciNULLDEFAULTNULL,`classid`int(10)NULLDEFAULTNULL,PRIMARYKEY(`sid`)USINGBTREE,INDEX`class_id`(`classid`)USINGBTREE,CONSTRAINT`class_id`FOREIGNKEY(`classid`)REFERENCES`t_class`(`classid`)ONDELETENOACTIONONUPDATECASCADE)ENGINE=InnoDBCHARACTERSET=utf8COLLATE=utf8_general_ciROW_FORMAT=Dynamic;-- ---------------------------- -- Records of t_student -- ---------------------------- INSERTINTO`t_student`VALUES(10001,'å¼ ä¸‰',1701);INSERTINTO`t_student`VALUES(10002,'æå››',1701);INSERTINTO`t_student`VALUES(10003,'ç‹äº”',1702);INSERTINTO`t_student`VALUES(10004,'èµµå…­',1702);INSERTINTO`t_student`VALUES(10005,'å­™ä¸ƒ',1703);INSERTINTO`t_student`VALUES(10006,'ç‹å…«',1703);SETFOREIGN_KEY_CHECKS=1; ","date":"2020-05-08","objectID":"/mysql-score-exercises/:0:1","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["MySQL"],"content":"é¢˜ç›®ä¸€ ç»Ÿè®¡æ¯ä¸ªå­¦ç”Ÿæˆç»©å’Œé€‰è¯¾æ•°é‡ä»¥åŠæ‰€å±ç­çº§ SELECTd.classid,a.sid,a.sname,SUM(c.score)totalScore,COUNT(c.cid)courseNumFROMt_studenta,t_courseb,t_scorec,t_classdWHEREa.sid=c.sidANDb.cid=c.cidANDa.classid=d.classidGROUPBYa.sid æŸ¥è¯¢ç»“æœï¼š classid sid sname totalScore courseNum 1701 10001 å¼ ä¸‰ 205 3 1701 10002 æå›› 211 3 1702 10003 ç‹äº” 179 3 ","date":"2020-05-08","objectID":"/mysql-score-exercises/:0:2","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["MySQL"],"content":"é¢˜ç›®äºŒ ç»Ÿè®¡æ¯ä¸ªç­æ€»æˆç»©åœ¨180åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿä¿¡æ¯ SELECTd.classid,a.sid,a.sname,SUM(c.score)totalScoreFROMt_studenta,t_courseb,t_scorec,t_classdWHEREa.sid=c.sidANDb.cid=c.cidANDa.classid=d.classidGROUPBYa.sidHAVING(SUM(c.score)\u003e180) æŸ¥è¯¢ç»“æœï¼š classid sid sname totalScore 1701 10001 å¼ ä¸‰ 205 1701 10002 æå›› 211 ","date":"2020-05-08","objectID":"/mysql-score-exercises/:0:3","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["MySQL"],"content":"é¢˜ç›®ä¸‰ ç»Ÿè®¡å„ä¸ªç­æ€»æˆç»©åœ¨180åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„æ•°é‡ SELECTe.classid,COUNT(classid)stuNumFROM(SELECTbj.classid,xs.sid,SUM(cj.score)totalScoreFROMt_studentxs,t_coursekc,t_scorecj,t_classbjWHERExs.sid=cj.sidANDkc.cid=cj.cidANDxs.classid=bj.classidGROUPBYxs.sidHAVING(totalScore\u003e180))e classid stuNum 1701 2 ","date":"2020-05-08","objectID":"/mysql-score-exercises/:0:4","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["MySQL"],"content":"é¢˜ç›®å›› ç»Ÿè®¡å„ä¸ªç­æˆç»©æœ€é«˜çš„å­¦ç”Ÿå§“åï¼Œæ€»æˆç»© SELECTe.classid,stu.sname,MAX(e.totalScore)maxScoreFROMt_studentstuINNERJOIN(SELECTbj.classid,xs.sid,SUM(cj.score)totalScoreFROMt_studentxs,t_coursekc,t_scorecj,t_classbjWHERExs.sid=cj.sidANDkc.cid=cj.cidANDxs.classid=bj.classidGROUPBYxs.sid)eONstu.sid=e.sidGROUPBYclassid classid sname maxScore 1701 å¼ ä¸‰ 211 1702 ç‹äº” 179 ","date":"2020-05-08","objectID":"/mysql-score-exercises/:0:5","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["MySQL"],"content":"1055é”™è¯¯å‘ 1055 - Expression #1 of SELECT list is not in GROUP BY clause and contains nonaggregated column 'd.sname' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by è§£å†³æ–¹æ³•ï¼š åœ¨MySQLå®‰è£…ç›®å½•æ‰¾åˆ°my.iniï¼Œåœ¨mysqldä¸‹é¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION é‡å¯mysqlæœåŠ¡ netstopmysqlnetstartmysql ","date":"2020-05-08","objectID":"/mysql-score-exercises/:0:6","tags":["MySQL"],"title":"MySQLå¸¸è€ƒå­¦ç”Ÿæˆç»©æŸ¥è¯¢ç»ƒä¹ é¢˜","uri":"/mysql-score-exercises/"},{"categories":["Golang"],"content":"Golangå¤ä¹ è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œé€šè¿‡è®¾è®¡æ¨¡å¼å­¦ä¹ å…¶è®¾è®¡æ€æƒ³ï¼Œæ— ä»–ï¼Œå”¯æ‰‹ç†Ÿå°”ã€‚","date":"2020-04-21","objectID":"/golang-design-pattern/","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è™½ç„¶è®¾è®¡æ¨¡å¼å­˜åœ¨äºé¢å‘å¯¹è±¡çš„è¯­è¨€ä¸­ï¼ŒGolangå¹¶ä¸æ˜¯ä¸€é—¨OOPçš„è¯­è¨€ï¼Œä½†æ˜¯è¿™å¹¶ä»£è¡¨ä¸èƒ½å®ç°è®¾è®¡æ¨¡å¼ã€‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:0:0","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"å…­å¤§åŸåˆ™ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:0","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"å¼€é—­åŸåˆ™ ä¸€ä¸ªè½¯ä»¶å®ä½“ï¼Œå¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚åœ¨è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå› å˜åŒ–ã€å‡çº§ã€å’Œç»´æŠ¤å¯¹åŸæœ‰ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œå¯èƒ½ä¼šå¼•å…¥é”™è¯¯ï¼Œæ‰€ä»¥å½“è½¯ä»¶éœ€è¦å˜åŒ–æ—¶ï¼Œé€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“çš„è¡Œä¸ºæ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸæœ‰ä»£ç ã€‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:1","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"é‡Œæ°ä»£æ¢åŸåˆ™ ä»»ä½•åŸºç±»å¯ä»¥å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šå¯ä»¥å‡ºç°ã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯ç»§æ‰¿å¤ç”¨çš„åŸºçŸ³ï¼Œåªæœ‰å½“è¡ç”Ÿç±»å¯ä»¥æ›¿æ¢æ‰åŸºç±»ï¼Œè½¯ä»¶å•ä½çš„åŠŸèƒ½ä¸å—åˆ°å½±å“æ—¶ï¼ŒåŸºç±»æ‰èƒ½çœŸæ­£è¢«å¤ç”¨ï¼Œè€Œè¡ç”Ÿç±»ä¹Ÿèƒ½å¤Ÿåœ¨åŸºç±»çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„è¡Œä¸ºã€‚é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹â€œå¼€é—­â€åŸåˆ™çš„è¡¥å……ã€‚å®ç°â€œå¼€é—­â€åŸåˆ™çš„å…³é”®æ­¥éª¤å°±æ˜¯æŠ½è±¡åŒ–ã€‚è€ŒåŸºç±»ä¸å­ç±»çš„ç»§æ‰¿å…³ç³»å°±æ˜¯æŠ½è±¡åŒ–çš„å…·ä½“å®ç°ï¼Œæ‰€ä»¥é‡Œæ°ä»£æ¢åŸåˆ™æ˜¯å¯¹å®ç°æŠ½è±¡åŒ–çš„å…·ä½“æ­¥éª¤çš„è§„èŒƒã€‚é€šä¿—çš„è¯´å°±æ˜¯ï¼šå­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ã€‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:2","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"å•ä¸€èŒè´£åŸåˆ™ ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:3","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"ä¾èµ–å€’ç½®åŸåˆ™ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼›ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚é€šä¿—çš„è¯´ï¼šå¤šç”¨æŠ½è±¡çš„æ¥å£æ¥æè¿°ç›¸åŒçš„åŠ¨ä½œï¼Œé™ä½å®ç°è¿™ä¸ªåŠ¨ä½œçš„äººå’Œç‰©ä¹‹å‰çš„è€¦åˆåº¦ã€‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:4","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"æ¥å£éš”ç¦»åŸåˆ™ å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼›ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šã€‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:5","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è¿ªç±³ç‰¹æ³•åˆ™ ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£ã€‚ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»è¶Šå¯†åˆ‡ï¼Œè€¦åˆåº¦è¶Šå¤§ï¼Œå½“ä¸€ä¸ªç±»å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯¹å¦ä¸€ä¸ªç±»çš„å½±å“ä¹Ÿè¶Šå¤§ã€‚ åˆ›å»ºå‹ ç»“æ„å‹ è¡Œä¸ºå‹ åˆ›å»ºè€…æ¨¡å¼ è£…é¥°è€…æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ å·¥å‚æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ å‘½ä»¤æ¨¡å¼ æŠ½è±¡å·¥å‚æ¨¡å¼ ä»£ç†æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ å•ä¾‹æ¨¡å¼ å¤–è§‚æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ ","date":"2020-04-21","objectID":"/golang-design-pattern/:1:6","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"åˆ›å»ºå‹ ","date":"2020-04-21","objectID":"/golang-design-pattern/:2:0","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"åˆ›å»ºè€…æ¨¡å¼ wikiè§£é‡Š åˆ›å»ºè€…æ¨¡å¼ï¼ˆä¹Ÿå¯ç§°ä¸ºç”Ÿæˆå™¨æ¨¡å¼ / å»ºé€ æ¨¡å¼ï¼‰ï¼Œæ˜¯ä¸€ç§å¯¹è±¡æ„å»ºæ¨¡å¼ã€‚å®ƒå¯ä»¥å°†å¤æ‚å¯¹è±¡çš„å»ºé€ è¿‡ç¨‹æŠ½è±¡å‡ºæ¥ï¼ˆæŠ½è±¡ç±»åˆ«ï¼‰ï¼Œä½¿è¿™ä¸ªæŠ½è±¡è¿‡ç¨‹çš„ä¸åŒå®ç°æ–¹æ³•å¯ä»¥æ„é€ å‡ºä¸åŒè¡¨ç°ï¼ˆå±æ€§ï¼‰çš„å¯¹è±¡ã€‚ å»ºé€ è€…æ¨¡å¼çš„ä¸»è¦è§’è‰² Productï¼šäº§å“è§’è‰²ã€‚å®ƒæ˜¯åŒ…å«å¤šä¸ªç»„æˆéƒ¨ä»¶çš„å¤æ‚å¯¹è±¡å’Œå±æ€§ï¼Œæ˜¯ä¸€ä¸ªæ¨¡å‹ã€‚ Builderï¼šæŠ½è±¡å»ºé€ è€…ã€‚å®ƒæ˜¯ä¸€ä¸ªåŒ…å«åˆ›å»ºäº§å“å„ä¸ªå­éƒ¨ä»¶çš„æŠ½è±¡æ–¹æ³•çš„æ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œé€šå¸¸è¿˜åŒ…å«ä¸€ä¸ªè¿”å›å¤æ‚äº§å“çš„æ–¹æ³• ï¼Œè¯¥æ–¹æ³•ä¸€èˆ¬æ˜¯æŠ½è±¡å¹¶ä¸”è¿”å›å€¼ç±»å‹æ˜¯äº§å“è§’è‰²ï¼ˆProductï¼‰ã€‚ç†è§£ä¸ºå®ƒåœ¨è°ƒç”¨ç”Ÿæˆæ–¹æ³•ã€‚ ConcreteBuilderï¼šå…·ä½“å»ºé€ è€…ã€‚å®ç° Builder æ¥å£æˆ–è€…ç»§æ‰¿Builder æŠ½è±¡ç±»ï¼Œå®Œæˆå¤æ‚äº§å“çš„å„ä¸ªéƒ¨ä»¶çš„å…·ä½“åˆ›å»ºæ–¹æ³•ã€‚ Directorï¼šæŒ‡æŒ¥è€…ã€‚å®ƒè°ƒç”¨å»ºé€ è€…ï¼ˆBuilderï¼‰ä¸­çš„éƒ¨ä»¶æ„é€ ä¸è£…é…æ–¹æ³•å®Œæˆå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œä¸è®¾è®¡äº§å“å…·ä½“æ„å»ºç»†èŠ‚ã€‚ ä¸»è¦ä½œç”¨ ç”¨æˆ·ä¸ç”¨å…³å¿ƒå¯¹è±¡çš„å»ºé€ è¿‡ç¨‹å°±å¯ä»¥åˆ›å»ºå¤æ‚å¯¹è±¡ æ–¹ä¾¿ç”¨æˆ·åˆ›å»ºå¾ˆå¤šç±»ä¼¼æˆ–è€…æœ‰ç›¸åŒå±æ€§çš„å¯¹è±¡ ä»£ç å¤ç”¨æ€§é«˜ï¼Œä¸”ç”¨å°è£…æ€§ Golangå®ç° package builder // ä¸ºåˆ›å»ºä¸€ä¸ªProductå¯¹è±¡çš„å„ä¸ªéƒ¨ä»¶æŒ‡å®šæŠ½è±¡æ¥å£ type Builder interface { Build() } // å®ç°Builderçš„æ¥å£ä»¥æ„é€ å’Œè£…é…è¯¥äº§å“çš„å„ä¸ªéƒ¨ä»¶ type ConcreteBuilder struct { built bool } // æ„é€ ä¸€ä¸ªä½¿ç”¨Builderæ¥å£çš„å¯¹è±¡ type Director struct { builder Builder } // è¡¨ç¤ºè¢«æ„é€ çš„å¤æ‚å¯¹è±¡ // ConcreteBuilderåˆ›å»ºè¯¥äº§å“çš„å†…éƒ¨è¡¨ç¤ºå¹¶å®šä¹‰å®ƒçš„è£…é…è¿‡ç¨‹ type Product struct { Build bool } // å®ä¾‹åŒ–Directorå¯¹è±¡ func NewDirector(b Builder) Director { return Director{builder: b} } // å®ä¾‹åŒ–ConcreteBuilderå¯¹è±¡ func NewConcreteBuilder() ConcreteBuilder { return ConcreteBuilder{built: false} } // ConcreteBuilderå®ç°äº† Builder æ¥å£çš„ Build æ–¹æ³• func (c *ConcreteBuilder) Build() { c.built = true } // æ„é€ äº†ä¸€ä¸ªä½¿ç”¨Builderæ¥å£çš„å¯¹è±¡ func (d *Director) Construct() { d.builder.Build() } // é€šè¿‡ConcreteBuilder è·å– Product çš„ç»“æœ func (c *ConcreteBuilder) GetResult() Product { return Product{Build: c.built} } å•å…ƒæµ‹è¯• package builder import ( \"fmt\" \"testing\" ) func TestConcreteBuilder_GetResult(t *testing.T) { // å…·ä½“å»ºé€ è€…ï¼Œå®ç°ä¸€ä¸ªå®ŒæˆBuilderæ¥å£çš„å¯¹è±¡ builder := NewConcreteBuilder() // æŒ‡æŒ¥å…·ä½“å»ºé€ è€…æ“ä½œ director := NewDirector(\u0026builder) // æŒ‡æŒ¥å…·ä½“å»ºé€ è€…å»åšå»ºé€ å·¥ä½œ director.Construct() // å»ºé€ å®Œæˆçš„ç»“æœ result := builder.GetResult() fmt.Println(result.Build) } // result === RUN TestConcreteBuilder_GetResult true --- PASS: TestConcreteBuilder_GetResult (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:2:1","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"å·¥å‚æ¨¡å¼ ç®€å•å·¥ç¨‹æ¨¡å¼ wikiè§£é‡Š æ™®é€šçš„å·¥å‚æ–¹æ³•æ¨¡å¼é€šå¸¸ä¼´éšç€å¯¹è±¡çš„å…·ä½“ç±»å‹ä¸å·¥å‚å…·ä½“ç±»å‹çš„ä¸€ä¸€å¯¹åº”ï¼Œå®¢æˆ·ç«¯ä»£ç æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„å…·ä½“ç±»å‹å·¥å‚ä½¿ç”¨ã€‚ç„¶è€Œï¼Œè¿™ç§é€‰æ‹©å¯èƒ½åŒ…å«å¤æ‚çš„é€»è¾‘ï¼Œè¿™æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªå•ä¸€çš„å·¥å‚ç±»ï¼Œç”¨ä»¥åŒ…å«è¿™ç§é€‰æ‹©é€»è¾‘ï¼Œæ ¹æ®å‚æ•°çš„ä¸åŒé€‰æ‹©å®ç°ä¸åŒçš„å…·ä½“å¯¹è±¡ã€‚è¿™ä¸ªå·¥å‚ç±»ä¸éœ€è¦ç”±æ¯ä¸ªå…·ä½“äº§å“å®ç°ä¸€ä¸ªè‡ªå·±çš„å…·ä½“çš„å·¥å‚ç±»ã€‚ ç™½è¯ç†è§£ å³å•ç‹¬åˆ›å»ºä¸€ä¸ªå•ä¸€çš„å·¥å‚ç±»ï¼Œåªåšç›¸å…³çš„å®ç°ï¼Œé¿å…å¤æ‚çš„åˆ›å»ºè¿‡ç¨‹ Golangå®ç° package simple_factory // å®ç°æ¥å£ type API interface { say(name string) string } type Chinese struct{} type English struct{} // å®ç°æ–¹æ³• func NewAPI(lang string) API { switch lang { case \"ch\": return \u0026Chinese{} case \"en\": return \u0026English{} default: return nil } } func (*Chinese) say(name string) string { return \"ä½ å¥½\" + name } func (*English) say(name string) string { return \"Hello\" + name } å•å…ƒæµ‹è¯• package simple_factory import ( \"fmt\" \"testing\" ) func TestNewAPI(t *testing.T) { apiCh := NewAPI(\"ch\") say1 := apiCh.say(\"å¼ \") fmt.Println(say1) apiEn := NewAPI(\"en\") say2 := apiEn.say(\"Tom\") fmt.Println(say2) } // result === RUN TestNewAPI ä½ å¥½å¼  HelloTom --- PASS: TestNewAPI (0.00s) PASS å¤æ‚å·¥å‚æ¨¡å¼ ç™½è¯ç†è§£ å½“æˆ‘ä»¬éœ€è¦å®ç°æ•°æ®å›ºå®šï¼Œå®ç°ä¸åŒæ“ä½œçš„æ—¶å€™ï¼Œå°±å¯ä»¥æ‰©å±•æ“ä½œæ¥å®ç°æ–°åŠ å…¥çš„æ–¹æ³•ä¸å½±å“ä¹‹å‰çš„ä»£ç ï¼Œå°±æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼Œå®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œè®©æ¥å£å®ç°è®¾ç½®ã€è®¡ç®—æ–¹æ³•ï¼Œè®¾è®¡ä¸€ä¸ªå‡æ³•å·¥å‚ï¼Œä½¿å…¶å®ç°å‡æ³•ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å†å®ç°ä¸€ä¸ªåŠ æ³•å·¥å‚ï¼Œåªéœ€è¦å•ç‹¬åœ¨åˆ›å»ºä¸€ä¸ªåŠ æ³•çš„ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œå¾€å¾€è¿™äº›éœ€è¦æŠ½ç¦»åœ¨å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚ package factory type Operator interface { SetLeft(int) SetRight(int) Result() int } // factory pattern type OperatorFactory interface { Create() Operator } // operator base type OperatorBase struct { left, right int } // èµ‹å€¼ func (o *OperatorBase) SetLeft(left int) { o.left = left } // èµ‹å€¼ func (o *OperatorBase) SetRight(right int) { o.right = right } // æ“ä½œæ•° type SubOperator struct { *OperatorBase } // å‡æ³•å·¥å‚ type SubOperatorFactory struct{} // å®é™…æ“ä½œ func (o SubOperator) Result() int { return o.left - o.right } func (o SubOperatorFactory) Create() Operator { return \u0026SubOperator{ \u0026OperatorBase{}, } } å•å…ƒæµ‹è¯• package factory import ( \"fmt\" \"testing\" ) func TestSubOperator_Result(t *testing.T) { var fac OperatorFactory fac = SubOperatorFactory{} op := fac.Create() op.SetLeft(10) op.SetRight(20) fmt.Println(op.Result()) } // result === RUN TestSubOperator_Result -10 --- PASS: TestSubOperator_Result (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:2:2","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"æŠ½è±¡å·¥å‚ ","date":"2020-04-21","objectID":"/golang-design-pattern/:2:3","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"ç»“æ„å‹ ","date":"2020-04-21","objectID":"/golang-design-pattern/:3:0","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è£…é¥°è€…æ¨¡å¼ wikiè§£é‡Š ä¿®é¥°æ¨¡å¼ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹é¢†åŸŸä¸­ï¼Œä¸€ç§åŠ¨æ€åœ°å¾€ä¸€ä¸ªç±»ä¸­æ·»åŠ æ–°çš„è¡Œä¸ºçš„è®¾è®¡æ¨¡å¼ã€‚å°±åŠŸèƒ½è€Œè¨€ï¼Œä¿®é¥°æ¨¡å¼ç›¸æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ï¼Œè¿™æ ·å¯ä»¥ç»™æŸä¸ªå¯¹è±¡è€Œä¸æ˜¯æ•´ä¸ªç±»æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚ é€šè¿‡ä½¿ç”¨ä¿®é¥°æ¨¡å¼ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ‰©å……ä¸€ä¸ªç±»çš„åŠŸèƒ½ã€‚åŸç†æ˜¯ï¼šå¢åŠ ä¸€ä¸ªä¿®é¥°ç±»åŒ…è£¹åŸæ¥çš„ç±»ï¼ŒåŒ…è£¹çš„æ–¹å¼ä¸€èˆ¬æ˜¯é€šè¿‡åœ¨å°†åŸæ¥çš„å¯¹è±¡ä½œä¸ºä¿®é¥°ç±»çš„æ„é€ å‡½æ•°çš„å‚æ•°ã€‚è£…é¥°ç±»å®ç°æ–°çš„åŠŸèƒ½ï¼Œä½†æ˜¯ï¼Œåœ¨ä¸éœ€è¦ç”¨åˆ°æ–°åŠŸèƒ½çš„åœ°æ–¹ï¼Œå®ƒå¯ä»¥ç›´æ¥è°ƒç”¨åŸæ¥çš„ç±»ä¸­çš„æ–¹æ³•ã€‚ä¿®é¥°ç±»å¿…é¡»å’ŒåŸæ¥çš„ç±»æœ‰ç›¸åŒçš„æ¥å£ã€‚ ç™½è¯ åšä¸€ä¸ªä¿®é¥°æ–¹æ³•ï¼Œä»–çš„å‚æ•°æ˜¯è¦ä¿®é¥°çš„å‡½æ•°çš„å‚æ•°ï¼Œä»–çš„è¿”å›å€¼æ˜¯æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„ç»“æœï¼ŒåŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªè®°å½•æ¯ä¸ªå‡½æ•°æ‰§è¡Œæ—¶é—´çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬æ‰‹åŠ¨åœ¨æ¯ä¸ªå‡½æ•°æ·»åŠ è®°å½•æ‰§è¡Œæ—¶é—´çš„å‡½æ•°ï¼Œåœ¨å‡½æ•°å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œè¦èŠ±è´¹å¤§é‡æ—¶é—´ä¸”ä¸æ˜“ç»´æŠ¤ï¼Œæ‰€ä»¥å°±éœ€è¦ä¿®é¥°æ¨¡å¼æ¥å¸®æˆ‘ä»¬ä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œå¾—åˆ°ç‰¹å®šçš„ç»“æœã€‚ Golangå®ç° package decorator import \"fmt\" // å®šä¹‰ä¸€ä¸ªç»„ä»¶æ¥å£å¸¦æœ‰ä¸€ä¸ªè®¡ç®—å±æ€§ type Component interface { Calc(int) interface{} } // å®šä¹‰ä¸€ä¸ªè®¡ç®—æ­£æ–¹å½¢é¢ç§¯ç»„ä»¶æ¨¡å‹ type SquareAreaComponent struct{} // è®¡ç®—é¢ç§¯ func (s *SquareAreaComponent) Calc(sideLen int) interface{} { return sideLen * sideLen } // å®šä¹‰ä¿®é¥°å™¨ type SignDecorator struct { component Component } // å®ä¾‹ä¿®é¥°å™¨ func WarpMulDecorator(c Component) Component { return \u0026SignDecorator{component: c} } // ç”¨ä¿®é¥°å™¨è¿”å›ç‰¹å®šå†…å®¹ func (d *SignDecorator) Calc(sideLen int) interface{} { return fmt.Sprintf(\"è¾¹é•¿ä¸º %v çš„æ­£æ–¹å½¢é¢ç§¯ä¸º %v\", sideLen, sideLen*sideLen) } å•å…ƒæµ‹è¯• package decorator import ( \"fmt\" \"testing\" ) func TestCall(t *testing.T) { // æ™®é€šæ–¹æ³• s := \u0026SquareAreaComponent{} ret := s.Calc(10) fmt.Println(ret) // ç”¨ä¿®é¥°å™¨è°ƒç”¨ decorator := WarpMulDecorator(s) fmt.Println(decorator.Calc(10)) } // result === RUN TestCall 100 è¾¹é•¿ä¸º 10 çš„æ­£æ–¹å½¢é¢ç§¯ä¸º 100 --- PASS: TestCall (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:3:1","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è¡Œä¸ºå‹ ","date":"2020-04-21","objectID":"/golang-design-pattern/:4:0","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è¿­ä»£å™¨æ¨¡å¼ wikiè§£é‡Š åœ¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹é‡Œï¼Œè¿­ä»£å™¨æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ˜¯ä¸€ç§æœ€ç®€å•ä¹Ÿæœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼ã€‚ä»–å¯ä»¥è®©ç”¨æˆ·é€è¿‡ç‰¹å®šçš„æ¥å£å¯»è®¿å®¹å™¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è€Œä¸ç”¨äº†è§£åº•å±‚çš„å®ç°ã€‚ ç™½è¯è§£é‡Š æ¨èè¿™ç¯‡æ–‡ç« ï¼ŒçœŸçš„æ˜¯ç™½è¯è§£é‡Š ç™½è¯è§£é‡Šè¿­ä»£å™¨ Golangå®ç° package iterator type Iterator interface { Idx() int // ç´¢å¼• Val() interface{} // å€¼ HasNext() bool // æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå€¼ Next() // ä¸‹ä¸€ä¸ª } type ArrayIterator struct { array []interface{} index *int } // return idx func (a *ArrayIterator) Idx() *int { return a.index } // return val func (a *ArrayIterator) Val() interface{} { return a.array[*a.index] } // return is next func (a *ArrayIterator) HasNext() bool { return len(a.array) \u003e= *a.index+1 } // return next func (a *ArrayIterator) Next() { if a.HasNext() { *a.index++ } } å•å…ƒæµ‹è¯• package iterator import ( \"fmt\" \"testing\" ) func TestArrayIterator(t *testing.T) { arr := []interface{}{1, 3, 5, 7, 9} idx := 0 interator := ArrayIterator{array: arr, index: \u0026idx} for it := interator; it.HasNext(); it.Next() { idx, val := it.Idx(), it.Val().(int) for val != arr[*idx] { fmt.Println(\"err\") } fmt.Println(*idx, val) } } // result === RUN TestArrayIterator 0 1 1 3 2 5 3 7 4 9 --- PASS: TestArrayIterator (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:4:1","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"å‘½ä»¤æ¨¡å¼ wikiè§£é‡Š åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹çš„èŒƒç•´ä¸­ï¼Œå‘½ä»¤æ¨¡å¼æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°è¯•ä»¥å¯¹è±¡æ¥ä»£è¡¨å®é™…è¡ŒåŠ¨ã€‚å‘½ä»¤å¯¹è±¡å¯ä»¥æŠŠè¡ŒåŠ¨åŠå…¶å‚æ•°å°è£…èµ·æ¥ï¼Œäºæ˜¯è¿™äº›è¡ŒåŠ¨å¯ä»¥è¢«ï¼š é‡å¤å¤šæ¬¡ å–æ¶ˆï¼ˆå¦‚æœè¯¥å¯¹è±¡æœ‰å®ç°çš„è¯ï¼‰ å–æ¶ˆååˆå†é‡åš Golangå®ç° package command import \"fmt\" // å®šä¹‰ä¸€ä¸ªPersonï¼Œä»–æœ‰åå­—ï¼Œä»–æœ‰åŠ¨ä½œä¸”å¯ä»¥ä¼ é€’ type Person struct { name string cmd Command } // å®šä¹‰ä¸€ä¸ªåŠ¨ä½œï¼Œä»–æœ‰æ‰§è¡Œè€…çš„åå­—ï¼Œæœ‰å…·ä½“æ“ä½œçš„æ–¹æ³• type Command struct { person *Person method func() } // å®ä¾‹åŒ–åŠ¨ä½œ func NewCommand(p *Person, method func()) Command { return Command{ person: p, method: method, } } // execute func (c *Command) Execute() { c.method() } // å®ä¾‹åŒ–Person func NewPerson(name string, cmd Command) Person { return Person{ name: name, cmd: cmd, } } func (p *Person) Buy() { fmt.Println(fmt.Sprintf(\"%s is buying\", p.name)) } func (p *Person) Cook() { fmt.Println(fmt.Sprintf(\"%s is cooking\", p.name)) p.cmd.Execute() } func (p *Person) Wash() { fmt.Println(fmt.Sprintf(\"%s is washing\", p.name)) p.cmd.Execute() } func (p *Person) Listen() { fmt.Println(fmt.Sprintf(\"%s is Listening\", p.name)) p.cmd.Execute() } func (p *Person) Talk() { fmt.Println(fmt.Sprintf(\"%s is Talking\", p.name)) p.cmd.Execute() } å•å…ƒæµ‹è¯• package command import \"testing\" func TestCommand_Execute(t *testing.T) { // ä¾æ¬¡è°ƒç”¨ zhangsan := NewPerson(\"zhangsan\", NewCommand(nil, nil)) lisi := NewPerson(\"lisi\", NewCommand(\u0026zhangsan, zhangsan.Buy)) wangwu := NewPerson(\"wangwu\", NewCommand(\u0026lisi, lisi.Cook)) zhaoliu := NewPerson(\"zhaoliu\", NewCommand(\u0026wangwu, wangwu.Listen)) sunqi := NewPerson(\"sunqi\", NewCommand(\u0026zhaoliu, zhaoliu.Wash)) sunqi.Talk() } // result === RUN TestCommand_Execute sunqi is Talking zhaoliu is washing wangwu is Listening lisi is cooking zhangsan is buying --- PASS: TestCommand_Execute (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:4:2","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è´£ä»»é“¾æ¨¡å¼ wikiè§£é‡Š è´£ä»»é“¾æ¨¡å¼åœ¨é¢å‘å¯¹è±¡ç¨‹å¼è®¾è®¡é‡Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼Œå®ƒåŒ…å«äº†ä¸€äº›å‘½ä»¤å¯¹è±¡å’Œä¸€ç³»åˆ—çš„å¤„ç†å¯¹è±¡ã€‚æ¯ä¸€ä¸ªå¤„ç†å¯¹è±¡å†³å®šå®ƒèƒ½å¤„ç†å“ªäº›å‘½ä»¤å¯¹è±¡ï¼Œå®ƒä¹ŸçŸ¥é“å¦‚ä½•å°†å®ƒä¸èƒ½å¤„ç†çš„å‘½ä»¤å¯¹è±¡ä¼ é€’ç»™è¯¥é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡ã€‚ ç™½è¯è®² æˆ‘ä¸ªäººç†è§£å°±æ˜¯å¦‚æœä¸€ä»¶äº‹æƒ…ï¼Œå¤šä¸ªäººè¦å»åšï¼Œå°±æ¯”å¦‚è¯·å‡æ¥è¯´ï¼Œå°äº3å¤©çš„ç­ä¸»ä»»å¯ä»¥è¯·ï¼Œå¤§äº3å¤©å°äº5å¤©çš„çº§éƒ¨ä¸»ä»»å¯ä»¥è¯·ï¼Œå¤§äº5å¤©å°äº10å¤©çš„åªèƒ½æ•™åŠ¡æ ¡é•¿è¯·ï¼Œå…¶ä»–çš„ä¸ç»™è¯·ï¼Œåœ¨ä¼ ç»Ÿæ¨¡å¼ä¸­å†™ä»£ç éœ€è¦å†™ä¸€å †çš„if else if elseï¼Œè¿™ä¼šä½¿å¾—ä»£ç è‡ƒè‚¿ã€è€¦åˆåº¦é«˜ã€‚é‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ï¼Œé€šè¿‡æ¥å£æš´éœ²å‡ºä¸€ä¸ªæ–¹æ³•ï¼Œæ¯ä¸ªäººåªéœ€è¦åšåˆ°æ–¹æ³•é‡Œé¢çš„äº‹å³å¯ï¼Œå¦‚æœè‡ªå·±å¤„ç†ä¸äº†ï¼Œé‚£å°±äº¤ç»™ä¸Šä¸€çº§å¤„ç†ã€‚ Golangå®ç° package Responsibillity_Chain import \"strconv\" // å®šä¹‰ä¸€ä¸ªæ¥å£ é‡Œé¢æ˜¯å¤„ç†æ–¹æ³• type Handler interface { Handler(handlerID int) string } // è¿™ä¸ªå¤„ç†æ–¹æ³•æœ‰ä¸€äº›å‚æ•°ï¼Œä¾‹å¦‚æ‰§è¡Œè€…çš„åå­—ï¼ŒIDä»¥åŠä»–å¯ä»¥ç®¡ç†çš„ä¸‹çº§ type handler struct { name string next Handler handlerId int } // å®ä¾‹åŒ–è¿™ä¸ªå¤„ç†æ–¹æ³• func NewHandler(name string, next Handler, handlerID int) *handler { return \u0026handler{ name: name, next: next, handlerId: handlerID, } } // å®šä¹‰å¤„ç†æ–¹æ³• func (h *handler) Handler(handlerID int) string { // å¦‚æœæ˜¯è‡ªå·±æ‰§è¡Œï¼Œæ˜¯å¯ä»¥çš„ if h.handlerId == handlerID { return h.name + \" handled \" + strconv.Itoa(handlerID) } // å¦‚æœè‡ªå·±å·²ç»æ˜¯ä¸€ä¸²è´£ä»»é“¾ä¸­çš„æœ€åä¸€ä¸ªäººï¼Œå³ä»£è¡¨åé¢æ²¡æœ‰ï¼Œé‚£å°±è¿”å› if h.next == nil { return \"\" } // å¦åˆ™å°±ç»§ç»­ç»™ä¸‹ä¸ªäººæ‰§è¡Œ return h.next.Handler(handlerID) } å•å…ƒæµ‹è¯• package Responsibillity_Chain import ( \"fmt\" \"testing\" ) func TestHandler_Handle(t *testing.T) { // æå››æ˜¯å¤§é¢†å¯¼ å¼ ä¸‰æ˜¯å°é¢†å¯¼ æå››ç®¡ç€å¼ ä¸‰ zhangsan := NewHandler(\"zhangsan\", nil, 1) lisi := NewHandler(\"lisi\", zhangsan, 2) // æå››å¯ä»¥è‡ªå·±å¤„ç†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å«ä¸‹çº§å¤„ç† task := lisi.Handler(2) //task := lisi.Handler(1) fmt.Println(task) // å¼ ä¸‰åªèƒ½å¤„ç†è‡ªå·±çš„ï¼Œå¤„ç†ä¸äº†çš„è¿˜éœ€è¦ç»™ä¸Šçº§ task = zhangsan.Handler(1) fmt.Println(task) } // result === RUN TestHandler_Handle lisi handled 2 zhangsan handled 1 --- PASS: TestHandler_Handle (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:4:3","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"è§‚å¯Ÿè€…æ¨¡å¼ wikiè§£é‡Š è§‚å¯Ÿè€…æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼çš„ä¸€ç§ï¼Œåœ¨æ­¤ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªç›®æ ‡å¯¹è±¡ç®¡ç†æ‰€æœ‰ç›¸ä¾äºå®ƒçš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨å®ƒæœ¬èº«çš„çŠ¶æ€æ”¹å˜æ—¶ä¸»åŠ¨å‘å‡ºé€šçŸ¥ã€‚è¿™é€šå¸¸é€è¿‡å‘¼å«å„è§‚å¯Ÿè€…æ‰€æä¾›çš„æ–¹æ³•æ¥å®ç°ï¼Œæ­¤ç§æ¨¡å¼é€šå¸¸è¢«ç”¨æ¥å®æ—¶äº‹ä»¶å¤„ç†ç³»ç»Ÿã€‚ ç™½è¯ æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥ç”¨æ¥ç›‘å¬æ”¹å˜è½¬æ€ç­‰ç­‰ Golangå®ç° package Observer import ( \"fmt\" \"sync\" \"time\" ) // å®šä¹‰äº‹ä»¶ï¼Œç”¨äºé€šçŸ¥ type Event struct { Data int } // å®šä¹‰è§‚å¯Ÿè€…æ¥å£ï¼Œé€šçŸ¥å›é¦ˆ type Observer interface { NotifyCallback(event Event) } // å®šä¹‰ä¸»é¢˜æ¥å£ï¼Œå®ç°æ·»åŠ ç›‘å¬ï¼Œç§»é™¤ç›‘å¬ï¼Œé€šçŸ¥ä¸‰ä¸ªæ–¹æ³• type Subject interface { AddListener(observer Observer) RemoveListener(observer Observer) Notify(event Event) } // ç¡®ä¿è§‚å¯Ÿè€…å”¯ä¸€ type eventObserver struct { ID int Time time.Time } // æ–¹æ³•ä½“ type eventSubject struct { Observers sync.Map } // NotifyCallback func (e *eventObserver) NotifyCallback(event Event) { fmt.Printf(\"Recieved: %d after %v\\n\", event.Data, time.Since(e.Time)) } // AddListener func (e *eventSubject) AddListener(obs Observer) { e.Observers.Store(obs, struct{}{}) } // RemoveListener func (e *eventSubject) RemoveListener(obs Observer) { e.Observers.Delete(obs) } // Notify func (e *eventSubject) Notify(event Event) { // èŒƒå›´ä¾æ¬¡è°ƒç”¨æ˜ å°„ä¸­çš„æ¯ä¸ªé”®å’Œå€¼ï¼Œå¦‚æœfè¿”å›falseï¼Œåˆ™rangeåœæ­¢è¿­ä»£ e.Observers.Range(func(key, value interface{}) bool { if key == nil { return false } key.(Observer).NotifyCallback(event) return true }) } // è¾“å‡ºfibåºåˆ—æ•° func Fib(n int) chan int { out := make(chan int) go func() { defer close(out) for i, j := 0, 1; i \u003c n; i, j = i+j, i { out \u003c- i } }() return out } å•å…ƒæµ‹è¯• package Observer import ( \"sync\" \"testing\" \"time\" ) func TestFib(t *testing.T) { // å®ä¾‹åŒ–ä¸»é¢˜å¯¹è±¡ subject := eventSubject{Observers: sync.Map{}} // ç»‘å®šè§‚å¯Ÿè€…ID obs1 := eventObserver{ID: 1, Time: time.Now()} obs2 := eventObserver{ID: 1, Time: time.Now()} // æ·»åŠ ç›‘å¬ subject.AddListener(\u0026obs1) subject.AddListener(\u0026obs2) for k := range Fib(10) { subject.Notify(Event{Data: k}) } } // result === RUN TestFib Recieved: 0 after 0s Recieved: 0 after 0s Recieved: 1 after 0s Recieved: 1 after 0s Recieved: 1 after 0s Recieved: 1 after 0s Recieved: 2 after 0s Recieved: 2 after 0s Recieved: 3 after 0s Recieved: 3 after 0s Recieved: 5 after 962.3Âµs Recieved: 5 after 962.3Âµs Recieved: 8 after 962.3Âµs Recieved: 8 after 962.3Âµs --- PASS: TestFib (0.00s) PASS ","date":"2020-04-21","objectID":"/golang-design-pattern/:4:4","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"å‚è€ƒ WIKIç™¾ç§‘ Bilibili github ","date":"2020-04-21","objectID":"/golang-design-pattern/:5:0","tags":["Golang"],"title":"Golangå®ç°è½¯ä»¶è®¾è®¡æ¨¡å¼","uri":"/golang-design-pattern/"},{"categories":["Golang"],"content":"Golangå®ç°è¿›åˆ¶è®¡ç®—ä¸¤ç§æ–¹æ³•ï¼Œé€ä½è®¡ç®—å’Œä½æ“ä½œï¼Œäº†è§£ä¸°å¯Œçš„math/bigåŒ…","date":"2020-04-02","objectID":"/golang-binary-calculation/","tags":["Golang"],"title":"Golangå®ç°è¿›åˆ¶è®¡ç®—ä¸¤ç§æ–¹æ³•","uri":"/golang-binary-calculation/"},{"categories":["Golang"],"content":" æœ¬æ–‡å°†ä»¥äºŒè¿›åˆ¶è®¡ç®—ä½œä¸ºä¾‹å­å®ç° ç»™å®šä¸¤ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè¿”å›ä»–ä»¬çš„å’Œï¼ˆç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼‰ã€‚ è¾“å…¥ä¸ºéç©ºå­—ç¬¦ä¸²ä¸”åªåŒ…å«æ•°å­— 1 å’Œ 0ã€‚ ç¤ºä¾‹ 1: è¾“å…¥: a = \"11\", b = \"1\" è¾“å‡º: \"100\" ç¤ºä¾‹ 2: è¾“å…¥: a = \"1010\", b = \"1011\" è¾“å‡º: \"10101\" ","date":"2020-04-02","objectID":"/golang-binary-calculation/:0:0","tags":["Golang"],"title":"Golangå®ç°è¿›åˆ¶è®¡ç®—ä¸¤ç§æ–¹æ³•","uri":"/golang-binary-calculation/"},{"categories":["Golang"],"content":"é€ä½è®¡ç®— è§£æ³•ä¸€ï¼šé€ä½è®¡ç®— func addBinary(a string, b string) string { m, n := len(a), len(b) if m \u003e n { return addBinary(b, a) } buf := make([]byte, n+1) carry := 0 // ä»åå¾€å‰ä¾æ¬¡ç®—å°¾æ•°ç»“æœ for i, j := n-1, m-1; i \u003e= 0; i-- { if j \u003e= 0 { carry += int(a[j] - '0') j-- } carry += int(b[i] - '0') // åˆ¤æ–­è¿›ä½ buf[i+1] = byte(carry%2 + '0') carry /= 2 } // åˆ¤æ–­æ˜¯å¦æœ‰è¿›ä½ if carry == 0 { return string(buf[1:]) } buf[0] = '1' return string(buf) } ","date":"2020-04-02","objectID":"/golang-binary-calculation/:0:1","tags":["Golang"],"title":"Golangå®ç°è¿›åˆ¶è®¡ç®—ä¸¤ç§æ–¹æ³•","uri":"/golang-binary-calculation/"},{"categories":["Golang"],"content":"ä½è¿ç®— XOR æ“ä½œå¾—åˆ°ä¸¤ä¸ªæ•°å­—æ— è¿›ä½ç›¸åŠ çš„ç»“æœã€‚ å›¾1\" å›¾1 è¿›ä½å’Œä¸¤ä¸ªæ•°å­—ä¸æ“ä½œç»“æœå·¦ç§»ä¸€ä½å¯¹åº”ã€‚ å›¾2\" å›¾2 é¦–å…ˆè®¡ç®—ä¸¤ä¸ªæ•°å­—çš„æ— è¿›ä½ç›¸åŠ ç»“æœå’Œè¿›ä½ï¼Œç„¶åè®¡ç®—æ— è¿›ä½ç›¸åŠ ç»“æœä¸è¿›ä½ä¹‹å’Œã€‚åŒç†æ±‚å’Œé—®é¢˜åˆå¯ä»¥è½¬æ¢æˆä¸Šä¸€æ­¥ï¼Œç›´åˆ°è¿›ä½ä¸º 0 ç»“æŸã€‚ è®¡ç®— æŠŠ aa å’Œ bb è½¬æ¢æˆæ•´å‹æ•°å­— xx å’Œ yyï¼Œxx ä¿å­˜ç»“æœï¼Œyy ä¿å­˜è¿›ä½ã€‚ å½“è¿›ä½ä¸ä¸º 0ï¼šy != 0ï¼š è®¡ç®—å½“å‰ xx å’Œ yy çš„æ— è¿›ä½ç›¸åŠ ç»“æœï¼šanswer = x^yã€‚ è®¡ç®—å½“å‰ xx å’Œ yy çš„è¿›ä½ï¼šcarry = (x \u0026 y) Â« 1ã€‚ å®Œæˆæœ¬æ¬¡å¾ªç¯ï¼Œæ›´æ–° x = answerï¼Œy = carryã€‚ è¿”å› xx çš„äºŒè¿›åˆ¶å½¢å¼ã€‚ ä½è¿ç®— è¿ç”¨æ”¯æŒåº“ math/big ï¼Œé‡Œé¢çš„å¤§æ•°è®¡ç®— func addBinary(a string, b string) string { x, _ := new(big.Int).SetString(a, 2) y, _ := new(big.Int).SetString(b, 2) zero, _ := new(big.Int).SetString(\"0\", 2) // for y.Cmp(zero) != 0 { answer := new(big.Int).Xor(x, y) carry := x.And(x, y).Lsh(x, 1) x, y = answer, carry } return fmt.Sprintf(\"%b\", x) } ","date":"2020-04-02","objectID":"/golang-binary-calculation/:0:2","tags":["Golang"],"title":"Golangå®ç°è¿›åˆ¶è®¡ç®—ä¸¤ç§æ–¹æ³•","uri":"/golang-binary-calculation/"},{"categories":["Golang"],"content":"å¤ä¹ æ•°æ®ç»“æ„ï¼Œä½¿ç”¨Golangå†™ä¸€ä¸‹","date":"2020-03-31","objectID":"/golang-data-structure/","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":" å¤ä¹ ï¼Œæ…¢æ…¢å†™å§ã€‚ã€‚ã€‚ ","date":"2020-03-31","objectID":"/golang-data-structure/:0:0","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"æ’åº ","date":"2020-03-31","objectID":"/golang-data-structure/:1:0","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"é€‰æ‹©æ’åº æ¯æ¬¡é€‰æ‹©æ•°æ®ä¸­æœ€å°çš„æ•°æ”¾åœ¨å¼€å¤´ï¼Œè¿™æ ·ç»è¿‡è‹¥å¹²ä¸ªæ­¥éª¤ï¼Œå°±æ’å®Œäº†æ•´ä¸ªæ•°ç»„ã€‚ ç®—æ³•æ€æƒ³ è´ªå¿ƒç®—æ³•ï¼šæ¯ä¸€æ¬¡å†³ç­–åªçœ‹å½“å‰ï¼Œå½“å‰æœ€ä¼˜åˆ™å…¨å±€æœ€ä¼˜ã€‚(ä¸æ˜¯ä»»ä½•æ—¶å€™éƒ½é€‚ç”¨) å‡æ²»æ€æƒ³ï¼šå¤–å±‚å¾ªç¯æ¯ä¸€æ¬¡éƒ½èƒ½æ’å®šä¸€ä¸ªå…ƒç´ ï¼Œé—®é¢˜çš„è§„æ¨¡é€æ¸å‡å°‘ï¼Œç›´åˆ°å…¨éƒ¨è§£å†³ï¼Œå³ã€Œå¤§è€ŒåŒ–å°ï¼Œå°è€ŒåŒ–äº†ã€ã€‚ ä¼˜ç‚¹ äº¤æ¢æ¬¡æ•°æœ€å°‘ å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ï¼šO(NÂ²)ï¼Œè¿™é‡ŒNæ˜¯æ•°ç»„çš„é•¿åº¦ ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä½¿ç”¨åˆ°å¸¸æ•°ä¸ªä¸´æ—¶å˜é‡ func selectionSort(arr []int) []int { var min = 0 for i := 0; i \u003c len(arr); i++ { min = i for j := i+1; j \u003c len(arr); j++ { if arr[j] \u003c arr[min] { min = j } } arr[i], arr[min] = arr[min], arr[i] } return arr } ","date":"2020-03-31","objectID":"/golang-data-structure/:1:1","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"å†’æ³¡æ’åº å¤–å±‚å¾ªç¯æ¯ä¸€æ¬¡ç»è¿‡ä¸¤ä¸¤æ¯”è¾ƒï¼ŒæŠŠæ¯ä¸€è½®æœªæ’å®šéƒ¨åˆ†æœ€å¤§çš„å…ƒç´ æ”¾åˆ°äº†æ•°ç»„çš„æœ«å°¾ï¼› ç‰¹ç‚¹ï¼š åœ¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œæå‰æ£€æµ‹åˆ°æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œä»è€Œç»“æŸæ’åºï¼Œè€Œä¸åƒã€Œé€‰æ‹©æ’åºã€é‚£æ ·ï¼Œå³ä½¿è¾“å…¥æ•°æ®æ˜¯æœ‰åºçš„ï¼Œã€Œé€‰æ‹©æ’åºã€ä¾ç„¶éœ€è¦ã€Œå‚»ä¹ä¹ã€åœ°èµ°å®Œæ‰€æœ‰çš„æµç¨‹ã€‚ å¤æ‚åº¦åˆ†æï¼š æ—¶é—´å¤æ‚åº¦ï¼šO(NÂ²)ï¼Œè¿™é‡Œ N æ˜¯æ•°ç»„çš„é•¿åº¦ï¼› ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œä½¿ç”¨åˆ°å¸¸æ•°ä¸ªä¸´æ—¶å˜é‡ã€‚ func bubbleSort(arr []int) []int { for i := len(arr); i \u003e= 0; i-- { // ç”¨boolæ ‡è®°æ˜¯å¦å·²ç»æœ‰åºï¼Œå‡å°‘æ—¶é—´ç©ºé—´ isSorted := false for j := 0; j \u003c i; j++ { if j+1 \u003c len(arr) \u0026\u0026 arr[j] \u003e arr[j+1] { arr[j], arr[j+1] = arr[j+1], arr[j] isSorted = false } } if isSorted { break } } return arr } ","date":"2020-03-31","objectID":"/golang-data-structure/:1:2","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"è®¡æ•°æ’åº è®¡æ•°æ’åºæ˜¯éæ¯”è¾ƒæ’åºï¼Œå…¶é€‚ç”¨äºä¸€å®šèŒƒå›´å†…çš„æ•´æ•°æ’åºã€‚åœ¨å–å€¼èŒƒå›´ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå®ƒçš„æ€§èƒ½ç”šè‡³å¿«è¿‡é‚£äº›æ—¶é—´å¤æ‚åº¦O(nlogn)çš„æ’åºã€‚ å±€é™æ€§ å½“æ•°åˆ—æœ€å¤§å’Œæœ€å°å€¼å·®è·è¿‡å¤§æ—¶ï¼Œå¹¶ä¸é€‚åˆç”¨è®¡æ•°æ’åºã€‚ å½“æ•°åˆ—å…ƒç´ ä¸æ˜¯æ•´æ•°æ—¶ï¼Œä¹Ÿä¸é€‚åˆç”¨è®¡æ•°æ’åº åˆç‰ˆ å¾—åˆ°æ•°åˆ—çš„æœ€å¤§å€¼ æ ¹æ®æœ€å¤§å€¼ç¡®å®šæ•°ç»„é•¿åº¦ éå†æ•°åˆ—ï¼Œå¡«å……ç»Ÿè®¡æ•°ç»„ éå†ç»Ÿè®¡æ•°ç»„ï¼Œè¾“å‡ºç»“æœ func countSort(arr []int) []int { // 1. å¾—åˆ°æ•°åˆ—çš„æœ€å¤§å€¼ max := arr[0] for i := 1; i \u003c len(arr); i++ { if arr[i] \u003e max { max = arr[i] } } // 2. æ ¹æ®æœ€å¤§å€¼ç¡®å®šæ•°ç»„é•¿åº¦ countArray := make([]int, max+1) // 3. éå†æ•°åˆ—ï¼Œå¡«å……ç»Ÿè®¡æ•°ç»„ for i := 0; i \u003c len(arr); i++ { countArray[arr[i]]++ } // 4. éå†ç»Ÿè®¡æ•°ç»„ï¼Œè¾“å‡ºç»“æœ sortedArray := make([]int, 0, len(arr)) for i := 0; i \u003c len(countArray); i++ { for j := 0; j \u003c countArray[i]; j++ { sortedArray = append(sortedArray, i) } } return sortedArray } ä¼˜åŒ–ç‰ˆ ä¸Šé¢çš„ç®—æ³•å¹¶ä¸æ˜¯ä¸¥è°¨ï¼Œä¼šæµªè´¹æ‰å¾ˆå¤šç©ºé—´ï¼Œæ¯”å¦‚æ•°å­—æ˜¯ 90, 91, 95, 99, 93ï¼Œé‚£ä¹ˆæœ€å¤§çš„æ•°å­—æ˜¯99ï¼Œä¼šç”³è¯·100ä¸ªç©ºé—´ï¼Œä½†æ˜¯å‰é¢0~89çš„ç©ºé—´å°±æµªè´¹äº†ã€‚ æœ€å¤§å€¼-æœ€å°å€¼=èŒƒå›´ é€†åºæ’åˆ—ä¾¿äºæ’å func countSort(arr []int) []int { // 1. å¾—åˆ°æ•°åˆ—çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå¹¶è®¡ç®—å·®å€¼d max, min := arr[0], arr[0] for i := 1; i \u003c len(arr); i++ { if arr[i] \u003e max { max = arr[i] } if arr[i] \u003c min { min = arr[i] } } d := max - min // 2. åˆ›å»ºç»Ÿè®¡æ•°ç»„å¹¶ç»Ÿè®¡å¯¹åº”å…ƒç´ çš„ä¸ªæ•° countArray := make([]int, d+1) for i := 0; i \u003c len(arr); i++ { countArray[arr[i]-min]++ } // 3. ç»Ÿè®¡æ•°ç»„åšå˜é‡ï¼Œåé¢çš„å…ƒç´ ç­‰äºå‰é¢çš„å…ƒç´ ä¹‹å’Œ for i := 1; i \u003c len(countArray); i++ { countArray[i] += countArray[i-1] } // 4. å€’åºéå†åŸå§‹æ•°åˆ—ï¼Œä»ç»Ÿè®¡æ•°ç»„æ‰¾åˆ°æ­£ç¡®ä½ç½®ï¼Œè¾“å‡ºåˆ°ç»“æœæ•°ç»„ sortedArray := make([]int, len(arr)) for i := len(arr)-1; i \u003e= 0; i-- { sortedArray[countArray[arr[i]-min]-1] = arr[i] countArray[arr[i]-min]-- } return sortedArray } ","date":"2020-03-31","objectID":"/golang-data-structure/:1:3","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"æ¡¶æ’åº æ¡¶æ’åºæ˜¯éæ¯”è¾ƒæ’åºï¼Œé€šè¿‡å°†å…ƒç´ åˆ’åˆ†åˆ°ä¸åŒçš„åŒºæ®µï¼Œå®ç°åŒºæ®µå†…æ’åºè¿›è¡Œæ“ä½œ ä¼˜ç‚¹ å°†æ•°æ®åˆ†åˆ°æŒ‡å®šçš„æ¡¶ï¼Œå¯ä»¥å•ç‹¬å¯¹æ¡¶å†…æ•°æ®å¤„ç† ç¼ºç‚¹ å¦‚æœæ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œå¯èƒ½è¦æµªè´¹æ‰å¾ˆå¤šçš„ç©ºé—´ï¼Œ func bucketSort(arr []float64) []float64 { // 1. å¾—åˆ°æ•°åˆ—çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå¹¶è®¡ç®—å·®å€¼d max, min := arr[0], arr[0] for i := 1; i \u003c len(arr); i++ { if arr[i] \u003e max { max = arr[i] } if arr[i] \u003c min { min = arr[i] } } // 2. åˆå§‹åŒ–æ¡¶ // æ¡¶çš„å¤§å° bucketSize := len(arr) // æ¡¶çš„ä¸ªæ•° bucketCount := int(max-min)/bucketSize + 1 sortedArray := make([][]float64, bucketCount) for i := 0; i \u003c bucketCount; i++ { sortedArray[i] = make([]float64, 0) } // 3. å°†æ•°æ®é€å…¥å„è‡ªçš„æ¡¶ for _, val := range arr { idx := int(val-min) / bucketSize sortedArray[idx] = append(sortedArray[idx], val) } // 4. æ¯ä¸ªæ¡¶å†…è¿›è¡Œæ’åº sorted := make([]float64, 0) for _, bucket := range sortedArray { if len(bucket) \u003e 0 { // æ’å…¥æ’åº insertionSort(bucket) sorted = append(sorted, bucket...) } } return sorted } func insertionSort(arr []float64) { for k, v := range arr { temp := v j := k - 1 for ; j \u003e= 0 \u0026\u0026 arr[j] \u003e temp; j-- { arr[j+1] = arr[j] } arr[j+1] = temp } } ","date":"2020-03-31","objectID":"/golang-data-structure/:1:4","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"Stack æ ˆæ˜¯å…·æœ‰æœ‰é™å®¹é‡çš„æŠ½è±¡æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ç§LIFO(åè¿›å…ˆå‡º)æ•°æ®ç»“æ„ã€‚ package main import \"fmt\" type Stack struct { Size int Top *Node } type Node struct { Val string Next *Node } func (s *Stack) Len() int { return s.Size } func (s *Stack) Push(val string) { s.Top = \u0026Node{val, s.Top} fmt.Printf(\"%v pushed to stack\\n\", val) s.Size++ } func (s *Stack) Pop() (val string) { if s.Size \u003e 0 { val, s.Top = s.Top.Val, s.Top.Next s.Size-- return } return } func main() { stack := \u0026Stack{} stack.Push(\"10\") stack.Push(\"20\") stack.Push(\"30\") for stack.Len() \u003e 0 { fmt.Printf(\"%v poped from stack\\n\", stack.Pop()) } } ","date":"2020-03-31","objectID":"/golang-data-structure/:2:0","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"Queue é˜Ÿåˆ—æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç±»å‹æˆ–çº¿æ€§æ•°æ®ç»“æ„ï¼Œæ˜¯FIFO(å…ˆè¿›å…ˆå‡º)æ•°æ®ç»“æ„ã€‚ package main import \"fmt\" type Queue struct { Size int Front *Node } type Node struct { Val string Next *Node } // len func (q *Queue) Length() int { return q.Size } // enqueue func (q *Queue) Enqueue(val string) { if q.Front == nil { q.Front = \u0026Node{val, nil} } else { rear := q.Front for rear.Next != nil { rear = rear.Next } rear.Next = \u0026Node{val, nil} } fmt.Printf(\"%v enqueued to queue\\n\", val) q.Size++ } // dequeue func (q *Queue) Dequeue() (val string) { if q.Size \u003e 0 { val, q.Front = q.Front.Val, q.Front.Next q.Size-- return } return } func main() { queue := \u0026Queue{} queue.Enqueue(\"10\") queue.Enqueue(\"20\") queue.Enqueue(\"30\") for queue.Length() \u003e 0 { fmt.Printf(\"%s poped from queue\\n\", queue.Dequeue()) } } ","date":"2020-03-31","objectID":"/golang-data-structure/:3:0","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"Linked List ç»ƒä¹ äº†ä»¥ä¸‹4ä¸ªæ–¹æ³•ï¼Œå¯¹äºé“¾è¡¨å¹³æ—¶åˆ·é¢˜æ¨èç”¨ container/list è¿™ä¸ªåŒ…ï¼Œå¾ˆå¥½ç”¨ pushFront ä»å¤´push pushBack ä»å°¾push popFront ä»å¤´pop popBack ä»å°¾pop type Node struct { Val int Next *Node } // head é»˜è®¤å€¼ var head *Node = nil // pushFront func (n *Node) pushFront(val int) *Node { if head == nil { n.Val = val n.Next = nil head = n return n } else { // åˆ†é…æ–°å†…å­˜ç©ºé—´ newNode := new(Node) newNode = head tmpNode := \u0026Node{ Val: val, Next: newNode, } head = tmpNode return head } } func (n *Node) pushBack(val int) *Node { if head == nil { n.Val = val n.Next = nil head = n return n } else { // ä»é“¾è¡¨ä¸­è¯»å–æ‰€æœ‰èŠ‚ç‚¹ for n.Next != nil { n = n.Next } // åˆ†é…æ–°å†…å­˜ç©ºé—´ n.Next = new(Node) n.Next.Val = val n.Next.Next = nil return n } } // popfront func (n *Node) popFront() *Node { if head == nil { return head } newNode := new(Node) newNode = head.Next head = newNode return head } // popback func (n *Node) popBack() *Node { if head == nil { return head } newNode := new(Node) newNode = head for newNode.Next.Next != nil { newNode = newNode.Next } newNode.Next = nil return head } ","date":"2020-03-31","objectID":"/golang-data-structure/:4:0","tags":["Golang","data structure"],"title":"Golangæ•°æ®ç»“æ„","uri":"/golang-data-structure/"},{"categories":["Golang"],"content":"Trieåˆç§°å­—å…¸æ ‘ï¼Œæ˜¯Nå‰æ ‘çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚æ˜¯ä¸€ç§å­˜å‚¨å¤§é‡å­—ç¬¦ä¸²çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç›¸å½“äº`HashMap`ï¼Œåœ¨å­˜å‚¨å•è¯ä¸­åˆæ¯”`HashMap`èŠ‚çœäº†å¾ˆå¤šçš„å†…å­˜ç©ºé—´ã€‚`trie`æ ‘çš„æ ¹èŠ‚ç‚¹ä¸å­˜å‚¨å†…å®¹ï¼Œå†…å®¹éƒ½åœ¨å­©å­èŠ‚ç‚¹ä¸Šã€‚","date":"2020-03-28","objectID":"/golang-trie/","tags":["Golang"],"title":"Golangä¹‹Trieå†™æ³• \u0026\u0026 sort.Interfaceä½¿ç”¨","uri":"/golang-trie/"},{"categories":["Golang"],"content":"Trie Trieåˆç§°å­—å…¸æ ‘ï¼Œæ˜¯Nå‰æ ‘çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚æ˜¯ä¸€ç§å­˜å‚¨å¤§é‡å­—ç¬¦ä¸²çš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç›¸å½“äºHashMapï¼Œåœ¨å­˜å‚¨å•è¯ä¸­åˆæ¯”HashMapèŠ‚çœäº†å¾ˆå¤šçš„å†…å­˜ç©ºé—´ã€‚trieæ ‘çš„æ ¹èŠ‚ç‚¹ä¸å­˜å‚¨å†…å®¹ï¼Œå†…å®¹éƒ½åœ¨å­©å­èŠ‚ç‚¹ä¸Šã€‚ è¿™æ˜¯ä¸€ä¸ªä¿å­˜äº†8ä¸ªå•è¯çš„å­—å…¸æ ‘çš„ç»“æ„ï¼Œ8ä¸ªå•è¯åˆ†åˆ«æ˜¯\"A\", â€œtoâ€, â€œteaâ€, â€œtedâ€, â€œtenâ€, â€œiâ€, â€œinâ€, â€œinnâ€ã€‚æ¯æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½æ„æˆäº†å•è¯ï¼ˆæœ‰çš„ä¸éœ€è¦èµ°åˆ°å¶å­èŠ‚ç‚¹ä¹Ÿæ˜¯å•è¯ï¼Œæ¯”å¦‚i, inï¼‰ï¼Œä»æ ¹èŠ‚ç‚¹å‡ºå‘çš„è·¯å¾„éƒ½æ˜¯ç»™å®šå•è¯åˆ—è¡¨çš„æŸä¸ª/æŸäº›å•è¯çš„å‰ç¼€ï¼Œåä¹‹å¦‚æœåœ¨æŸä¸ªå­—ç¬¦ä¸²ä¸­æ²¡æœ‰å‡ºç°åœ¨è¿™æ£µæ ‘çš„è·¯å¾„ä¸Šï¼Œå°±è¯´æ˜ç»„ä¸æˆå•è¯ã€‚ é€šå¸¸Trieæ ‘ä¹Ÿä¼šç”¨åœ¨æœç´¢å¼•æ“ä¸Šï¼Œå°±æ˜¯è¾“å…¥æŸäº›è¯ï¼Œå°±ä¼šæ‰©å±•å‡ºä¸€äº›æ¨¡ç³Šè¯æ±‡ Golang å®ç°çš„å†™æ³•å¦‚ä¸‹ï¼š type Trie struct { children [26]*Trie isWord bool } // Insert func (t *Trie) Insert(word string) { cur := t for k, v := range word { c := v - 'a' if cur.children[c] == nil { cur.children[c] = \u0026Trie{} } cur = cur.children[c] // end if k == len(word) -1 { cur.isWord = true } } } // Search func (t *Trie) Search(word string) bool { cur := t for _, v := range word { c := v - 'a' if cur.children[c] == nil { return false } cur = cur.children[c] } return cur.isWord } // StartWith func (t *Trie) StartWith(prefix string) bool { cur := t for _, v := range prefix { c := v - 'a' if cur.children[c] == nil { return false } cur = cur.children[c] } return true } func main() { trie := new(Trie) trie.Insert(\"inn\") fmt.Println(trie.Search(\"inn\")) // true fmt.Println(trie.Search(\"in\")) // false fmt.Println(trie.StartWith(\"in\")) // true fmt.Println(trie.StartWith(\"ia\")) // false } ","date":"2020-03-28","objectID":"/golang-trie/:0:1","tags":["Golang"],"title":"Golangä¹‹Trieå†™æ³• \u0026\u0026 sort.Interfaceä½¿ç”¨","uri":"/golang-trie/"},{"categories":["Golang"],"content":"sort.Interface å…³äºè‡ªå®šä¹‰æ’åºï¼Œç”¨è¿™ä¸ªå°±å¯ä»¥äº† åœ¨å®˜æ–¹åº“sort.goä¸­å…³äºInterfaceå®šä¹‰å¦‚ä¸‹ï¼š // A type, typically a collection, that satisfies sort.Interface can be // sorted by the routines in this package. The methods require that the // elements of the collection be enumerated by an integer index. type Interface interface { // Len is the number of elements in the collection. Len() int // Less reports whether the element with // index i should sort before the element with index j. Less(i, j int) bool // Swap swaps the elements with indexes i and j. Swap(i, j int) } æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å®ç°ä¸Šé¢ä¸‰ä¸ªæ–¹æ³•å°±å¯ä»¥äº†ï¼Œå¦‚ä¸‹æ˜¯ä¸€ä¸ªæŒ‰ç…§æ•°ç»„ä¸­å­—ç¬¦ä¸²é•¿åº¦æ’åºçš„ä¸€ä¸ªä¾‹å­ package main import ( \"fmt\" \"sort\" ) type MySliceSort []string func (m MySliceSort) Len() int { return len(m) } func (m MySliceSort) Less(i, j int) bool { return len(m[i]) \u003e len(m[j]) } func (m MySliceSort) Swap(i, j int) { m[i], m[j] = m[j], m[i] } func main() { sliceSort := MySliceSort{ \"è¿™æ˜¯äº”ä¸ªå­—\", \"æˆ‘è¦å˜å…­ä¸ªå­—\", \"ä¸‰ä¸ªå­—\", } sort.Sort(sliceSort) fmt.Println(sliceSort) // [æˆ‘è¦å˜å…­ä¸ªå­— è¿™æ˜¯äº”ä¸ªå­— ä¸‰ä¸ªå­—] } ","date":"2020-03-28","objectID":"/golang-trie/:0:2","tags":["Golang"],"title":"Golangä¹‹Trieå†™æ³• \u0026\u0026 sort.Interfaceä½¿ç”¨","uri":"/golang-trie/"},{"categories":["Golang"],"content":"åœ¨é¸­å­ç±»å‹ä¸­ï¼Œå…³æ³¨ç‚¹åœ¨äºå¯¹è±¡çš„è¡Œä¸ºï¼Œèƒ½ä½œä»€ä¹ˆï¼›è€Œä¸æ˜¯å…³æ³¨å¯¹è±¡æ‰€å±çš„ç±»å‹ã€‚","date":"2020-03-24","objectID":"/golang-duck-typing/","tags":["Golang"],"title":"Golang-Duck\u0026Typing","uri":"/golang-duck-typing/"},{"categories":["Golang"],"content":" ç»´åŸºç™¾ç§‘è§£é‡Šï¼š é¸­å­ç±»å‹åœ¨ç¨‹åºè®¾è®¡ä¸­æ˜¯åŠ¨æ€ç±»å‹çš„ä¸€ç§é£æ ¼ã€‚åœ¨è¿™ç§é£æ ¼ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡æœ‰æ•ˆçš„è¯­ä¹‰ï¼Œä¸æ˜¯ç”±ç»§æ‰¿è‡ªç‰¹å®šçš„ç±»æˆ–å®ç°ç‰¹å®šçš„æ¥å£ï¼Œè€Œæ˜¯ç”±\"å½“å‰æ–¹æ³•å’Œå±æ€§çš„é›†åˆ\"å†³å®šã€‚è¿™ä¸ªæ¦‚å¿µçš„åå­—æ¥æºäºç”±è©¹å§†æ–¯Â·æƒ ç‰¹ç§‘å§†Â·è±åˆ©æå‡ºçš„é¸­å­æµ‹è¯•ï¼Œâ€œé¸­å­æµ‹è¯•â€å¯ä»¥è¿™æ ·è¡¨è¿°ï¼š å½“çœ‹åˆ°ä¸€åªé¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥è¢«ç§°ä¸ºé¸­å­ã€‚ åœ¨é¸­å­ç±»å‹ä¸­ï¼Œå…³æ³¨ç‚¹åœ¨äºå¯¹è±¡çš„è¡Œä¸ºï¼Œèƒ½ä½œä»€ä¹ˆï¼›è€Œä¸æ˜¯å…³æ³¨å¯¹è±¡æ‰€å±çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªç±»å‹ä¸º\"é¸­å­\"çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„\"èµ°\"å’Œ\"å«\"æ–¹æ³•ã€‚åœ¨ä½¿ç”¨é¸­å­ç±»å‹çš„è¯­è¨€ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªä»»æ„ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶è°ƒç”¨å®ƒçš„\"èµ°\"å’Œ\"å«\"æ–¹æ³•ã€‚å¦‚æœè¿™äº›éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°†å¼•å‘ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ã€‚ä»»ä½•æ‹¥æœ‰è¿™æ ·çš„æ­£ç¡®çš„\"èµ°\"å’Œ\"å«\"æ–¹æ³•çš„å¯¹è±¡éƒ½å¯è¢«å‡½æ•°æ¥å—çš„è¿™ç§è¡Œä¸ºå¼•å‡ºäº†ä»¥ä¸Šè¡¨è¿°ï¼Œè¿™ç§å†³å®šç±»å‹çš„æ–¹å¼å› æ­¤å¾—åã€‚ é¸­å­ç±»å‹é€šå¸¸å¾—ç›Šäº\"ä¸\"æµ‹è¯•æ–¹æ³•å’Œå‡½æ•°ä¸­å‚æ•°çš„ç±»å‹ï¼Œè€Œæ˜¯ä¾èµ–æ–‡æ¡£ã€æ¸…æ™°çš„ä»£ç å’Œæµ‹è¯•æ¥ç¡®ä¿æ­£ç¡®ä½¿ç”¨ã€‚ åœ¨å¸¸è§„ç±»å‹ä¸­ï¼Œæˆ‘ä»¬èƒ½å¦åœ¨ä¸€ä¸ªç‰¹å®šåœºæ™¯ä¸­ä½¿ç”¨æŸä¸ªå¯¹è±¡å–å†³äºè¿™ä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œè€Œåœ¨é¸­å­ç±»å‹ä¸­ï¼Œåˆ™å–å†³äºè¿™ä¸ªå¯¹è±¡æ˜¯å¦å…·æœ‰æŸç§å±æ€§æˆ–è€…æ–¹æ³•â€”â€”å³åªè¦å…·å¤‡ç‰¹å®šçš„å±æ€§æˆ–æ–¹æ³•ï¼Œèƒ½é€šè¿‡é¸­å­æµ‹è¯•ï¼Œå°±å¯ä»¥ä½¿ç”¨ã€‚ æŒ‰ç…§æˆ‘çš„ç†è§£ å°±æ˜¯å®ç°äº† æµ‹è¯• æ˜¯å¦å®ç°äº†æŸä¸ªæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ package main import \"fmt\" type Duck interface { Gaga() Swim() } func DuckSpeak(d Duck) { d.Gaga() } func DuckSwim(d Duck) { d.Swim() } type Bird struct { } func (b Bird) Gaga() { fmt.Println(\"Bird gaga~\") } func (b Bird) Swim() { fmt.Println(\"Bird Swim!\") } func main() { var bird Bird DuckSpeak(bird) // Bird gaga~ DuckSwim(bird) // Bird Swim! } ","date":"2020-03-24","objectID":"/golang-duck-typing/:0:0","tags":["Golang"],"title":"Golang-Duck\u0026Typing","uri":"/golang-duck-typing/"},{"categories":["Notes"],"content":"å‘¨æœ«çŒæ°´ï¼Œä¸Šåˆä¿®è¡¥Valine-Adminï¼Œä¸­åˆç™½å«–1Passwordï¼Œä¸‹åˆå¤„ç†è£è€€å¹³æ¿5çš„è°·æ­Œä¸‰ä»¶å¥—ï¼ŒValine-Admin: ä¸èƒ½æ¯æ—¥é‚®ä»¶é—æ¼è¡¥å‘ï¼ŒåŸå› ï¼šå‡½æ•°å†™åŠä¸ªï¼Ÿè£è€€å¹³æ¿5æœ€æ–°ç³»ç»Ÿ9.1.0.175æ— æ³•è·å–è°·æ­ŒæœåŠ¡ï¼Ÿ","date":"2020-03-22","objectID":"/valine-admin-1password-google/","tags":["mood"],"title":"Valine-Adminã€1Passwordã€è£è€€å¹³æ¿5è°·æ­Œä¸‰ä»¶å¥—","uri":"/valine-admin-1password-google/"},{"categories":["Notes"],"content":" å‘¨æœ«çŒæ°´ï¼Œä¸Šåˆä¿®è¡¥Valine-Adminï¼Œä¸­åˆç™½å«–1Passwordï¼Œä¸‹åˆå¤„ç†è£è€€å¹³æ¿5çš„è°·æ­Œä¸‰ä»¶å¥— Valine-Admin: ä¸èƒ½æ¯æ—¥é‚®ä»¶é—æ¼è¡¥å‘ï¼ŒåŸå› ï¼šå‡½æ•°å†™åŠä¸ªï¼Ÿ è£è€€å¹³æ¿5æœ€æ–°ç³»ç»Ÿ9.1.0.175æ— æ³•è·å–è°·æ­ŒæœåŠ¡ï¼ŒåŸå› ï¼šè´¸æ˜“æˆ˜ ","date":"2020-03-22","objectID":"/valine-admin-1password-google/:0:0","tags":["mood"],"title":"Valine-Adminã€1Passwordã€è£è€€å¹³æ¿5è°·æ­Œä¸‰ä»¶å¥—","uri":"/valine-admin-1password-google/"},{"categories":["Notes"],"content":"Valine-Admin åšå®¢ç”¨çš„æ˜¯Valineçš„ä¸‰æ–¹è¯„è®ºï¼Œåå°æ¨¡æ¿ç”¨çš„æ˜¯zhaojunæ”¹å®Œçš„Valine-Adminï¼ŒåŸºäºå…è´¹ç‰ˆLeancloudè´¦æˆ·çš„é—®é¢˜ï¼Œæ¯æ—¥æœ€å¤šè¿è¡Œ18å°æ—¶ï¼Œæ‰€ä»¥åœ¨0-7ç‚¹å±äºä¼‘çœ çŠ¶æ€ï¼Œè¿™ä¸ªæ—¶åˆ»å¦‚æœæœ‰äººè¯„è®ºäº†ï¼Œè™½ç„¶æ˜¯ä¼šå”¤é†’æœåŠ¡ï¼Œä½†æ˜¯æ˜¯æ”¶ä¸åˆ°é‚®ä»¶çš„ï¼Œå°±éœ€è¦é‚®ä»¶è¡¥å‘åŠŸèƒ½äº†ï¼Œç»è¿‡é—æ¼æ‰ä¸€æ¡é‚®ä»¶æ’æŸ¥æ‰ï¼Œzhaojun fork panjunwen çš„é¡¹ç›®ä¹‹åæ”¹å®Œæ¼æ‰ä¸€ä¸ªå‡½æ•°sendNotificationï¼Œå”‰ï¼Œforkäº†ä¸è¦é­”æ”¹å•Šï¼Œæ”¹çš„éƒ½ä¸¢ä¸‰è½å››ï¼Œæ•´ç†å®Œçš„ cloud.js å¦‚ä¸‹ const AV = require('leanengine'); const mail = require('./utilities/send-mail'); const Comment = AV.Object.extend('Comment'); const request = require('request'); function sendNotification(currentComment) { // é€šçŸ¥ç«™é•¿ mail.notice(currentComment); // ATè¯„è®ºé€šçŸ¥ let pid = currentComment.get('pid'); if (!pid) { console.log(\"è¿™æ¡è¯„è®ºæ²¡æœ‰ @ ä»»ä½•äºº\"); return; } // é€šè¿‡è¢« @ çš„è¯„è®º id, åˆ™æ‰¾åˆ°è¿™æ¡è¯„è®ºç•™ä¸‹çš„é‚®ç®±å¹¶å‘é€é€šçŸ¥. let query = new AV.Query('Comment'); query.get(pid).then(function (parentComment) { if (parentComment.get('mail')) { mail.send(currentComment, parentComment); } else { console.log(currentComment.get('nick') + \" @ äº†\" + parentComment.get('nick') + \", ä½†è¢« @ çš„äººæ²¡ç•™é‚®ç®±... æ— æ³•é€šçŸ¥\"); } }, function (error) { console.warn('å¥½åƒ @ äº†ä¸€ä¸ªä¸å­˜åœ¨çš„äºº!!!'); }); } AV.Cloud.afterSave('Comment', function (request) { let currentComment = request.object; return sendNotification(currentComment) }); AV.Cloud.define('resend_mails', function(req) { let query = new AV.Query(Comment); query.greaterThanOrEqualTo('createdAt', new Date(new Date().getTime() - 24*60*60*1000)); query.notEqualTo('isNotified', true); // å¦‚æœä½ çš„è¯„è®ºé‡å¾ˆå¤§ï¼Œå¯ä»¥é€‚å½“è°ƒé«˜æ•°é‡é™åˆ¶ï¼Œæœ€é«˜1000 query.limit(200); return query.find().then(function(results) { new Promise((resolve, reject)=\u003e{ count = results.length; for (var i = 0; i \u003c results.length; i++ ) { sendNotification(results[i]); } resolve(count); }).then((count)=\u003e{ console.log(`æ˜¨æ—¥${count}æ¡æœªæˆåŠŸå‘é€çš„é€šçŸ¥é‚®ä»¶å¤„ç†å®Œæ¯•ï¼`); }).catch((err)=\u003e{ console.log(err); }); }); }); AV.Cloud.define('self_wake', function(req) { request(process.env.ADMIN_URL, function (error, response, body) { console.log('è‡ªå”¤é†’ä»»åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œå“åº”çŠ¶æ€ç ä¸º:', response \u0026\u0026 response.statusCode); }); }) Leancloudå…è´¹æœåŠ¡çš„é—®é¢˜ æ€»æ‰€å‘¨çŸ¥ï¼Œå…è´¹æœåŠ¡æœ‰é™åˆ¶ï¼Œæ¯”å¦‚å”¤é†’åªç»™äº†15sæ—¶é—´ï¼Œæ‰€ä»¥å®¹æ˜“å¯åŠ¨ä¸äº† è§£å†³åŠæ³•ï¼šä½¿ç”¨ linux çš„ Crontabè‡ªè¡Œå”¤é†’ï¼Œå³ä¸ç”¨Leancloudå®šæ—¶ä»»åŠ¡å”¤é†’ï¼Œåªç”¨å…¶è¡¥å‘é‚®ä»¶ ","date":"2020-03-22","objectID":"/valine-admin-1password-google/:0:1","tags":["mood"],"title":"Valine-Adminã€1Passwordã€è£è€€å¹³æ¿5è°·æ­Œä¸‰ä»¶å¥—","uri":"/valine-admin-1password-google/"},{"categories":["Notes"],"content":"ç™½å«–1Password çœ‹çš„æŸä¹çš„æ•™ç¨‹ç›´æ¥æ·»é“¾æ¥äº†ï¼Œç™½å«–1Password ","date":"2020-03-22","objectID":"/valine-admin-1password-google/:0:2","tags":["mood"],"title":"Valine-Adminã€1Passwordã€è£è€€å¹³æ¿5è°·æ­Œä¸‰ä»¶å¥—","uri":"/valine-admin-1password-google/"},{"categories":["Notes"],"content":"è£è€€å¹³æ¿5è·å–è°·æ­Œä¸‰ä»¶å¥— ç¥å¥‡æ“ä½œ å¾ˆç¥å¥‡ï¼Œå¯èƒ½æ˜¯ç”±äºè´¸æ˜“æˆ˜æˆ–è€…ç¼“è§£åŸå› ï¼Œæœ‰çš„æœºå‹è‡ªå¸¦GMSï¼Œæœ‰çš„ä¸å¸¦éœ€è¦è‡ªå·±è£…ï¼Œè§£å†³åŠæ³•æ˜¯èŠ±ç²‰ä¿±ä¹éƒ¨å‚è€ƒå¾—åˆ°çš„ï¼ˆå³ä¸œæ‹¼è¥¿å‡‘ï¼‰ï¼Œä»¥ä¸‹æ˜¯è·å–ä¹‹å‰çš„é…ç½® å®‰å“9 Magic UI 2.1.0 ç‰ˆæœ¬å· 9.1.0.175 æ–¹æ³• å…ˆé€šè¿‡åä¸ºæ‰‹æœºåŠ©æ‰‹é™çº§åˆ°9.0.x.122ï¼Œç„¶åå¯ä»¥å‡çº§ï¼Œå‡çº§åˆ°9.1.0.128ğŸ˜€å¿…é¡»128 å®‰è£…è°·æ­ŒæœåŠ¡æ–¹æ³•ï¼ˆéœ€PCè¾…åŠ©ï¼‰ æ•™ç¨‹é€‚ç”¨æœºå‹æœ‰ï¼šåä¸ºMate30ç³»åˆ—ã€åä¸ºç•…äº«10Plusã€åä¸ºnova5/nova5 Proã€åä¸ºnovai/novai Proã€åä¸ºéº¦èŠ’8ã€åä¸ºç•…äº«9ç³»åˆ—/Maxç­‰ è£è€€9Xã€è£è€€20iã€è£è€€8X/8X Maxã€è£è€€10é’æ˜¥ç‰ˆç­‰ è£è€€å¹³æ¿5ã€åä¸ºå¹³æ¿M6ç­‰ åŠ©æ‰‹æ˜¯ç”¨æ¥æ¿€æ´»è®¾å¤‡ç®¡ç†å™¨çš„ï¼Œåªè¦æ¿€æ´»äº†å°±è¡Œäº†ï¼Œä¸ç”¨æ‹…å¿ƒæƒŠå¹å·é‚£äº›é—®é¢˜ã€‚ æ­¥éª¤å¦‚ä¸‹ ä¸‹è½½å¹¶è§£å‹è°·æ­ŒæœåŠ¡åŒ… è¿æ¥Hisuiteï¼ˆpcåä¸ºæ‰‹æœºåŠ©æ‰‹ï¼‰ç‚¹å‡»æ•°æ®æ¢å¤ï¼Œæ‰¾åˆ°åˆšæ‰è§£å‹çš„æ–‡ä»¶ï¼Œåªæ¢å¤åº”ç”¨æ•°æ® æ¢å¤å®Œæˆåï¼ŒæŸ¥çœ‹æ¡Œé¢æ˜¯å¦æœ‰è°·æ­ŒæœåŠ¡åŠ©æ‰‹APP æ‰“å¼€è°·æ­ŒæœåŠ¡åŠ©æ‰‹ï¼Œæ¿€æ´»è®¾å¤‡ç®¡ç†å™¨ å…¶ä»–ä¸ç”¨ç†ä¼šï¼ˆæ„Ÿå¹å·çš„ä¸ç”¨ç®¡ï¼Œç›´æ¥é€€å‡ºAPPï¼‰ æ¿€æ´»å®Œæˆåé‡å¯æ‰‹æœºï¼Œä¸‹è½½Goè°·æ­Œå®‰è£…å™¨ï¼Œå®‰è£…ä¸‰ä»¶å¥—ï¼Œå®Œæˆï¼Œå¦‚æœå¯ä»¥æ‰“å¼€è°·æ­Œplayå¹¶å¯ä»¥ç™»é™†ï¼Œé‚£å°±æ­å–œäº† å’¦~çœŸé¦™ æ‰€éœ€å·¥å…· è°·æ­ŒæœåŠ¡ æå–ç ï¼š9rvb Goè°·æ­Œå®‰è£…å™¨ï¼Œé…·å®‰å’Œè±Œè±†èšéƒ½æœ‰ ","date":"2020-03-22","objectID":"/valine-admin-1password-google/:0:3","tags":["mood"],"title":"Valine-Adminã€1Passwordã€è£è€€å¹³æ¿5è°·æ­Œä¸‰ä»¶å¥—","uri":"/valine-admin-1password-google/"},{"categories":["Tips"],"content":"å‰ææ˜¯éœ€è¦å…ˆè·å¾—`wp-rocket`æ’ä»¶ï¼Œè¯¥æ’ä»¶æ˜¯æ”¶è´¹æ’ä»¶ï¼Œå¦‚æœæœ‰èƒ½åŠ›è¯·æ”¯æŒæ­£ç‰ˆï¼Œè¿™é‡Œä¸æä¾›ä¸‹è½½åœ°å€ï¼Œæ“…äºåˆ©ç”¨æœç´¢å¼•æ“æˆ–ä¸‡èƒ½çš„æŸå®ã€‚æœ¬æ–‡æ˜¯åŸºäºè‡ªå·±ç”¨å®å¡”é…ç½®rocket-nginxçš„æ•™ç¨‹ï¼Œå› ä¸ºç½‘ä¸Šç›®å‰æœåˆ°çš„æ‰€æœ‰é…ç½®éƒ½æ˜¯ç›´æ¥ç¿»è¯‘githubçš„README.md( ğŸ˜’ )ï¼Œä¸è¿‡è¿˜æ˜¯æ¨èçœ‹æœ€æ–°çš„æ–‡æ¡£ï¼Œæ²¡å‡†å•¥æ—¶å€™å°±å˜åŠ¨äº†ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹","date":"2020-03-08","objectID":"/wordpress-rocket/","tags":["WordPress"],"title":"æ­£ç¡®é…ç½®rocket-nginxï¼ŒåŠ é€Ÿä½ çš„wordpress","uri":"/wordpress-rocket/"},{"categories":["Tips"],"content":"0x01 å‰æ å‰ææ˜¯éœ€è¦å…ˆè·å¾—wp-rocketæ’ä»¶ï¼Œè¯¥æ’ä»¶æ˜¯æ”¶è´¹æ’ä»¶ï¼Œå¦‚æœæœ‰èƒ½åŠ›è¯·æ”¯æŒæ­£ç‰ˆï¼Œè¿™é‡Œä¸æä¾›ä¸‹è½½åœ°å€ï¼Œæ“…äºåˆ©ç”¨æœç´¢å¼•æ“æˆ–ä¸‡èƒ½çš„æŸå®ã€‚æœ¬æ–‡æ˜¯åŸºäºè‡ªå·±ç”¨å®å¡”é…ç½®rocket-nginxçš„æ•™ç¨‹ï¼Œå› ä¸ºç½‘ä¸Šç›®å‰æœåˆ°çš„æ‰€æœ‰é…ç½®éƒ½æ˜¯ç›´æ¥ç¿»è¯‘githubçš„README.md(ğŸ˜’)ï¼Œä¸è¿‡è¿˜æ˜¯æ¨èçœ‹æœ€æ–°çš„æ–‡æ¡£ï¼Œæ²¡å‡†å•¥æ—¶å€™å°±å˜åŠ¨äº†ï¼Œæ“ä½œæ­¥éª¤å¦‚ä¸‹ ","date":"2020-03-08","objectID":"/wordpress-rocket/:0:1","tags":["WordPress"],"title":"æ­£ç¡®é…ç½®rocket-nginxï¼ŒåŠ é€Ÿä½ çš„wordpress","uri":"/wordpress-rocket/"},{"categories":["Tips"],"content":"0x02 æ­£æ–‡ rocket-nginx ä»‹ç»ä¸€ä¸‹ï¼ˆç¿»è¯‘è¿‡æ¥ï¼‰ï¼š Rocket-Nginxæ˜¯WordPressç¼“å­˜æ’ä»¶WP-Rocketçš„Nginxé…ç½®ã€‚å®ƒä½¿Nginxå¯ä»¥ç›´æ¥æä¾›ä»¥å‰ç¼“å­˜çš„æ–‡ä»¶ï¼Œè€Œæ— éœ€è°ƒç”¨WordPressæˆ–ä»»ä½•PHPã€‚å®ƒè¿˜ä¼šæ·»åŠ æ ‡é¢˜ä»¥ç¼“å­˜CSSï¼ŒJSå’Œåª’ä½“ï¼Œä»¥é€šè¿‡å‡å°‘å¯¹WebæœåŠ¡å™¨çš„è¯·æ±‚æ¥åˆ©ç”¨æµè§ˆå™¨çš„ç¼“å­˜ã€‚ ç®€å•è¯´å°±æ˜¯NGINXâ†’PHP-FPMâ†’PHPâ†’é™æ€æ–‡ä»¶ å˜æˆäº† NGINXâ†’é™æ€æ–‡ä»¶ï¼ˆé€šè¿‡ç›´æ¥æä¾›é™æ€é¡µé¢è€Œä¸åŠ è½½WordPressæˆ–PHPï¼Œå¯ä»¥ä½¿WP-Rocketæ›´å¿«ã€‚ï¼‰ githubåœ°å€ï¼šrocket-nginx ç¦æ­¢WPå®šæ—¶ä»»åŠ¡ åœ¨wp-configè¿™ä¸ªæ–‡ä»¶é‡Œæ·»åŠ ä¸€è¡Œä»£ç ï¼Œä½œç”¨æ˜¯ä¸ºäº†ç¦æ­¢WPè‡ªå¸¦çš„CRONå®šæ—¶ä»»åŠ¡ define('DISABLE_WP_CRON', true); æ·»åŠ æ–°çš„å®šæ—¶ä»»åŠ¡ ä»¥ä¸‹ä¸‰ç§å®šæ—¶ä»»åŠ¡ä»£ç ä»»ä¸€ä¸ªå°±è¡Œï¼Œè®°å¾—å°†websiteæ¢æˆè‡ªå·±çš„ç½‘å€ */15 * * * * wget -q -O - http://www.website.com/wp-cron.php?doing_wp_cron \u0026\u003e/dev/null or */15 * * * * curl http://www.website.com/wp-cron.php?doing_wp_cron \u0026\u003e/dev/null or */15 * * * * cd /home/user/public_html; php wp-cron.php \u0026\u003e/dev/null åœ¨SSHæ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œå…ˆå»äº†è§£CrontabçŸ¥è¯†ï¼Œç‚¹è¿™é‡ŒæŸ¥çœ‹ æœ‰å®å¡”é¢æ¿çš„å¯ä»¥ç›´æ¥åœ¨å®å¡”ä¸­æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œé‚£å°±ç®€å•äº† å®šæ—¶ä»»åŠ¡image-20200308183831086 \" å®šæ—¶ä»»åŠ¡ æ‹‰å–rocket-nginxåˆ°nginxç›®å½• åœ¨SSHé‡Œé¢è¿›å…¥åˆ°nginxçš„ç›®å½•ï¼Œä»¥å®å¡”ä¸ºä¾‹ï¼ˆ/www/server/nginxï¼‰cd /www/server/nginx æ‹‰å–ä»£ç  git clone https://github.com/satellitewp/rocket-nginx.git ä»2.0ç‰ˆå¼€å§‹ï¼Œå¿…é¡»ç”Ÿæˆé…ç½®ã€‚è¦ç”Ÿæˆé»˜è®¤é…ç½®ï¼Œå¿…é¡»é‡å‘½åç¦ç”¨çš„iniæ–‡ä»¶å¹¶è¿è¡Œé…ç½®è§£æå™¨ï¼š cd rocket-nginx cp rocket-nginx.ini.disabled rocket-nginx.ini php rocket-parser.php è¿è¡Œä¹‹åå°±ä¼šåœ¨rocket-nginxç›®å½•ç”Ÿæˆä¸€ä¸ªdefault.confæ–‡ä»¶ï¼Œæ˜¯æ ¹æ®rocket-nginx.iniå¯¹åº”è§£æçš„ï¼Œæ‰€ä»¥å¯ä»¥çœ‹çœ‹ç›¸åº”é…ç½® åœ¨nginxé…ç½®æ–‡æ¡£å¯¼å…¥ åœ¨å¯¹åº”ç½‘ç«™çš„nginxé…ç½®æ–‡æ¡£ä¸­serveréƒ¨åˆ†å¯¼å…¥ server { ... # Rocket-Nginx configuration include /www/server/nginx/rocket-nginx/default.conf; ... } é…ç½®å®Œè¦å…ˆæµ‹è¯•æ˜¯å¦é…ç½®å¯è¡Œ nginx -t é…ç½®å¯è¡Œè®°å¾—é‡å¯nginx service nginx reload æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆ åœ¨rocket-nginx.ini æ–‡ä»¶ä¸­å°†debugè®¾ç½®æˆtrueï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åˆ°åœ¨è¯·æ±‚çš„headeré‡Œé¢æœ‰X-Rocket-Nginxå¼€å¤´çš„å†…å®¹ X-Rocket-Nginx-Serving-Staticï¼šé…ç½®æ˜¯å¦ç›´æ¥æä¾›äº†ç¼“å­˜æ–‡ä»¶ï¼ˆæ˜¯å¦ç»•è¿‡WordPressï¼‰ï¼šæ˜¯æˆ–å¦ X-Rocket-Nginx-Reasonï¼šæ³¨æ˜äº†ä¸ºä»€ä¹ˆå¯ç”¨çš„åŸå› ï¼Œå¦‚æœå¯ç”¨æˆåŠŸè¿”å›è·¯å¾„ï¼Œå¤±è´¥è¿”å›åŸå›  X-Rocket-Nginx-Fileï¼šä¸ç®¡æ˜¯å¦å¯ç”¨æˆåŠŸï¼Œè¿™é‡Œå±•ç¤ºä¸€ä¸‹ä»£ç†çš„è·¯å¾„ï¼Œæ–¹ä¾¿æ‹é”™ ","date":"2020-03-08","objectID":"/wordpress-rocket/:0:2","tags":["WordPress"],"title":"æ­£ç¡®é…ç½®rocket-nginxï¼ŒåŠ é€Ÿä½ çš„wordpress","uri":"/wordpress-rocket/"},{"categories":["Tips"],"content":"0x03 æ³¨æ„ æç¤ºï¼šæ¯æ¬¡æ›´æ”¹äº†rocket-nginx.iniå°±è¦åˆ©ç”¨php rocket-parser.php å‘½ä»¤è§£æ è®°å¾—å…³é—­wp-rocketæ’ä»¶ä¸­çš„å¯¹ç§»åŠ¨ç«¯å•ç‹¬ç¼“å­˜åŠŸèƒ½ï¼Œï¼ˆé™¤éä½ çš„ä¸»é¢˜å¼€å‘äº†ä¸¤ç«¯ï¼‰æˆ‘æƒ³ç°åœ¨çš„ä¸»é¢˜éƒ½æ˜¯å“åº”å¼çš„ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ å¦‚æœç«™ç‚¹æ˜¯httpså¹¶ä¸”åœ¨headerä¸­æ˜¾ç¤ºå¦‚ä¸‹å†…å®¹ï¼Œå³ç»“å°¾ä¸€ç›´æ˜¯/index.htmlï¼Œé‚£å°±è¯´æ˜å¯èƒ½æ˜¯ä½ çš„nginxé…ç½®æ–‡ä»¶çš„é—®é¢˜ï¼Œéœ€è¦ä»è‡ªå·±çš„æ–‡æ¡£ä¸‹æ‰‹ X-Rocket-Nginx-Serving-Staticï¼šNO X-Rocket-Nginx-Fileï¼š... /index.html æ­£ç¡®çš„è·¯å¾„ç»“å°¾åº”è¯¥æ˜¯ index-https.html_gzipï¼Œè¿™æ˜¯httpsç«™ç‚¹çš„æƒ…å†µ ","date":"2020-03-08","objectID":"/wordpress-rocket/:0:3","tags":["WordPress"],"title":"æ­£ç¡®é…ç½®rocket-nginxï¼ŒåŠ é€Ÿä½ çš„wordpress","uri":"/wordpress-rocket/"},{"categories":["Tips"],"content":"0x04 æ•ˆæœ åœ¨æ²¡æœ‰åšnginxä¼˜åŒ–æ—¶ï¼Œå³ä½¿ç”¨äº†wp-rocketæ’ä»¶ä¹Ÿæ˜¯ä¸¤ä¸ªBï¼Œç°åœ¨æ˜æ˜¾æœ‰å˜åŒ–ï¼Œå› ä¸ºæœ¬ä¸»é¢˜æ˜¯å›¾æ–‡å¼çš„ï¼Œå¦‚æœä½ çš„ä¸»é¢˜ä¸æ€ä¹ˆç”¨å›¾ç‰‡ï¼Œé‚£ä¹ˆæ•ˆæœä¼šæ›´ä¸ºæ˜¾è‘—ã€‚ é€Ÿåº¦æµ‹è¯•image-20200308190851632 \" é€Ÿåº¦æµ‹è¯• ","date":"2020-03-08","objectID":"/wordpress-rocket/:0:4","tags":["WordPress"],"title":"æ­£ç¡®é…ç½®rocket-nginxï¼ŒåŠ é€Ÿä½ çš„wordpress","uri":"/wordpress-rocket/"},{"categories":["Tips"],"content":"è®²è§£äº†æˆ‘åˆ¶ä½œçš„WordPressä¸»é¢˜ä¸­logoä¸ºä»€ä¹ˆæ¨èä½¿ç”¨svgå›¾ç‰‡","date":"2020-02-27","objectID":"/tips/848/","tags":["Rebirth"],"title":"Rebirthä¸ºä»€ä¹ˆæ¨èä½¿ç”¨svgå›¾ç‰‡ä½œä¸ºlogo","uri":"/tips/848/"},{"categories":["Tips"],"content":"ä¸ºäº†ä»€ä¹ˆ æœ¬æ–‡æ˜¯ä¸ºäº†åˆ¶ä½œçš„wordpressä¸»é¢˜rebirthçš„logoè®¾ç½® ä¸»é¢˜ repo: Rebirth ä½¿ç”¨äº†svgæ•ˆæœ æ•ˆæœå›¾1\" æ•ˆæœå›¾1 æ•ˆæœå›¾2\" æ•ˆæœå›¾2 æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ•ˆæœå°±æ˜¯åœ¨é¡µé¢æ»‘åŠ¨ä¹‹åä¼šæ”¹å˜å¡«å……è‰²ï¼Œï¼ˆå¹¶ä¸æ˜¯æ‰€æœ‰çš„svgå›¾ç‰‡éƒ½æ˜¯ï¼Œä¸‹é¢å°±è¯´ç¼–è¾‘æ–¹æ³•ï¼‰ åˆ¶ä½œæ–¹æ³• \u003csvg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"\u003e \u003cg style=\"isolation:isolate\"\u003e \u003cg fill=\"#000000\"\u003e è¿™é‡Œæ”¾ç½®ä½ çš„ `path` æ ‡ç­¾ \u003c/g\u003e \u003c/g\u003e \u003c/svg\u003e ä¸¾ä¸ªæ —å­ å»é˜¿é‡ŒiconçŸ¢é‡åº“ï¼Œæ‰¾ä¸€ä¸ªå›¾ï¼Œå¹¶å¤åˆ¶svgä»£ç  çŸ¢é‡åº“å›¾æ ‡\" çŸ¢é‡åº“å›¾æ ‡ \u003csvg t=\"1582799138465\" class=\"icon\" viewBox=\"0 0 1267 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"23300\" width=\"64\" height=\"64\"\u003e\u003cpath d=\"M318.82629556 133.78803087C-133.08757287 392.20264631 164.67345974 699.80401596 508.2092303 657.19988601c422.53471382 49.0598287 601.5273088-308.81087989 270.72125986-500.4436034-123.34018755-57.77029413-212.92358917-50.7173058-460.1041946-22.97074138z\" fill=\"#2c2c2c\" p-id=\"23301\"\u003e\u003c/path\u003e\u003cpath d=\"M214.90297937 222.368485l54.69674405-224.25466126 103.92331621 177.7631744zM701.6985288 197.75519893l106.65591319-194.16871362 62.89951436 322.70282623zM510.26241218 657.19988601s-16.41051715 257.07071626-51.96414705 281.68151403c-35.55114165 24.61328606 180.49826105 71.10477156 232.45991845 21.87820079 95.3621735-81.27610719-75.53217667-248.9600287-95.71805762-311.76497203-62.38435165-195.77392864-84.77771378 8.20525858-84.77771378 8.20525721z\" fill=\"#2c2c2c\" p-id=\"23302\"\u003e\u003c/path\u003e\u003cpath d=\"M687.54526663 901.81463786s148.42632737-11.95573548 201.76423982-119.54740309c53.34040074-107.58917793 20.87276364-193.66101849 32.47012538-227.13409135 11.59487344-33.47307423 67.25474708-167.36287878 201.76423983-90.85512978 134.50949276 76.51023728 122.91461933 188.88021755 62.61580129 217.57248946-60.29632977 28.68978363-166.02644443 25.01147914-97.40291128 0 66.2517982-24.14541025 151.23607471-66.54795404 55.65987362-150.62634235-73.5810334-64.72622317-102.08665291-65.3135569-160.02120218-14.34489113-69.96743372 61.55312413 36.17331813 214.64328419-97.40291126 334.72575757-123.36009791 110.89666592-204.086201 74.11610369-204.08619963 74.11610507z\" fill=\"#2c2c2c\" p-id=\"23303\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\" p-id=\"23304\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\" p-id=\"23305\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\" p-id=\"23306\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\" p-id=\"23307\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\" p-id=\"23308\"\u003e\u003c/path\u003e\u003c/svg\u003e ä¿ç•™æ‰€æœ‰çš„ \u003cpath\u003e\u003c/path\u003eï¼Œå¹¶å»æ‰ path é‡Œé¢çš„ p-id å†…å®¹æ˜¯è¿™æ · \u003cpath d=\"M318.82629556 133.78803087C-133.08757287 392.20264631 164.67345974 699.80401596 508.2092303 657.19988601c422.53471382 49.0598287 601.5273088-308.81087989 270.72125986-500.4436034-123.34018755-57.77029413-212.92358917-50.7173058-460.1041946-22.97074138z\" fill=\"#2c2c2c\"\u003e \u003c/path\u003e \u003cpath d=\"M214.90297937 222.368485l54.69674405-224.25466126 103.92331621 177.7631744zM701.6985288 197.75519893l106.65591319-194.16871362 62.89951436 322.70282623zM510.26241218 657.19988601s-16.41051715 257.07071626-51.96414705 281.68151403c-35.55114165 24.61328606 180.49826105 71.10477156 232.45991845 21.87820079 95.3621735-81.27610719-75.53217667-248.9600287-95.71805762-311.76497203-62.38435165-195.77392864-84.77771378 8.20525858-84.77771378 8.20525721z\" fill=\"#2c2c2c\"\u003e \u003c/path\u003e \u003cpath d=\"M687.54526663 901.81463786s148.42632737-11.95573548 201.76423982-119.54740309c53.34040074-107.58917793 20.87276364-193.66101849 32.47012538-227.13409135 11.59487344-33.47307423 67.25474708-167.36287878 201.76423983-90.85512978 134.50949276 76.51023728 122.91461933 188.88021755 62.61580129 217.57248946-60.29632977 28.68978363-166.02644443 25.01147914-97.40291128 0 66.2517982-24.14541025 151.23607471-66.54795404 55.65987362-150.62634235-73.5810334-64.72622317-102.08665291-65.3135569-160.02120218-14.34489113-69.96743372 61.55312413 36.17331813 214.64328419-97.40291126 334.72575757-123.36009791 110.89666592-204.086201 74.11610369-204.08619963 74.11610507z\" fill=\"#2c2c2c\"\u003e\u003c/path\u003e \u003cpath d=\"\" fill=\"#2c2c2c\"\u003e \u003c/path\u003e \u003cpath d=\"\" fill=\"#2c2c2c\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\"\u003e\u003c/path\u003e \u003cpath d=\"\" fill=\"#2c2c2c\"\u003e\u003c/path\u003e\u003cpath d=\"\" fill=\"#2c2c2c\"\u003e\u003c/path\u003e å°†è¿™æ®µä»£ç å…¨éƒ¨å¤åˆ¶åˆ°ä¸Šé¢é‚£ä¸ªä»£ç å—ä¸­å°±å¥½äº†ã€‚ ","date":"2020-02-27","objectID":"/tips/848/:0:1","tags":["Rebirth"],"title":"Rebirthä¸ºä»€ä¹ˆæ¨èä½¿ç”¨svgå›¾ç‰‡ä½œä¸ºlogo","uri":"/tips/848/"},{"categories":["Golang"],"content":"è¿™ä¸ªåº“çƒ¦äº†æˆ‘ä¸¤å¤©ï¼Œæˆ‘èƒ½æ¥è§¦åˆ°çš„ä¾‹å­éƒ½æ˜¯æ—§ç‰ˆçš„ï¼Œæ–°ç‰ˆç®€ç›´å°±æ˜¯å¤§æ”¹ç‰ˆå“¦ï¼Œæ„å»ºå‡½æ•°ç®€ç›´å’Œæ—§ç‰ˆå‡ºå…¥å¤ªå¤§ï¼Œå‡½æ•°å‚æ•°åŠè¿”å›å€¼çš†ä¸ä¸€æ ·ï¼Œè®°å½•ä¸€ä¸‹æœ€æ–°ç‰ˆçš„å­—ç¬¦éªŒè¯ç çš„å®Œæ•´å®ä¾‹ï¼Œï¼ˆæ•°å­—éªŒè¯ç ã€è®¡ç®—éªŒè¯ç ã€æ±‰å­—éªŒè¯ç ä»¥åŠè¯­éŸ³éªŒè¯ç æ„å»ºæ–¹æ³•ä¸¾ä¸€åä¸‰ï¼‰","date":"2020-02-07","objectID":"/golang-base64captcha/","tags":["Golang"],"title":"GolangéªŒè¯ç â€“base64Captchaåº“1.3.0ç‰ˆæœ¬æ„å»ºå®ä¾‹","uri":"/golang-base64captcha/"},{"categories":["Golang"],"content":" è¿™ä¸ªåº“çƒ¦äº†æˆ‘ä¸¤å¤©ï¼Œæˆ‘èƒ½æ¥è§¦åˆ°çš„ä¾‹å­éƒ½æ˜¯æ—§ç‰ˆçš„ï¼Œæ–°ç‰ˆç®€ç›´å°±æ˜¯å¤§æ”¹ç‰ˆå“¦ï¼Œæ„å»ºå‡½æ•°ç®€ç›´å’Œæ—§ç‰ˆå‡ºå…¥å¤ªå¤§ï¼Œå‡½æ•°å‚æ•°åŠè¿”å›å€¼çš†ä¸ä¸€æ ·ï¼Œè®°å½•ä¸€ä¸‹æœ€æ–°ç‰ˆçš„å­—ç¬¦éªŒè¯ç çš„å®Œæ•´å®ä¾‹ï¼Œï¼ˆæ•°å­—éªŒè¯ç ã€è®¡ç®—éªŒè¯ç ã€æ±‰å­—éªŒè¯ç ä»¥åŠè¯­éŸ³éªŒè¯ç æ„å»ºæ–¹æ³•ä¸¾ä¸€åä¸‰ï¼‰ ","date":"2020-02-07","objectID":"/golang-base64captcha/:0:0","tags":["Golang"],"title":"GolangéªŒè¯ç â€“base64Captchaåº“1.3.0ç‰ˆæœ¬æ„å»ºå®ä¾‹","uri":"/golang-base64captcha/"},{"categories":["Golang"],"content":"å®˜æ–¹ä¾‹å­åœ°å€ åœ¨çº¿æ„å»ºéªŒè¯ç æ ·å¼ æ³¨æ„: æ—§ç‰ˆçš„base64Captcha.ConfigCharacte ä»¥åŠ base64Captcha.GenerateCaptchaæ–¹æ³•ç”±äºä½œè€…é‡æ„å·²ç»å–æ¶ˆï¼Œå…·ä½“å®ç°çœ‹ä¸‹é¢ä»£ç  ","date":"2020-02-07","objectID":"/golang-base64captcha/:0:1","tags":["Golang"],"title":"GolangéªŒè¯ç â€“base64Captchaåº“1.3.0ç‰ˆæœ¬æ„å»ºå®ä¾‹","uri":"/golang-base64captcha/"},{"categories":["Golang"],"content":"ä»£ç å¦‚ä¸‹ package tool import ( \"github.com/gin-gonic/gin\" \"github.com/mojocn/base64Captcha\" \"image/color\" ) type CaptchaResult struct { Id string `json:\"id\"` Base64Blob string `json:\"base_64_blob\"` VerifyValue string `json:\"code\"` } // è®¾ç½®è‡ªå¸¦çš„store var store = base64Captcha.DefaultMemStore // ç”Ÿæˆå›¾å½¢åŒ–éªŒè¯ç  func GenerateCaptcha(ctx *gin.Context) { var driver base64Captcha.Driver var driverString base64Captcha.DriverString // é…ç½®éªŒè¯ç ä¿¡æ¯ captchaConfig := base64Captcha.DriverString{ Height: 30, Width: 60, NoiseCount: 0, ShowLineOptions: 2 | 4, Length: 4, Source: \"1234567890qwertyuioplkjhgfdsazxcvbnm\", BgColor: \u0026color.RGBA{ R: 3, G: 102, B: 214, A: 125, }, Fonts: []string{\"wqy-microhei.ttc\"}, } // è‡ªå®šä¹‰é…ç½®ï¼Œå¦‚æœä¸éœ€è¦è‡ªå®šä¹‰é…ç½®ï¼Œåˆ™ä¸Šé¢çš„ç»“æ„ä½“å’Œä¸‹é¢è¿™è¡Œä»£ç ä¸ç”¨å†™ driverString = captchaConfig driver = driverString.ConvertFonts() captcha := base64Captcha.NewCaptcha(driver, store) id, b64s, err := captcha.Generate() if err != nil { Failed(ctx, err.Error()) } captchaResult := CaptchaResult{ Id: id, Base64Blob: b64s, } Success(ctx, gin.H{ \"captcha_result\": captchaResult, }) } è¿™æ ·å­è¾“å‡ºçš„å°±æ˜¯ä¸€æ¡jsonï¼Œæ”¾åœ¨é¡¹ç›®é‡Œé¢å°±æ˜¯è¿™æ ·çš„ æ•ˆæœå›¾mark \" æ•ˆæœå›¾ ","date":"2020-02-07","objectID":"/golang-base64captcha/:0:2","tags":["Golang"],"title":"GolangéªŒè¯ç â€“base64Captchaåº“1.3.0ç‰ˆæœ¬æ„å»ºå®ä¾‹","uri":"/golang-base64captcha/"},{"categories":["Tips"],"content":"å¯ä»¥ä¸è¦å¼•å·ï¼Œå®æµ‹ä¹Ÿå¯ä»¥ï¼Œåè€ŒåŠ äº†å¼•å·æœ‰äº›ç½‘ç«™ä¸èƒ½è®¿é—®ï¼Œä¸éœ€è¦è®¾ç½® https.proxy ï¼Œä»…è®¾ç½® http.proxyå°±å¯ä»¥äº†ï¼Œ ç«¯å£éœ€è¦çœ‹æœ¬åœ°çš„socksç«¯å£ï¼Œä¸æ˜¯å›ºå®š","date":"2020-02-01","objectID":"/git-clone-slow/","tags":["Git"],"title":"Gitè®¾ç½®ä»£ç†è§£å†³git cloneå¤ªæ…¢çš„é—®é¢˜","uri":"/git-clone-slow/"},{"categories":["Tips"],"content":"è®¾ç½®ä»£ç† git config --global http.proxy socks5://domain:port // æ —å­: git config --global http.proxy socks5://127.0.0.1:2081 æ³¨æ„ç‚¹ï¼š å¯ä»¥ä¸è¦å¼•å·ï¼Œå®æµ‹ä¹Ÿå¯ä»¥ï¼Œåè€ŒåŠ äº†å¼•å·æœ‰äº›ç½‘ç«™ä¸èƒ½è®¿é—® ä¸éœ€è¦è®¾ç½® https.proxy ï¼Œä»…è®¾ç½® http.proxyå°±å¯ä»¥äº† ç«¯å£éœ€è¦çœ‹æœ¬åœ°çš„socksç«¯å£ï¼Œä¸æ˜¯å›ºå®š ","date":"2020-02-01","objectID":"/git-clone-slow/:0:1","tags":["Git"],"title":"Gitè®¾ç½®ä»£ç†è§£å†³git cloneå¤ªæ…¢çš„é—®é¢˜","uri":"/git-clone-slow/"},{"categories":["Tips"],"content":"å–æ¶ˆä»£ç† git config --global --unset http.proxy æŸ¥çœ‹ä»£ç† git config --global --get http.proxy ","date":"2020-02-01","objectID":"/git-clone-slow/:0:2","tags":["Git"],"title":"Gitè®¾ç½®ä»£ç†è§£å†³git cloneå¤ªæ…¢çš„é—®é¢˜","uri":"/git-clone-slow/"},{"categories":["Tips"],"content":"åˆ©ç”¨æ²¹çŒ´è„šæœ¬ + Aria RPC + Motrixæ‰¹é‡ä¸‹è½½å“”å“©å“”å“©è§†é¢‘","date":"2020-01-25","objectID":"/aria-rpc-motrix-bilibili/","tags":["Aria"],"title":"æ²¹çŒ´è„šæœ¬ + Aria RPC + Motrixæ‰¹é‡ä¸‹è½½å“”å“©å“”å“©è§†é¢‘","uri":"/aria-rpc-motrix-bilibili/"},{"categories":["Tips"],"content":"æ‰€éœ€å·¥å…· è„šæœ¬ä¸‹è½½åœ°å€ï¼šBilibili Evolved Motrixä¸‹è½½åœ°å€ï¼šMotrix ","date":"2020-01-25","objectID":"/aria-rpc-motrix-bilibili/:0:1","tags":["Aria"],"title":"æ²¹çŒ´è„šæœ¬ + Aria RPC + Motrixæ‰¹é‡ä¸‹è½½å“”å“©å“”å“©è§†é¢‘","uri":"/aria-rpc-motrix-bilibili/"},{"categories":["Tips"],"content":"æ“ä½œæ­¥éª¤æŒ‰å›¾ç¤º æ­¥éª¤ä¸€mark \" æ­¥éª¤ä¸€ æ­¥éª¤äºŒmark \" æ­¥éª¤äºŒ æ­¥éª¤ä¸‰mark \" æ­¥éª¤ä¸‰ æ­¥éª¤å››mark \" æ­¥éª¤å›› æ­¥éª¤äº”mark \" æ­¥éª¤äº” æ­¥éª¤å…­mark \" æ­¥éª¤å…­ ","date":"2020-01-25","objectID":"/aria-rpc-motrix-bilibili/:0:2","tags":["Aria"],"title":"æ²¹çŒ´è„šæœ¬ + Aria RPC + Motrixæ‰¹é‡ä¸‹è½½å“”å“©å“”å“©è§†é¢‘","uri":"/aria-rpc-motrix-bilibili/"},{"categories":["Tips"],"content":"è®°å½•ä¸€ä¸‹åœ¨Win10é‡Œé…ç½®Nginxå¹¶è®¾ç½®ä»£ç†","date":"2020-01-11","objectID":"/windows-nginx/","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"ä¸‹è½½nginx ç‚¹è¿™é‡Œä¸‹è½½ ","date":"2020-01-11","objectID":"/windows-nginx/:0:1","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"è§£å‹åˆ°æŒ‡å®šç›®å½•ï¼Œæ–‡ä»¶å¤¹å†…å®¹å¦‚ä¸‹ ","date":"2020-01-11","objectID":"/windows-nginx/:0:2","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"å¯åŠ¨Nginx æŸ¥çœ‹æ˜¯å¦æˆåŠŸè¿è¡Œï¼ˆåœ¨ä»»åŠ¡ç®¡ç†å™¨-\u003eè¯¦ç»†ä¿¡æ¯ä¸­æ‰¾åˆ°nginxè¿›ç¨‹ï¼‰ ","date":"2020-01-11","objectID":"/windows-nginx/:0:3","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"æµè§ˆå™¨è¿è¡Œ127.0.0.1æŸ¥çœ‹ ","date":"2020-01-11","objectID":"/windows-nginx/:0:4","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"æ—¥å¿—ç›®å½• æˆåŠŸæ—¥å¿— logs/access.log é”™è¯¯æ—¥å¿—logs/error.log nginx.pidï¼ˆå¦‚æœæœ‰nginx.pidæ–‡ä»¶ï¼Œåˆ™è¯´æ˜nginxåœ¨è¿è¡Œï¼‰ ","date":"2020-01-11","objectID":"/windows-nginx/:0:5","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"å¸¸ç”¨çš„å‘½ä»¤ nginx.exe -s stop //åœæ­¢nginx nginx.exe -s reload //é‡æ–°åŠ è½½nginx nginx.exe -s quit //é€€å‡ºnginx ","date":"2020-01-11","objectID":"/windows-nginx/:0:6","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"æ³¨æ„ ä»¥ä¸Šçš„å‘½ä»¤ä¸­ï¼Œ.exeå¯ä»¥å»æ‰ å¼ºåˆ¶åœæ­¢nginxæœåŠ¡å™¨ï¼Œå¦‚æœæœ‰æœªå¤„ç†çš„æ•°æ®ï¼Œåˆ™ä¼šä¸¢å¼ƒ nginx -s stop ä¼˜é›…çš„åœæ­¢nginxæœåŠ¡å™¨ï¼Œå¦‚æœæœ‰æœªå¤„ç†çš„æ•°æ®ï¼Œç­‰å¾…å¤„ç†å®Œæˆä¹‹ååœæ­¢ nginx -s quit ","date":"2020-01-11","objectID":"/windows-nginx/:0:7","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"ç®€å•é…ç½®ä¸€ä¸ªnginxåå‘ä»£ç† ä¿®æ”¹æœ¬åœ°hostsæ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªä»£ç†æœ¬åœ°çš„åŸŸå æˆ‘ä»¬å¯ç”¨çš„æ˜¯golangçš„æœåŠ¡ï¼Œå¯åŠ¨ç«¯å£æ˜¯8080ç«¯å£ï¼Œä¹Ÿå°±æ˜¯127.0.0.1:8080ï¼Œä¿®æ”¹nginxé…ç½®ï¼Œç›®å½•åœ°å€ä¸ºconf/nginx.confï¼Œåˆ æ‰åŸæ¥çš„serverï¼Œè¿›è¡Œé‡å†™serverå†…å®¹ server { listen 80; #è¦ç›‘å¬çš„ç«¯å£ï¼ˆæœ¬åœ°ä¸º80ç«¯å£ï¼‰ server_name www.yubo.top; #åŸŸåï¼ˆå¯¹åº”ä¸Šé¢çš„hostsæ–‡ä»¶é‡Œé¢çš„åŸŸåï¼‰ # locationèŒƒå›´å¾ˆå¹¿ï¼Œ/ ä»£è¡¨æ ¹ç›®å½• location / { proxy_pass http://127.0.0.1:8080; #è¦ä»£ç†çš„ipåœ°å€ proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; #è®¾ç½®çœŸå®ipå¤´ proxy_set_header REMOTE-HOST $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } #é”™è¯¯é¡µé¢é…ç½® error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } é‡æ–°åŠ è½½nginxä¼šå‘ç°ç”Ÿæ•ˆäº†ï¼Œè®¿é—®www.yubo.topå°±å¯ä»¥ä»£ç†åˆ°127.0.0.1:8080çš„å†…å®¹äº† ","date":"2020-01-11","objectID":"/windows-nginx/:0:8","tags":["Nginx"],"title":"win10é…ç½®nginxå¹¶è®¾ç½®åå‘ä»£ç†","uri":"/windows-nginx/"},{"categories":["Tips"],"content":"ç®€å•æ¥è¯´å°±æ˜¯è£…äº†ä¹‹åèƒ½åœ¨cmdä¸­é€šè¿‡ä¸€äº›ä»£ç å®ç°åä¸½çš„æ•ˆæœï¼Œæ¯”å¦‚æ”¹å˜å­—ä½“é¢œè‰²","date":"2020-01-11","objectID":"/windows-cmd-ansi/","tags":["CMD","ANSI"],"title":"è§£å†³win10çš„cmdå‘½ä»¤è¡Œä¸è½¬ä¹‰ANSIåºåˆ—ï¼ˆè®©cmdè¾“å‡ºå½©è‰²å­—ä½“ï¼‰","uri":"/windows-cmd-ansi/"},{"categories":["Tips"],"content":"ä»€ä¹ˆæ˜¯ANSIåºåˆ— ANSIè½¬ä¹‰åºåˆ—æ˜¯ä¸€ç§å¸¦å†…ä¿¡å·çš„è½¬ä¹‰åºåˆ—æ ‡å‡†ï¼Œç”¨äºæ§åˆ¶è§†é¢‘æ–‡æœ¬ç»ˆç«¯ä¸Šçš„å…‰æ ‡ä½ç½®ã€é¢œè‰²å’Œå…¶ä»–é€‰é¡¹ã€‚åœ¨æ–‡æœ¬ä¸­åµŒå…¥ç¡®å®šçš„å­—èŠ‚åºåˆ—ï¼Œå¤§éƒ¨åˆ†ä»¥ESCè½¬ä¹‰å­—ç¬¦å’Œ\"[â€œå­—ç¬¦å¼€å§‹ï¼Œç»ˆç«¯ä¼šæŠŠè¿™äº›å­—èŠ‚åºåˆ—è§£é‡Šä¸ºç›¸åº”çš„æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯æ™®é€šçš„å­—ç¬¦ç¼–ç ã€‚ ANSIåºåˆ—æ˜¯åœ¨äºŒåä¸–çºªä¸ƒåå¹´ä»£å¼•å…¥çš„æ ‡å‡†ï¼Œç”¨ä»¥å–ä»£ç‰¹å®šäºç»ˆç«¯ä¾›åº”å•†çš„åºåˆ—ï¼Œå¹¶åœ¨äºŒåä¸–çºªå…«åå¹´ä»£æ—©æœŸå¼€å§‹åœ¨è®¡ç®—æœºè®¾å¤‡å¸‚åœºä¸Šå¹¿æ³›ä½¿ç”¨ã€‚ä¸æ—©æœŸç¼ºå°‘å…‰æ ‡ç§»åŠ¨åŠŸèƒ½çš„ç³»ç»Ÿç›¸æ¯”ï¼Œæ–°ç”Ÿçš„ç”µå­å…¬å‘Šæ¿ç³»ç»Ÿä½¿ç”¨ANSIåºåˆ—æ”¹è¿›å…¶æ˜¾ç¤ºã€‚æ­£æ˜¯å› ä¸ºè¿™ä¸ªåŸå› ï¼ŒANSIåºåˆ—å˜æˆäº†æ‰€æœ‰åˆ¶é€ å•†å…±åŒé‡‡ç”¨çš„æ ‡å‡†ã€‚ ç®€å•æ¥è¯´å°±æ˜¯è£…äº†ä¹‹åèƒ½åœ¨cmdä¸­é€šè¿‡ä¸€äº›ä»£ç å®ç°åä¸½çš„æ•ˆæœï¼Œæ¯”å¦‚æ”¹å˜å­—ä½“é¢œè‰² ","date":"2020-01-11","objectID":"/windows-cmd-ansi/:0:1","tags":["CMD","ANSI"],"title":"è§£å†³win10çš„cmdå‘½ä»¤è¡Œä¸è½¬ä¹‰ANSIåºåˆ—ï¼ˆè®©cmdè¾“å‡ºå½©è‰²å­—ä½“ï¼‰","uri":"/windows-cmd-ansi/"},{"categories":["Tips"],"content":"å®‰è£… ä»è¿™é‡Œä¸‹è½½æœ€æ–°æ–‡ä»¶ï¼Œè§£å‹ é€‰æ‹©è‡ªå·±çš„ç”µè„‘éœ€è¦çš„é…ç½® è·¯å¾„è¡Œè¾“å…¥cmdå¿«æ·è¿›å…¥å½“å‰è·¯å¾„ä¸‹çš„cmdçª—å£ æ‰§è¡Œä¸‹é¢ä¸¤è¡Œä»£ç è¿›è¡Œå®‰è£… ansicon.exe -i ansicon.exe -l ","date":"2020-01-11","objectID":"/windows-cmd-ansi/:0:2","tags":["CMD","ANSI"],"title":"è§£å†³win10çš„cmdå‘½ä»¤è¡Œä¸è½¬ä¹‰ANSIåºåˆ—ï¼ˆè®©cmdè¾“å‡ºå½©è‰²å­—ä½“ï¼‰","uri":"/windows-cmd-ansi/"},{"categories":["Tips"],"content":"æ•ˆæœå±•ç¤º åŸæ¥æ•ˆæœ ç°åœ¨æ•ˆæœ ","date":"2020-01-11","objectID":"/windows-cmd-ansi/:0:3","tags":["CMD","ANSI"],"title":"è§£å†³win10çš„cmdå‘½ä»¤è¡Œä¸è½¬ä¹‰ANSIåºåˆ—ï¼ˆè®©cmdè¾“å‡ºå½©è‰²å­—ä½“ï¼‰","uri":"/windows-cmd-ansi/"},{"categories":["Tips"],"content":"å‚è€ƒåšå®¢ åšå®¢å›­naiijåšä¸» ","date":"2020-01-11","objectID":"/windows-cmd-ansi/:0:4","tags":["CMD","ANSI"],"title":"è§£å†³win10çš„cmdå‘½ä»¤è¡Œä¸è½¬ä¹‰ANSIåºåˆ—ï¼ˆè®©cmdè¾“å‡ºå½©è‰²å­—ä½“ï¼‰","uri":"/windows-cmd-ansi/"},{"categories":["Golang"],"content":"golang webç¨‹åºéƒ¨ç½²åˆ°å®å¡”é¢æ¿ä¸­ï¼Œå¹¶å¸¸é©»åå°çš„æ–¹æ³•","date":"2019-12-14","objectID":"/golang-web-baota/","tags":["Golang"],"title":"golangå†™çš„webç¨‹åºå¦‚ä½•ç®€å•çš„éƒ¨ç½²åˆ°å®å¡”é¢æ¿ä¸­","uri":"/golang-web-baota/"},{"categories":["Golang"],"content":" å†™å¥½çš„go web å¦‚ä½•åœ¨ä¸é…ç½®ç¯å¢ƒçš„æƒ…å†µä¸‹éƒ¨ç½²åˆ°å®å¡”å‘¢ ","date":"2019-12-14","objectID":"/golang-web-baota/:0:0","tags":["Golang"],"title":"golangå†™çš„webç¨‹åºå¦‚ä½•ç®€å•çš„éƒ¨ç½²åˆ°å®å¡”é¢æ¿ä¸­","uri":"/golang-web-baota/"},{"categories":["Golang"],"content":"æè¿° å†™å¥½äº†ï¼Œå¦‚ä½•éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œæ¯•ç«Ÿæœ¬åœ°æ²¡æ³•ç»™åˆ«äººç”¨ï¼Œä¸å¤šBB å‘æŒ¥golangçš„äº¤å‰ç¼–è¯‘åŠŸèƒ½ï¼Œæˆ‘æœåŠ¡å™¨æ˜¯linuxï¼Œé‚£æˆ‘ä»¬å…ˆç¼–è¯‘æˆlinux å…ˆå»æŸ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬æœåŠ¡å™¨çš„å‹å· uname -aï¼Œç¡®è®¤æ˜¯amd64 ç¡®è®¤ç¼–è¯‘ç±»å‹mark \" ç¡®è®¤ç¼–è¯‘ç±»å‹ GOOSï¼šç›®æ ‡å¹³å°çš„æ“ä½œç³»ç»Ÿï¼ˆdarwinã€freebsdã€linuxã€windowsï¼‰ GOARCHï¼šç›®æ ‡å¹³å°çš„ä½“ç³»æ¶æ„ï¼ˆ386ã€amd64ã€armï¼‰ äº¤å‰ç¼–è¯‘ä¸æ”¯æŒ CGO æ‰€ä»¥è¦ç¦ç”¨å®ƒ Terminalæ‰§è¡Œä»¥ä¸‹å››ä¸ªå‘½ä»¤ SET CGO_ENABLED=0 SET GOOS=linux SET GOARCH=amd64 go build main.go æ‰“åŒ…å®Œä¹‹åæœ‰ä¸€ä¸ªmainç¨‹åºï¼Œæ²¡æœ‰åç¼€ ç¼–è¯‘åæ–‡ä»¶mark \" ç¼–è¯‘åæ–‡ä»¶ åœ¨å®å¡”é¢æ¿æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†è¿™ä¸ªæ–‡ä»¶ä¸Šä¼ ä¸Šå» æˆ‘ä»¬åœ¨ç»ˆç«¯ä¸­è¿›å…¥è¿™ä¸ªæ–‡ä»¶ç›®å½•ï¼Œç„¶å./mainå°±å¯ä»¥è·‘èµ·æ¥äº† æœåŠ¡å™¨mark \" æœåŠ¡å™¨ æ³¨æ„ï¼šgolangçš„httpå·²ç»å¼€å¯äº†ä¸€ä¸ªç«¯å£ï¼Œé‚£æˆ‘ä»¬éœ€è¦å»å¼€å¯å®‰å…¨ç»„å¯¹åº”çš„ç«¯å£ï¼Œä¹‹åè·‘èµ·æ¥å°±å¯ä»¥ç”¨ip:portæ¥è®¿é—®äº† å¦‚æœæƒ³é€šè¿‡è®¿é—®åŸŸåæ¥è®¿é—®åˆ°golangçš„ç¨‹åºï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦äº†è§£nginxçš„åå‘ä»£ç†çŸ¥è¯† å®å¡”é¢æ¿æœ‰å‚»ç“œå¼è®¾ç½®åå‘ä»£ç† è®¾ç½®å®Œäº†ä¹‹åå°±å¯ä»¥é€šè¿‡åŸŸåè®¿é—®äº† å®å¡”è®¾ç½®ä»£ç†mark \" å®å¡”è®¾ç½®ä»£ç† ","date":"2019-12-14","objectID":"/golang-web-baota/:1:0","tags":["Golang"],"title":"golangå†™çš„webç¨‹åºå¦‚ä½•ç®€å•çš„éƒ¨ç½²åˆ°å®å¡”é¢æ¿ä¸­","uri":"/golang-web-baota/"},{"categories":["Golang"],"content":"å¦‚ä½•ä¿æŒç¨‹åºåœ¨linuxä¸­åå°è¿è¡Œ æ²¡æœ‰åå°è¿è¡Œï¼Œå½“æˆ‘ä»¬å…³æ‰ç»ˆç«¯å°±ä¼šç»“æŸæ‰ç¨‹åºï¼Œé‚£æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ äº†è§£ä¸€ä¸‹linuxçš„screenå‘½ä»¤ ä¸‹è½½screen yum install screen ã€ç»ˆç«¯æ“ä½œã€‘ ï¼ˆéœ€è¦åœ¨ç‰©ç†shellä¸­æ“ä½œï¼‰ screen -S name åˆ›å»º åä¸ºnameçš„ screen screen -a ç„¶å d æš‚æ—¶ç¦»å¼€æ­¤screen åå°ç»§ç»­è¿è¡Œ screen -ls åˆ—å‡ºæ‰€æœ‰screen è¿›ç¨‹ pid ä¸åç§° screen -r + pidï¼ˆæˆ–è€…åç§°ï¼‰å›åˆ°screen(attachedçŠ¶æ€ï¼‰,å¦‚æœå°±ä¸€ä¸ªscreenè¿›ç¨‹ï¼Œå¯ä»¥çœç•¥ pid ã€ç»ˆç«¯ä¸­çš„çª—å£æ“ä½œã€‘ï¼ˆæŒ‚è½½æŸä¸ªç»ˆç«¯ï¼‰ Ctrl+a c ï¼šåˆ›å»ºçª—å£ Ctrl+a w ï¼šçª—å£åˆ—è¡¨ Ctrl+a n ï¼šä¸‹ä¸€ä¸ªçª—å£ Ctrl+a p ï¼šä¸Šä¸€ä¸ªçª—å£ Ctrl+a 0-9 ï¼šåœ¨ç¬¬0ä¸ªçª—å£å’Œç¬¬9ä¸ªçª—å£ä¹‹é—´åˆ‡æ¢ Ctrl+a K(å¤§å†™) ï¼šå…³é—­å½“å‰çª—å£ï¼Œå¹¶ä¸”åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£ï¼ˆå½“é€€å‡ºæœ€åä¸€ä¸ªçª—å£æ—¶ï¼Œè¯¥ç»ˆç«¯è‡ªåŠ¨ç»ˆæ­¢ï¼Œå¹¶ä¸”é€€å›åˆ°åŸå§‹shellçŠ¶æ€ï¼‰ exit ï¼šå…³é—­å½“å‰çª—å£ï¼Œå¹¶ä¸”åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£ï¼ˆå½“é€€å‡ºæœ€åä¸€ä¸ªçª—å£æ—¶ï¼Œè¯¥ç»ˆç«¯è‡ªåŠ¨ç»ˆæ­¢ï¼Œå¹¶ä¸”é€€å›åˆ°åŸå§‹shellçŠ¶æ€ï¼‰ Ctrl+a d ï¼šé€€å‡ºå½“å‰ç»ˆç«¯ï¼Œè¿”å›åŠ è½½screenå‰çš„shellå‘½ä»¤çŠ¶æ€ å¦‚ä½•å…³é—­ä¸€ä¸ªç»ˆç«¯ï¼Ÿ å¦‚æœéœ€è¦å…³é—­ä¸€ä¸ªç»ˆç«¯ï¼Œå¯ä»¥å…ˆè¿›å…¥æ­¤ç»ˆç«¯ï¼Œç„¶åå°†æ‰€æœ‰çª—å£å…³é—­ï¼Œå½“æ‰€æœ‰çª—å£éƒ½å…³é—­çš„æ—¶å€™ï¼Œç»ˆç«¯è‡ªåŠ¨å…³é—­ï¼Œå¹¶ä¸”å‡ºç°â€œ[screen is terminating]â€ã€‚ å…·ä½“å‘½ä»¤å¦‚ä¸‹ // 1. å…³é—­æŸä¸ªè¿›ç¨‹ screen kill pid / Screen -S pid -X quit // 2. å…³é—­å…¨éƒ¨è¿›ç¨‹ screen killall // 3. åœ¨è¿›ç¨‹ä¸­å…³é—­ exit / ctrl+c è¿è¡Œå›¾mark \" è¿è¡Œå›¾ ","date":"2019-12-14","objectID":"/golang-web-baota/:2:0","tags":["Golang"],"title":"golangå†™çš„webç¨‹åºå¦‚ä½•ç®€å•çš„éƒ¨ç½²åˆ°å®å¡”é¢æ¿ä¸­","uri":"/golang-web-baota/"},{"categories":["Golang"],"content":"æ”¶é›†è‡ªGolangä¸­æ–‡ç½‘å¹¶å·²ç»ä¼ åˆ°äº†Githubã€‚","date":"2019-11-18","objectID":"/golang-interview/","tags":["Golang"],"title":"Golangé¢è¯•é¢˜åŠè§£æ","uri":"/golang-interview/"},{"categories":["Golang"],"content":" æ”¶é›†æ¥è‡ªGolangä¸­æ–‡ç½‘å…¬ä¼—å·æ¯å¤©ä¸€ç¯‡é¢è¯•é¢˜ï¼Œæ”¶é›†æ˜¯ä¸ºäº†è‡ªå·±å¯ä»¥å·©å›ºå¤ä¹ ï¼Œä¸å¿…è¦æ¯æ¬¡å»æ‰¾ï¼Œç°å·²æŒªåˆ°githubè®°å½• ","date":"2019-11-18","objectID":"/golang-interview/:0:0","tags":["Golang"],"title":"Golangé¢è¯•é¢˜åŠè§£æ","uri":"/golang-interview/"},{"categories":["Golang"],"content":"githubåŒæ­¥åœ°å€ï¼š https://github.com/yqchilde/Golang-Interview ","date":"2019-11-18","objectID":"/golang-interview/:1:0","tags":["Golang"],"title":"Golangé¢è¯•é¢˜åŠè§£æ","uri":"/golang-interview/"},{"categories":["MySQL"],"content":"è®°å½•ä¸€ä¸‹MySQLåœ¨åšæ’å…¥æ“ä½œæ—¶æ€ä¹ˆå»æŒ‡å®šæ¡ä»¶","date":"2019-10-26","objectID":"/mysql-insert-how-where/","tags":["MySQL"],"title":"MySQLä¸­insertæ•°æ®æ—¶æ€ä¹ˆç”¨whereæ¡ä»¶","uri":"/mysql-insert-how-where/"},{"categories":["MySQL"],"content":"è¿™æ˜¯ä¸€ä¸ªå‘ åœ¨ä¹‹å‰å†™PHPä¸­æƒ³å»æ·»åŠ ä¸€æ¡æ•°æ®ï¼Œå¹¶ä¸”æƒ³æŸ¥è¯¢æ˜¯å¦åœ¨æ’å…¥ä¹‹å‰æœ‰è¿™æ¡æ•°æ®ï¼Œæˆ‘ä¼šæ²™é›•çš„åšæ³•ï¼ˆemmm,ä¹‹å‰æˆ‘ä¸çŸ¥é“æˆ‘è¿™ä¹ˆæ²™é›•äº†ï¼‰å°±æ˜¯å†™ä¸¤ä¸ªsqlè¯­å¥ï¼Œåˆ†åˆ«è®©ä»–ä»¬å»å•ç‹¬æ‰§è¡Œ:sleepy: ç®€å•ç‚¹å¾—ä¸€å¥sqlè¯­å¥ï¼Œå¦‚ä¸‹ï¼š INSERTINTOè¡¨å(å­—æ®µä¸€,å­—æ®µäºŒ)SELECT'å­—æ®µå€¼','å­—æ®µå€¼'FROMDUALWHERENOTEXISTS(SELECTæ•°æ®FROMè¡¨åWHEREæ¡ä»¶) ä¾‹å¦‚ ï¼š insert into tb(name,age) select 'fox',20 from DUAL where not EXISTS(select name from tb where name='fox') DUAL æ˜¯è™šæ‹Ÿè¡¨ä¸ºäº†æ»¡è¶³ select â€¦from â€¦..æ ¼å¼ ","date":"2019-10-26","objectID":"/mysql-insert-how-where/:0:1","tags":["MySQL"],"title":"MySQLä¸­insertæ•°æ®æ—¶æ€ä¹ˆç”¨whereæ¡ä»¶","uri":"/mysql-insert-how-where/"},{"categories":["MySQL"],"content":"2019/10/2è¡¥å…… ç°åœ¨åœ¨ç”¨Golangå†™webä¸šåŠ¡ï¼Œè¡¥å……ä¸€ä¸‹ä¹‹å‰çš„ä¾‹å­å§ // UserAdd æ·»åŠ ç”¨æˆ· func UserAdd(mod *User) error { tx, _ := Db.Begin() result, err := tx.Exec(\"insert into user(num,name,pass,phone,email,ctime) SELECT ?,?,?,?,?,? from DUAL where ? NOT IN ( SELECT `num` FROM USER )\", mod.Num, mod.Name, mod.Pass, mod.Phone, mod.Email, mod.Ctime, mod.Num) if err != nil { tx.Rollback() return err } rows, _ := result.RowsAffected() if rows \u003c 1 { tx.Rollback() return errors.New(\"rows affected \u003c 1\") } tx.Commit() return nil } é€šè¿‡è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºæ¥æˆ‘ä»¬åªéœ€è¦åˆ¤æ–­numå­—æ®µæ—¶å€™å·²ç»å­˜åœ¨ï¼Œå­˜åœ¨æƒ…å†µä¸‹å°±ä¼šè¿”å›Affected rows: 0ï¼ŒSoåˆ¤æ–­RowsAffectedå°±è¡Œï¼Œä¸å­˜åœ¨å°±ç›´æ¥æ’å…¥äº† ","date":"2019-10-26","objectID":"/mysql-insert-how-where/:0:2","tags":["MySQL"],"title":"MySQLä¸­insertæ•°æ®æ—¶æ€ä¹ˆç”¨whereæ¡ä»¶","uri":"/mysql-insert-how-where/"},{"categories":["MySQL"],"content":"é”™è¯¯çš„åŸå› æ˜¯Â 5.7ç‰ˆæœ¬ä¸‹çš„mysqlæ•°æ®åº“ä¸‹å·²ç»æ²¡æœ‰passwordè¿™ä¸ªå­—æ®µäº†ï¼Œpasswordå­—æ®µæ”¹æˆäº†authentication_string","date":"2019-10-06","objectID":"/mysql5.7-update-password/","tags":["MySQL"],"title":"MySQL5.7ä¿®æ”¹rootå¯†ç ","uri":"/mysql5.7-update-password/"},{"categories":["MySQL"],"content":"åœ¨ç½‘ä¸Šçœ‹åˆ°è¿™è¡Œå‘½ä»¤å¹¶ä½¿ç”¨ select host,user,password from mysql.user;Â ç„¶åæŠ¥é”™äº† ERROR 1054 (42S22): Unknown column 'password' in 'field list'Â  é”™è¯¯çš„åŸå› æ˜¯Â 5.7ç‰ˆæœ¬ä¸‹çš„mysqlæ•°æ®åº“ä¸‹å·²ç»æ²¡æœ‰passwordè¿™ä¸ªå­—æ®µäº†ï¼Œpasswordå­—æ®µæ”¹æˆäº†authentication_string æ­£ç¡®æ“ä½œå¦‚ä¸‹ï¼š mysql\u003eusemysqlDatabasechangedmysql\u003eselectUserfromuser;+-----------+ |User|+-----------+ |mysql.sys||root|+-----------+ 2rowsinset(0.00sec)mysql\u003eupdatemysql.usersetauthentication_string=password('root')whereuser='root';QueryOK,0rowsaffected,1warning(0.00sec)Rowsmatched:1Changed:0Warnings:1mysql\u003eflushprivileges;QueryOK,0rowsaffected(0.00sec)mysql\u003equitBye ","date":"2019-10-06","objectID":"/mysql5.7-update-password/:1:0","tags":["MySQL"],"title":"MySQL5.7ä¿®æ”¹rootå¯†ç ","uri":"/mysql5.7-update-password/"},{"categories":["Tips"],"content":"'ä»‹äºæ¯å¤©æ‰‹åŠ¨æ”¶èƒ½é‡ã€å·èƒ½é‡å¾ˆæµªè´¹æˆ‘ä»¬çš„æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘æƒ³å†™è¿™æ ·ä¸€ä¸ªè„šæœ¬ï¼Œå¼€å§‹æˆ‘æœ€å…ˆæƒ³åˆ°çš„æ˜¯æŒ‰é”®ç²¾çµï¼Œä½†æ˜¯è¿™ä¸ªè½¯ä»¶å¾—éœ€è¦æ‰‹æœºroot,æ‰€ä»¥åœ¨é…·å®‰çœ‹åˆ°äº†è¿™ä¹ˆä¸€æ¬¾è½¯ä»¶-\u003eä¸€è§¦å³å‘ ã€‚æ˜¯åˆ©ç”¨äº†æ— éšœç¢æ¨¡å¼ï¼Œæ‰€ä»¥ä¸ç”¨root,ä½†æ˜¯éœ€è¦å®‰å“ç‰ˆæœ¬å¤§äº7.0å¥½åƒã€‚ç±»ä¼¼çš„è½¯ä»¶åˆAuto.jsï¼Œä½†æ˜¯ç°åœ¨è²Œä¼¼ä½œè€…ç”±äºä¸€äº›åŸå› å·²ç»ä¸‹æ¶äº†ï¼Œæˆ‘æ— æ³•ä¸‹è½½ï¼Œæ‰€ä»¥å°±ç”¨è¿™ä¸ªï¼Œå®ç°æœ€é‡è¦ã€‚'","date":"2019-09-20","objectID":"/mayisenlin-script/","tags":["Javascript"],"title":"åˆ©ç”¨è„šæœ¬è½¯ä»¶â€œä¸€è§¦å³å‘â€å†™ä¸€ä¸ªè‡ªåŠ¨æ”¶å–ï¼Œå·å–æ”¯ä»˜å®èƒ½é‡è„šæœ¬","uri":"/mayisenlin-script/"},{"categories":["Tips"],"content":" ä»‹äºæ¯å¤©æ‰‹åŠ¨æ”¶èƒ½é‡ã€å·èƒ½é‡å¾ˆæµªè´¹æˆ‘ä»¬çš„æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘æƒ³å†™è¿™æ ·ä¸€ä¸ªè„šæœ¬ï¼Œå¼€å§‹æˆ‘æœ€å…ˆæƒ³åˆ°çš„æ˜¯æŒ‰é”®ç²¾çµï¼Œä½†æ˜¯è¿™ä¸ªè½¯ä»¶å¾—éœ€è¦æ‰‹æœºroot,æ‰€ä»¥åœ¨é…·å®‰çœ‹åˆ°äº†è¿™ä¹ˆä¸€æ¬¾è½¯ä»¶-\u003eä¸€è§¦å³å‘ ã€‚æ˜¯åˆ©ç”¨äº†æ— éšœç¢æ¨¡å¼ï¼Œæ‰€ä»¥ä¸ç”¨root,ä½†æ˜¯éœ€è¦å®‰å“ç‰ˆæœ¬å¤§äº7.0å¥½åƒã€‚ç±»ä¼¼çš„è½¯ä»¶åˆAuto.jsï¼Œä½†æ˜¯ç°åœ¨è²Œä¼¼ä½œè€…ç”±äºä¸€äº›åŸå› å·²ç»ä¸‹æ¶äº†ï¼Œæˆ‘æ— æ³•ä¸‹è½½ï¼Œæ‰€ä»¥å°±ç”¨è¿™ä¸ªï¼Œå®ç°æœ€é‡è¦ã€‚ ","date":"2019-09-20","objectID":"/mayisenlin-script/:0:0","tags":["Javascript"],"title":"åˆ©ç”¨è„šæœ¬è½¯ä»¶â€œä¸€è§¦å³å‘â€å†™ä¸€ä¸ªè‡ªåŠ¨æ”¶å–ï¼Œå·å–æ”¯ä»˜å®èƒ½é‡è„šæœ¬","uri":"/mayisenlin-script/"},{"categories":["Tips"],"content":"æ€è·¯ æ‰“å¼€æ”¯ä»˜å®APP å¯»æ‰¾èš‚èšæ£®æ—å…¥å£ è¿›å…¥èš‚èšæ£®æ—ï¼Œè¯†åˆ«èƒ½é‡çƒé¢œè‰²ï¼Œå¾ªç¯ä¹‹åç»“æŸ æ»‘åˆ°åº•éƒ¨æ‰“å¼€æŸ¥çœ‹æ‰€æœ‰å¥½å‹ æ¯ä¸€ä¸ªå¯ä»¥å·å–èƒ½é‡çš„å¥½å‹å³ä¾§éƒ½æœ‰ä¸€ä¸ªå°æ‰‹çš„å›¾æ ‡,è®°å¾—è¿™ä¸€å—è¦éå†å¾ªç¯ï¼Œæ²¡æœ‰å°±ä¸‹æ»‘ï¼Œå°±æœ‰æ”¶å–ï¼Œç›´åˆ°æ»‘åŠ¨åˆ°æœ€åº•éƒ¨ç»“æŸã€‚ ","date":"2019-09-20","objectID":"/mayisenlin-script/:0:1","tags":["Javascript"],"title":"åˆ©ç”¨è„šæœ¬è½¯ä»¶â€œä¸€è§¦å³å‘â€å†™ä¸€ä¸ªè‡ªåŠ¨æ”¶å–ï¼Œå·å–æ”¯ä»˜å®èƒ½é‡è„šæœ¬","uri":"/mayisenlin-script/"},{"categories":["Tips"],"content":"è§†é¢‘çœ‹ä¸€ä¸‹å§ ","date":"2019-09-20","objectID":"/mayisenlin-script/:0:2","tags":["Javascript"],"title":"åˆ©ç”¨è„šæœ¬è½¯ä»¶â€œä¸€è§¦å³å‘â€å†™ä¸€ä¸ªè‡ªåŠ¨æ”¶å–ï¼Œå·å–æ”¯ä»˜å®èƒ½é‡è„šæœ¬","uri":"/mayisenlin-script/"},{"categories":["Tips"],"content":"ä»£ç  ç›®å‰ç‰ˆæœ¬çš„ä¸€è§¦å³å‘è¿˜ä¸èƒ½å¯¼å‡ºä»£ç ï¼Œå¯ä»¥æ‰«ç ä½“éªŒ ","date":"2019-09-20","objectID":"/mayisenlin-script/:0:3","tags":["Javascript"],"title":"åˆ©ç”¨è„šæœ¬è½¯ä»¶â€œä¸€è§¦å³å‘â€å†™ä¸€ä¸ªè‡ªåŠ¨æ”¶å–ï¼Œå·å–æ”¯ä»˜å®èƒ½é‡è„šæœ¬","uri":"/mayisenlin-script/"},{"categories":["Tips"],"content":"ä½“éªŒåœ°å€ ","date":"2019-09-20","objectID":"/mayisenlin-script/:0:4","tags":["Javascript"],"title":"åˆ©ç”¨è„šæœ¬è½¯ä»¶â€œä¸€è§¦å³å‘â€å†™ä¸€ä¸ªè‡ªåŠ¨æ”¶å–ï¼Œå·å–æ”¯ä»˜å®èƒ½é‡è„šæœ¬","uri":"/mayisenlin-script/"},{"categories":["PHP"],"content":"åœ¨å†™å‘é€é‚®ä»¶æ—¶å‘ç°ç§»æ¤è¿‡æ¥çš„PHPMaileræ˜¯æ—§ç‰ˆçš„ï¼ˆæ˜¯æ²¡æœ‰namespaceï¼‰çš„ï¼Œåœ¨åé¢çš„ç‰ˆæœ¬å®˜æ–¹æ‰æ›´æ–°è¿‡æ¥ï¼Œäºæ˜¯æˆ‘åœ¨githubä¸‹è½½åˆ°æœ€æ–°çš„ç‰ˆæœ¬å‡†å¤‡å†™ä¸€ä¸ªå‘é€é‚®ä»¶","date":"2019-09-19","objectID":"/use-phpmailer/","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":" åœ¨å†™å‘é€é‚®ä»¶æ—¶å‘ç°ç§»æ¤è¿‡æ¥çš„PHPMaileræ˜¯æ—§ç‰ˆçš„ï¼ˆæ˜¯æ²¡æœ‰namespaceï¼‰çš„ï¼Œåœ¨åé¢çš„ç‰ˆæœ¬å®˜æ–¹æ‰æ›´æ–°è¿‡æ¥ï¼Œäºæ˜¯æˆ‘åœ¨githubä¸‹è½½åˆ°æœ€æ–°çš„ç‰ˆæœ¬å‡†å¤‡å†™ä¸€ä¸ªå‘é€é‚®ä»¶ ","date":"2019-09-19","objectID":"/use-phpmailer/:0:0","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":"ç¬¬ä¸€æ­¥ å½“ç„¶æ˜¯ä¸‹è½½ PHPMailer åœ°å€ï¼šhttps://github.com/PHPMailer/PHPMailer ","date":"2019-09-19","objectID":"/use-phpmailer/:0:1","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":"ç¬¬äºŒæ­¥ å°†æ–‡ä»¶å¼•å…¥é¡¹ç›®ä¸­ï¼Œåªä¿ç•™ src ç›®å½•ï¼Œå…¶ä½™çš„ä¸ç”¨ç•™ ","date":"2019-09-19","objectID":"/use-phpmailer/:0:2","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":"ç¬¬ä¸‰æ­¥ æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸º sendMail.php ï¼Œå†™å¦‚ä¸‹ä»£ç è¿›è¡Œé…ç½® \u003c?php namespace dncTool; use PHPMailerPHPMailerPHPMailer; use PHPMailerPHPMailerException; //å¼•å…¥é¡¹ç›® $dir = dirname(__FILE__) . '/PHPMailer'; require ($dir . '/src/Exception.php'); require ($dir . '/src/PHPMailer.php'); require ($dir . '/src/SMTP.php'); class sendMail { public static $Host = 'smtp.163.com'; //smtpæœåŠ¡å™¨ private static $From = 'è¿™é‡Œå†™é‚®ä»¶åœ°å€'; //å‘é€è€…çš„é‚®ä»¶åœ°å€ private static $FromName = 'ç­¾åˆ°åŠ©æ‰‹'; //å‘é€é‚®ä»¶çš„ç”¨æˆ·æ˜µç§° private static $Username = 'è¿™é‡Œå†™é‚®ä»¶åœ°å€'; //ç™»å½•åˆ°é‚®ç®±çš„ç”¨æˆ·å private static $Password = 'æˆæƒç '; //ç¬¬ä¸‰æ–¹ç™»å½•çš„æˆæƒç ï¼Œåœ¨é‚®ç®±é‡Œé¢è®¾ç½® /** * å‘é€ * @param $sendMail * @param $mailTitle * @param $content * @return bool */ public function send($sendMail,$mailTitle,$content) { //å®ä¾‹åŒ–PHPMailç±» $mail = new PHPMailer(true); try { //Server settings $mail-\u003eSMTPDebug = 0; // å…³é—­Dubugæ¨¡å¼ $mail-\u003eisSMTP(); // ä½¿ç”¨SMTPå‘é€é‚®ä»¶ $mail-\u003eHost = self::$Host; //SMTPé‚®ä»¶æœåŠ¡å™¨åœ°å€ï¼ˆè…¾è®¯ä¼ä¸šé‚®ä¸ºä¾‹ï¼‰ $mail-\u003eSMTPAuth = true; //å‘ä¿¡è®¤è¯ $mail-\u003eUsername = self::$Username; // SMTP å‘ä»¶äººé‚®ç®± $mail-\u003ePassword = self::$Password; // SMTP å‘ä»¶äººé‚®ç®±å¯†ç  $mail-\u003eSMTPSecure = 'ssl'; //sslåè®® $mail-\u003ePort = 465; //sslç«¯å£å· //å‘ä»¶äºº $mail-\u003esetFrom(self::$From, self::$FromName); //å‘ä»¶äººé‚®ç®±ï¼ˆåŒ $mail-\u003eUsernameé¡¹è®¾ç½®ï¼‰ã€å‘ä»¶äººåç§° //æ”¶ä»¶äººã€‚å¤šæ”¶ä»¶äººå¯è®¾ç½®å¤šä¸ªaddAddress $mail-\u003eaddAddress($sendMail, ''); //æ”¶ä»¶äººé‚®ç®±åœ°å€ï¼Œæ”¶ä»¶äººå§“åï¼ˆé€‰å¡«ï¼‰ //$mail-\u003eaddAddress('ellen@example.com'); // æ”¶ä»¶äººé‚®ç®±åœ°å€ //é‚®ä»¶å†…å®¹ $mail-\u003eisHTML(true); //å‘é€htmlæ ¼å¼é‚®ä»¶ $mail-\u003eSubject = $mailTitle; //é‚®ä»¶æ ‡é¢˜ $mail-\u003eBody = $content; //é‚®ä»¶å†…å®¹ $mail-\u003eAltBody = 'é‚®ä»¶æ‘˜è¦'; //ç›®æµ‹æ²¡ä»€ä¹ˆç”¨ï¼Œå¯å»æ‰ //åˆ¤æ–­æ˜¯å¦å‘é€æˆåŠŸ if ($mail-\u003esend()) { return true; } else { return false; } } catch (Exception $e) { return $mail-\u003eErrorInfo; } } } ","date":"2019-09-19","objectID":"/use-phpmailer/:0:3","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":"ç¬¬å››æ­¥ åœ¨å¦ä¸€ä¸ªåœ°æ–¹å®ä¾‹åŒ–è¿™ä¸ªç±»å°±è¡Œï¼Œç„¶åå°±å¯ä»¥è¿›è¡Œå‚æ•°ä¼ é€’ï¼Œä»£ç å¦‚ä¸‹ï¼š $mailSend = new dncToolsendMail(); //è®¾ç½®è¦å‘é€çš„é‚®ç®± $sendMail=$email; //é‚®ä»¶æ ‡é¢˜ $mailTitle = \"æ‚¨æ”¶åˆ°ç­¾åˆ°åŠ©æ‰‹çš„ä¸€æ¡é‚®ä»¶\"; //$contentä¸ºé‚®ä»¶å†…å®¹ $newPwd = $this-\u003emakeCardPassword(); $content=\"\u003cdiv\u003e\u003cb\u003eæ‚¨çš„æ–°å¯†ç ä¸ºï¼š\" . $newPwd . \",è¯·å°½å¿«ç™»é™†å¹¶ä¿®æ”¹å¯†ç \u003c/b\u003e\u003c/div\u003e\"; //æ‰§è¡Œå‘ä¿¡ $sendRes = $mailSend-\u003esend($sendMail,$mailTitle,$content); if ($sendRes == false) { exit(jsonCode('error','æœåŠ¡é”™è¯¯ï¼Œè¯·é‡æ–°å°è¯•')); } else { exit(jsonCode('ok','å·²å°†é‡ç½®åçš„å¯†ç å‘é€åˆ°æ‚¨çš„é‚®ç®±ä¸­ï¼')); } ","date":"2019-09-19","objectID":"/use-phpmailer/:0:4","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":"ç„¶åç›´æ¥è°ƒç”¨ç¬¬å››æ­¥æ–¹æ³•å°±å¯ä»¥æˆåŠŸå‘ä¿¡ æ”¶åˆ°é‚®ä»¶mark \" æ”¶åˆ°é‚®ä»¶ å‘é€é‚®ä»¶mark \" å‘é€é‚®ä»¶ ","date":"2019-09-19","objectID":"/use-phpmailer/:0:5","tags":["PHP"],"title":"PHPMailer6.0.7å¦‚ä½•åœ¨ç±»ä¸­è¢«è°ƒç”¨","uri":"/use-phpmailer/"},{"categories":["PHP"],"content":"phpå¤šç»´æ•°ç»„é™ç»´è®°è½½","date":"2019-08-20","objectID":"/php-array/","tags":["PHP"],"title":"phpå¤šç»´æ•°ç»„é™ç»´è®°è½½","uri":"/php-array/"},{"categories":["PHP"],"content":"å¤šç»´æ•°ç»„é™ä¸€ç»´æ•°ç»„ /** * å¤šç»´æ•°ç»„å˜æˆä¸€ç»´æ•°ç»„ * @param $array * @param array $return * @return array */ public function arr_foreach($array,$return=[]) { array_walk_recursive($array,function($value) use (\u0026$return) { $return[]=$value; }); return $return; } è°ƒç”¨æ–¹å¼ $this-\u003earr_foreach(å¤šç»´æ•°ç»„) ","date":"2019-08-20","objectID":"/php-array/:0:1","tags":["PHP"],"title":"phpå¤šç»´æ•°ç»„é™ç»´è®°è½½","uri":"/php-array/"},{"categories":["PHP"],"content":"ä¸‰ç»´æ•°ç»„é™äºŒç»´æ•°ç»„ /** * ä¸‰ç»´æ•°ç»„è½¬äºŒç»´æ•°ç»„ * @param $array * @return array */ public function array3_to_array2($array) { $array = array_filter($array); $array = array_values($array); foreach ($array as $k =\u003e$v) { $count = count($v); if ($count \u003e 1) { for ($i = 0;$i \u003c $count;$i++) { $resArr[] = $v[$i]; } } else { $resArr[] = $v[0]; } } return $resArr; } è°ƒç”¨æ–¹å¼ $this-\u003earray3_to_array2(ä¸‰ç»´æ•°ç»„) ","date":"2019-08-20","objectID":"/php-array/:0:2","tags":["PHP"],"title":"phpå¤šç»´æ•°ç»„é™ç»´è®°è½½","uri":"/php-array/"},{"categories":["PHP"],"content":"PHPå¦‚ä½•åœ¨foreachä¸­åˆå¹¶æ•°ç»„å‘¢ï¼Ÿ","date":"2019-08-19","objectID":"/php-foreach-merge/","tags":["PHP"],"title":"phpåœ¨foreaché‡Œé¢åˆå¹¶æ•°ç»„","uri":"/php-foreach-merge/"},{"categories":["PHP"],"content":"ç”¨åˆ°çš„å‡½æ•° array_merge() call_user_func_array å¦‚æœç›´æ¥ä¸¤ä¸ªæ•°ç»„åˆå¹¶ï¼Œé‚£ååˆ†ç®€å•ï¼Œå¦‚ä¸‹ $a1=array(\"red\",\"green\"); $a2=array(\"blue\",\"yellow\"); print_r(array_merge($a1,$a2)); // ç»“æœå¦‚ä¸‹ // Array ( [0] =\u003e red [1] =\u003e green [2] =\u003e blue [3] =\u003e yellow ) ","date":"2019-08-19","objectID":"/php-foreach-merge/:0:1","tags":["PHP"],"title":"phpåœ¨foreaché‡Œé¢åˆå¹¶æ•°ç»„","uri":"/php-foreach-merge/"},{"categories":["PHP"],"content":"å¦‚ä½•åœ¨foreaché‡Œé¢åˆå¹¶ç›¸åŒçš„ â€œå†…å®¹â€ ä¸ºæ•°ç»„ foreach ($array as $k =\u003e $v) { $array[] = $db-\u003ewhere('classid = ?', array($v['cid']))-\u003efetchAll(); } $result = call_user_func_array('array_merge', $array); print_r($result); // è¿™æ ·å°±æ˜¯æœ‰å‡ æ¡å°±è¿æ¥èµ·æ¥äº† ","date":"2019-08-19","objectID":"/php-foreach-merge/:0:2","tags":["PHP"],"title":"phpåœ¨foreaché‡Œé¢åˆå¹¶æ•°ç»„","uri":"/php-foreach-merge/"},{"categories":["PHP"],"content":"ä¼—æ‰€å‘¨çŸ¥phpçš„ `time` å‡½æ•°ç”Ÿæˆçš„æ˜¯10ä½çš„æ—¶é—´æˆ³ï¼Œä¸ºäº†æ–¹ä¾¿ä¸jsè¿›è¡Œå¤„ç†ï¼Œjsæ˜¯13ä½æ—¶é—´æˆ³ï¼Œè®°å½•ä¸‹è½¬æ¢æ–¹æ³•","date":"2019-08-09","objectID":"/php-js-timestamp/","tags":["PHP","Javascript"],"title":"phpä¸jsçš„æ—¶é—´æˆ³ç›¸å…³é—®é¢˜","uri":"/php-js-timestamp/"},{"categories":["PHP"],"content":"phpç”Ÿæˆ13ä½æ—¶é—´æˆ³ ä¼—æ‰€å‘¨çŸ¥phpçš„ time å‡½æ•°ç”Ÿæˆçš„æ˜¯10ä½çš„æ—¶é—´æˆ³ï¼Œä¸ºäº†æ–¹ä¾¿ä¸jsè¿›è¡Œå¤„ç†ï¼Œjsæ˜¯13ä½æ—¶é—´æˆ³ï¼Œè½¬åŒ–å‡½æ•°å¦‚ä¸‹ï¼š /** * ç”Ÿæˆ13ä½æ—¶é—´æˆ³ * @return float */ public function getMillisecond() { list($t1, $t2) = explode(' ', microtime()); return (float)sprintf('%.0f',(floatval($t1)+floatval($t2))*1000); } ","date":"2019-08-09","objectID":"/php-js-timestamp/:0:1","tags":["PHP","Javascript"],"title":"phpä¸jsçš„æ—¶é—´æˆ³ç›¸å…³é—®é¢˜","uri":"/php-js-timestamp/"},{"categories":["PHP"],"content":"jså¤„ç†10ä½/13ä½æ—¶é—´æˆ³è½¬æ¢æˆæ—¶é—´ timestampToTime: function(timestamp, type=1) { var date = new Date(timestamp * 1000);//æ—¶é—´æˆ³ä¸º10ä½éœ€*1000ï¼Œæ—¶é—´æˆ³ä¸º13ä½çš„è¯ä¸éœ€ä¹˜1000 let Y = date.getFullYear() + '.'; let M = (date.getMonth()+1 \u003c 10 ? '0'+(date.getMonth()+1) : date.getMonth()+1) + '.'; let D = date.getDate() + ' '; let h = date.getHours() + ':'; let m = date.getMinutes() let s = date.getSeconds(); if (type == 1) { //å…¨æ ¼å¼ return Y+M+D+h+m+s; } else if (type == 2) { //å¹´æœˆæ—¥ return Y+M+D; } else if (type == 3) { //æ—¶åˆ†ç§’ return h+m+s; } } ","date":"2019-08-09","objectID":"/php-js-timestamp/:0:2","tags":["PHP","Javascript"],"title":"phpä¸jsçš„æ—¶é—´æˆ³ç›¸å…³é—®é¢˜","uri":"/php-js-timestamp/"},{"categories":["Uni-App"],"content":"uniappçš„Formçš„pickerè¦è¿™æ ·ç”¨æ‰å¯¹","date":"2019-08-01","objectID":"/uniapp-form-picker/","tags":["Uni-App"],"title":"uniappçš„Formæäº¤ä¹‹è›‹ç–¼çš„picker","uri":"/uniapp-form-picker/"},{"categories":["Uni-App"],"content":"æ€è·¯ å“ªæœ‰æ€è·¯ï¼Œèœé¸¡æ˜¯æ²¡æœ‰æ€è·¯çš„ï¼Œæœ¬æ–‡å‚è€ƒå°ç¨‹åºclubçš„ä¸€ç¯‡æ–‡ç« å†™çš„å…³äºuniappçš„å†™æ³•ã€‚ å‚è€ƒåœ°å€ ï¼š http://www.wxappclub.com/topic/687 ","date":"2019-08-01","objectID":"/uniapp-form-picker/:0:1","tags":["Uni-App"],"title":"uniappçš„Formæäº¤ä¹‹è›‹ç–¼çš„picker","uri":"/uniapp-form-picker/"},{"categories":["Uni-App"],"content":"æ•ˆæœå›¾ æ•ˆæœå›¾mark \" æ•ˆæœå›¾ ","date":"2019-08-01","objectID":"/uniapp-form-picker/:0:2","tags":["Uni-App"],"title":"uniappçš„Formæäº¤ä¹‹è›‹ç–¼çš„picker","uri":"/uniapp-form-picker/"},{"categories":["Uni-App"],"content":"å¯èƒ½æ„Ÿè§‰å¾ˆå¥½å†™ å…¶å®è¿™é‡Œæœ‰ä¸€ä¸ªè›‹ç–¼çš„åœ°æ–¹ï¼Œå€Ÿç”¨åŸä½œè€…çš„ä¸€å¥è¯ï¼Œpickeré€šè¿‡formæäº¤çš„æ—¶å€™ï¼Œè‚¯å®šæäº¤çš„æ˜¯è‡ªå·±çš„valueï¼Œé‚£ä¹ˆå°±ç›¸å½“äºæ°¸è¿œæäº¤çš„æ˜¯0ã€1ã€2ã€3ã€4ã€5â€¦â€¦ è¿™æ ·çš„è¯é—®é¢˜å°±æ¥äº†ï¼Œå’±ä»¬è¦è¿™äº›ä¸ª0123æœ‰ä¸ªæ¯›ç”¨ï¼Ÿæ‰€ä»¥ä½ ä¼šå‘ç°å®˜æ–¹æ–‡æ¡£ç»™çš„ï¼Œåªèƒ½è¿”å›ç´¢å¼•å€¼ã€‚ å‚æ•°mark \" å‚æ•° ","date":"2019-08-01","objectID":"/uniapp-form-picker/:0:3","tags":["Uni-App"],"title":"uniappçš„Formæäº¤ä¹‹è›‹ç–¼çš„picker","uri":"/uniapp-form-picker/"},{"categories":["Uni-App"],"content":"uniappå†™æ³• templateéƒ¨åˆ† \u003cpicker mode=\"selector\" name=\"selector\" @change=\"bindSelectTime\" :value=\"timeIndex\" :range=\"picker_name\"\u003e \u003cview v-if=\"timeShow\"\u003e \u003cview class=\"uni-input\"\u003e{{selectTime[timeIndex].name}}\u003c/view\u003e \u003c/view\u003e \u003cview v-else=\"\"\u003e \u003ctext class=\"lateTime-right\"\u003eè¯·é€‰æ‹©æ—¶é—´\u003c/text\u003e \u003ctext class=\"iconfont iconarrow-right-copy-copy\"\u003e\u003c/text\u003e \u003c/view\u003e \u003c/picker\u003e scriptéƒ¨åˆ† \u003cscript\u003e var that; export default { data() { return { selectTime: [ //æ—¶é—´æ•°æ® { \"id\" : \"1min\" , \"name\":\"1åˆ†é’Ÿ\"}, { \"id\" : \"2min\" , \"name\":\"2åˆ†é’Ÿ\"}, { \"id\" : \"3min\" , \"name\":\"3åˆ†é’Ÿ\"}, { \"id\" : \"4min\" , \"name\":\"4åˆ†é’Ÿ\"}, { \"id\" : \"5min\" , \"name\":\"5åˆ†é’Ÿ\"} ], timeIndex: 0, //é€‰æ‹©çš„pickerç´¢å¼• picker_name:[],//pickerä¸­rangeå±æ€§å€¼ picker_id:[],//å­˜å‚¨idæ•°ç»„ result:'',//formæäº¤æœ€ç»ˆç»“æœ } }, onLoad() { that = this; // å°†selectTimeéå†èµ‹å€¼ this.selectTime.forEach(function(e){ that.picker_name.push(e.name); //æ³¨æ„ä¸€å®šè¦ç”¨that,å› ä¸ºthiså¯¹è±¡æ­¤æ—¶å·²ç»æ²¡æœ‰ä¼ ä¸è¿›æ¥äº† that.picker_id.push(e.id); }) }, methods: { bindSelectTime: function(e) { // ç»‘å®šé€‰æ‹©æ—¶é—´ that.timeShow = true; that.timeIndex = e.detail.value; }, // è¡¨å•æäº¤ä»£ç  formSubmit: function (e) { // è¡¨å•æäº¤ var result = this.picker_id[e.detail.value.selector]; this.result = result; console.log(result); } } } \u003c/script\u003e ","date":"2019-08-01","objectID":"/uniapp-form-picker/:0:4","tags":["Uni-App"],"title":"uniappçš„Formæäº¤ä¹‹è›‹ç–¼çš„picker","uri":"/uniapp-form-picker/"},{"categories":["Uni-App"],"content":"è¿˜æœ‰å‘å•Š å°±æ˜¯åœ¨ onLoad é‡Œé¢çš„ this.selectTime.forEach é‡Œé¢å¿…é¡»ç”¨thatï¼Œåœ¨ä¹‹å‰å°†thiså¯¹è±¡èµ‹å€¼ç»™that,å› ä¸ºæ­¤æ—¶thiså¯¹è±¡åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢å·²ç»ä¸¢å¤±äº†ï¼Œå¯ä»¥æ‰“å°this,ä¼šå‘ç°æ˜¯undefinedã€‚ æˆ–è€…å¯ä»¥ç”¨ES6çš„ç®­å¤´å‡½æ•°å°±å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹ï¼š this.selectTime.forEach( e =\u003e { this.picker_name.push(e.name); this.picker_id.push(e.id); }) ","date":"2019-08-01","objectID":"/uniapp-form-picker/:0:5","tags":["Uni-App"],"title":"uniappçš„Formæäº¤ä¹‹è›‹ç–¼çš„picker","uri":"/uniapp-form-picker/"},{"categories":["PHP"],"content":"PHPåˆ©ç”¨foreachç»™æŒ‡å®šæ•°ç»„æ ¹æ®é”®å»æ·»åŠ å†…å®¹","date":"2019-08-01","objectID":"/php-foreach-push/","tags":["PHP"],"title":"phpåˆ©ç”¨foreachç»™æ•°ç»„æŒ‡å®šé”®å€¼æ·»åŠ å†…å®¹","uri":"/php-foreach-push/"},{"categories":["PHP"],"content":"æ —å­å¦‚ä¸‹ $jsonArr = array(); foreach ($res as $value) { array_push($jsonArr, array('classId' =\u003e $value['classid'], 'className' =\u003e $value['classname'])); } $jsonArr = json_encode($jsonArr, true); exit(print_r($jsonArr)); ","date":"2019-08-01","objectID":"/php-foreach-push/:0:1","tags":["PHP"],"title":"phpåˆ©ç”¨foreachç»™æ•°ç»„æŒ‡å®šé”®å€¼æ·»åŠ å†…å®¹","uri":"/php-foreach-push/"},{"categories":["Tips"],"content":"æ€è·¯å°±æ˜¯å…ˆå°†jsonè½¬æ¢æˆæ•°ç»„ï¼Œç„¶ååœ¨å¾ªç¯éå†æ•°ç»„ï¼Œç„¶åå†ç”¨spliceå‡½æ•°è¿›è¡Œåˆ é™¤æ•°ç»„","date":"2019-07-31","objectID":"/js-remove-json-object/","tags":["Javascript"],"title":"Jsåˆ é™¤jsonä¸­çš„å¯¹è±¡","uri":"/js-remove-json-object/"},{"categories":["Tips"],"content":"æ€è·¯ æ€è·¯å°±æ˜¯å…ˆå°†jsonè½¬æ¢æˆæ•°ç»„ï¼Œç„¶ååœ¨å¾ªç¯éå†æ•°ç»„ï¼Œç„¶åå†ç”¨spliceå‡½æ•°è¿›è¡Œåˆ é™¤æ•°ç»„ ","date":"2019-07-31","objectID":"/js-remove-json-object/:0:1","tags":["Javascript"],"title":"Jsåˆ é™¤jsonä¸­çš„å¯¹è±¡","uri":"/js-remove-json-object/"},{"categories":["Tips"],"content":"ä¸¾ä¸ªæ —å­ let delId = 3; let jsonArr = ['{\"userList\": [{\"name\": \"yqchilde\", \"userId\": \"2\", \"joinTime\": \"07æœˆ31æ—¥\"}, {\"name\": \"test404\", \"userId\": \"3\", \"joinTime\": \"07æœˆ30æ—¥\"}], \"className\": \"è®¡ç®—æœºç§‘å­¦ä¸€ç­\"}'] jsonArr = JSON.parse(jsonArr); for (let i = 0; i \u003c jsonArr.userList.length; i++) { if (delId == jsonArr.userList[i].userId) { jsonArr.userList.splice(i, 1); } }; jsonArr = JSON.stringify(jsonArr); console.log(jsonArr) //ç»“æœå¦‚ä¸‹ // {\"userList\":[{\"name\":\"yqchilde\",\"userId\":\"2\",\"joinTime\":\"07æœˆ31æ—¥\"}],\"className\":\"è®¡ç®—æœºç§‘å­¦ä¸€ç­\"} ","date":"2019-07-31","objectID":"/js-remove-json-object/:0:2","tags":["Javascript"],"title":"Jsåˆ é™¤jsonä¸­çš„å¯¹è±¡","uri":"/js-remove-json-object/"},{"categories":["Android"],"content":"æœ¬æ¥æ˜¯é…ç½®å¥½çš„ç¯å¢ƒï¼Œä½†æ˜¯ä¸€ç›´æ²¡å‘ç°åœ¨æ§åˆ¶å°ï¼Œåªæœ‰javaå¯ä»¥ç”¨ï¼Œjavacå´ä¸èƒ½ç”¨","date":"2019-07-24","objectID":"/jdk1.8-config/","tags":["Java"],"title":"JDK1.8çš„ç¯å¢ƒå˜é‡é…ç½®","uri":"/jdk1.8-config/"},{"categories":["Android"],"content":" æœ¬æ¥æ˜¯é…ç½®å¥½çš„ç¯å¢ƒï¼Œä½†æ˜¯ä¸€ç›´æ²¡å‘ç°åœ¨æ§åˆ¶å°ï¼Œåªæœ‰javaå¯ä»¥ç”¨ï¼Œjavacå´ä¸èƒ½ç”¨ ","date":"2019-07-24","objectID":"/jdk1.8-config/:0:0","tags":["Java"],"title":"JDK1.8çš„ç¯å¢ƒå˜é‡é…ç½®","uri":"/jdk1.8-config/"},{"categories":["Android"],"content":"1.5ä»¥åä¸å†éœ€è¦JAVA_HOMEå’ŒCLASSPATH ç›´æ¥åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡æ–°å¢jdkçš„ç»å¯¹è·¯å¾„å°±è¡Œï¼Œå¦‚å›¾ æˆåŠŸå¦‚å›¾ï¼š ","date":"2019-07-24","objectID":"/jdk1.8-config/:0:1","tags":["Java"],"title":"JDK1.8çš„ç¯å¢ƒå˜é‡é…ç½®","uri":"/jdk1.8-config/"},{"categories":["Android"],"content":"1.5ä»¥å‰ä»ç„¶è¦é…ç½®JAVA_HOMEå’ŒCLASSPATH JAVA_HOME: ä½ è‡ªå·±çš„jdkçš„è·¯å¾„ CLASSPATH=.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar æ³¨æ„å‰é¢æœ‰ä¸€ä¸ª.åƒä¸‡ä¸è¦å¿˜äº†ã€‚ ï¼ˆæ³¨æ„ å¦‚æœæ˜¯1.5ä»¥åçš„JDKç‰ˆæœ¬ä¸éœ€è¦é…ç½®CLASSPATHï¼‰ ","date":"2019-07-24","objectID":"/jdk1.8-config/:0:2","tags":["Java"],"title":"JDK1.8çš„ç¯å¢ƒå˜é‡é…ç½®","uri":"/jdk1.8-config/"},{"categories":["Uni-App"],"content":"ä»‹ç»äº†å¦‚ä½•ç”¨Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç å¹¶ç”»å‡ºæ¥","date":"2019-07-22","objectID":"/uniapp-generate-invitation-qrcode/","tags":["Uni-App"],"title":"Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç ","uri":"/uniapp-generate-invitation-qrcode/"},{"categories":["Uni-App"],"content":"å…ˆçœ‹æ•ˆæœå›¾ æ•ˆæœå›¾mark \" æ•ˆæœå›¾ ","date":"2019-07-22","objectID":"/uniapp-generate-invitation-qrcode/:0:1","tags":["Uni-App"],"title":"Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç ","uri":"/uniapp-generate-invitation-qrcode/"},{"categories":["Uni-App"],"content":"å¼•å…¥æ’ä»¶ æ’ä»¶æºåœ°å€ï¼š https://dwz.cn/YbQ9718O import _app from '@/commons/QS-SharePoster/app.js'; import getSharePoster from '@/commons/QS-SharePoster/QS-SharePoster.js'; ","date":"2019-07-22","objectID":"/uniapp-generate-invitation-qrcode/:0:2","tags":["Uni-App"],"title":"Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç ","uri":"/uniapp-generate-invitation-qrcode/"},{"categories":["Uni-App"],"content":"é…ç½®èƒŒæ™¯å›¾ç‰‡ åœ¨ æ’ä»¶ä¸­app.js é‡Œé¢å†™ getPosterUrl æ–¹æ³• getPosterUrl(objs) { // åç«¯è·å–èƒŒæ™¯å›¾çš„urlè·¯å¾„æ–¹æ³• let { backgroundImage, type } = objs; return new Promise((rs, rj) =\u003e {//resolve å’Œ reject let image; if (backgroundImage) image = backgroundImage; else switch (type) { //æ ¹æ®typeè·å–èƒŒæ™¯å›¾, ä¸€èˆ¬è¦æ”¹æˆrequestè·å– case 1: image = ''; break; default: image = 'https://ae01.alicdn.com/kf/HTB1iTw3a8r0gK0jSZFn762RRXXaM.png'; break; } if(image) rs(image); // resolveå›¾ç‰‡çš„è·¯å¾„ else rj('èƒŒæ™¯å›¾ç‰‡è·¯å¾„ä¸å­˜åœ¨'); }) }, æ­¤å¤„ä¼šåœ¨å‰å°è°ƒç”¨ï¼Œç„¶åè¿”å›imageç»™QSæ•´åˆï¼Œåœ°å€å¯ä»¥å†™ç»™åç«¯è¿”å›Apiæ¥å£ç”¨requestè¯·æ±‚è·å–ï¼Œæˆ‘å¼€å§‹ä¹Ÿæ˜¯è¿™æ ·ï¼Œåæ¥æ”¹äº†ï¼Œå› ä¸ºåœ¨ç›®å‰åŠŸèƒ½å¤Ÿç”¨äº† ","date":"2019-07-22","objectID":"/uniapp-generate-invitation-qrcode/:0:3","tags":["Uni-App"],"title":"Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç ","uri":"/uniapp-generate-invitation-qrcode/"},{"categories":["Uni-App"],"content":"å‰å°é¡µé¢ å…ˆè°ƒèµ·jsæ–¹æ³•ï¼Œtemplateä»£ç å¦‚ä¸‹ï¼š \u003cview class=\"classBtn\"\u003e \u003ctext class=\"cuIcon-forwardfill\"\u003e\u003c/text\u003e \u003ctext @tap=\"shareFc(index)\"\u003eé‚€è¯·\u003c/text\u003e \u003c/view\u003e @tapç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ç»™äº†ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘è®°å½•ç‚¹å‡»çš„æ˜¯åˆ—è¡¨ä¸­çš„å“ªä¸€ä¸ª è¦å±•ç¤ºçš„å›¾ç‰‡æ”¾åœ¨viewé‡Œé¢ \u003c!-- é‚€è¯·äºŒç»´ç  --\u003e \u003cview class=\"flex_row_c_c modalView\" :class=\"qrShow?'show':''\" @tap=\"hideQr()\"\u003e \u003cview class=\"flex_column\"\u003e \u003cview class=\"backgroundColor-white padding1vh border_radius_10px\"\u003e \u003cimage :src=\"poster.finalPath\" mode=\"widthFix\" class=\"posterImage\"\u003e\u003c/image\u003e \u003c/view\u003e \u003cview class=\"flex_row marginTop2vh\"\u003e \u003cbutton type=\"primary\" size=\"mini\" @tap.prevent.stop=\"saveImage()\"\u003eä¿å­˜å›¾ç‰‡\u003c/button\u003e \u003cbutton type=\"primary\" size=\"mini\" @tap.prevent.stop=\"share()\"\u003eåˆ†äº«å›¾ç‰‡\u003c/button\u003e \u003c/view\u003e \u003c/view\u003e \u003c/view\u003e \u003cview class=\"hideCanvasView\"\u003e \u003ccanvas class=\"hideCanvas\" canvas-id=\"ShareCanvasId\" :style=\"{width: (poster.width||0) + 'px', height: (poster.height||0) + 'px'}\"\u003e\u003c/canvas\u003e \u003c/view\u003e ç”Ÿæˆå›¾ç‰‡å±•ç¤ºmodalçš„cssæ ·å¼ /* é‚€è¯·äºŒç»´ç  */ .hideCanvasView { position: relative; } .hideCanvas { position: fixed; top: -99999upx; left: -99999upx; z-index: -99999; } .flex_row_c_c { display: flex; flex-direction: row; justify-content: center; align-items: center; } .modalView { width: 100%; height: 100%; position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0; outline: 0; transform: scale(3); perspective: 2500upx; background: rgba(0, 0, 0, 0.6); transition: all .3s ease-in-out; pointer-events: none; backface-visibility: hidden; z-index: 999; } .modalView.show { opacity: 1; transform: scale(1); pointer-events: auto; } .flex_column { display: flex; flex-direction: column; } .backgroundColor-white { background-color: white; } .border_radius_10px { border-radius: 10px; } .padding1vh { padding: 1vh; } .posterImage { width: 60vw; } .flex_row { display: flex; flex-direction: row; } .marginTop2vh { margin-top: 2vh; } åœ¨ script å…ˆè®¾ç½®dataå€¼ data () { return { poster: {}, qrShow: false, canvasId: 'ShareCanvasId', } } æ­¤å¤„çš„canvasIdå€¼å›ºå®šï¼Œç”¨ä¸€ä¸ªcanvasIdæ¥åœ¨ç”»æ¿ä¸Šç»˜ç”» åˆ©ç”¨ async + await å†™åŒæ­¥è¯·æ±‚ï¼Œå› ä¸ºuni.requestæ˜¯å°è£…çš„å¼‚æ­¥è¯·æ±‚ï¼Œæ­¤å¤„éœ€è¦åŒæ—¶æ¸²æŸ“é¡µé¢ async shareFc(index) { //åˆ†äº«é‚€è¯·äºŒç»´ç ï¼Œå‚æ•°indexæ˜¯åˆ—è¡¨ç‚¹å‡»çš„ç´¢å¼• if (uni.getStorageSync('tmpIndex') === index) { //åˆ¤æ–­ä¸´æ—¶ç´¢å¼•æ˜¯å¦æ˜¯ç‚¹å‡»çš„ç´¢å¼• this.qrShow = true; } else { try{ uni.setStorageSync('tmpIndex', index); //å°†ç‚¹å‡»çš„ç´¢å¼•ç»‘å®šç»™æœ¬åœ°syncï¼Œä½œä¸ºä¸´æ—¶ç´¢å¼• let d = await getSharePoster({ //ä¼ å…¥ä¸¤ä¸ªawaitå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ç±»å‹ï¼Œä¸€ä¸ªæ˜¯canvasID // type: [this.classList[index].userid,this.classList[index].classid], type: 'testShareType', posterCanvasId: this.canvasId, qrCodeArray: (bgObj, type) =\u003e { return [{ text: 'äºŒç»´ç å†…å®¹æš‚æ—¶ä¸å†™', //åæœŸå¯ä»¥ä¼ å…¥ç›¸å…³çš„äºŒç»´ç å‚æ•°ï¼Œä»¥ä¾¿äºæ‰«ç æ—¶è·å– // image: 'https://timgsa.baidu.com/timg?image\u0026quality=80\u0026size=b9999_10000\u0026sec=1559644434957\u0026di=0db394a4ae41b6cff704fa3d4cbd997b\u0026imgtype=0\u0026src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201806%2F30%2F20180630233629_GueV4.thumb.700_0.jpeg', size: 580, //äºŒç»´ç å¤§å° dx: (bgObj.width-580)/2, //xåæ ‡ dy: bgObj.height-1200 //yåæ ‡ }] }, imagesArray: (bgObj, type) =\u003e { //æ¥æ”¶çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºèƒŒæ™¯å›¾ç‰‡çš„ä¿¡æ¯, ç¬¬äºŒä¸ªå‚æ•°æ˜¯è‡ªå®šä¹‰æ ‡è¯†ï¼ˆæ„Ÿè§‰è¿™é‡Œç”¨ä¸åˆ°ï¼‰, å›¾ç‰‡ä¸ºç¤ºä¾‹å›¾ç‰‡ return [{ url: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1314428097,3858988978\u0026fm=26\u0026gp=0.jpg', dx: 100, dy: bgObj.height - 300, circleSet: { // åœ†å½¢å›¾ç‰‡ circle: true }, infoCallBack(imageInfo) { let scale = 200/imageInfo.height; return { dWidth: imageInfo.width*scale, dHeight: 200 } } }] }, setCanvasWH: (bgObj, type) =\u003e { // ä¸ºåŠ¨æ€è®¾ç½®ç”»å¸ƒå®½é«˜çš„æ–¹æ³•ï¼Œ this.poster = bgObj; }, setDraw: (obj) =\u003e { let { Context, bgObj, type } = obj; Context.setFillStyle('black'); Context.setGlobalAlpha(0.3); Context.fillRect(0, bgObj.height - 400, bgObj.width, 400); Context.setGlobalAlpha(1); Context.setFillStyle('white'); Context.setFontSize(100); //è¾“å‡ºå§“å let text = uni.getStorageSync('realName'); Context.fillText(text, bgObj.width - text.length * 50 - 160, bgObj.height - 175); //è¾“å‡ºç­çº§ Context.setFillStyle('orange'); Context.setFontSize(110); let textTitle = this.classList[index].classname; Context.fillText(textTitle, (bgObj.width - textTitle.length * 110)/2, bgObj.height - 430); } }); console.log('æµ·æŠ¥ç”ŸæˆæˆåŠŸï¼Œ ä¸´æ—¶è·¯å¾„: ' + d.poster.tempFilePath) this.poster.finalPath = d.poster.tempFilePath; console.log(this.poster.finalPath); this.qrShow = tr","date":"2019-07-22","objectID":"/uniapp-generate-invitation-qrcode/:0:4","tags":["Uni-App"],"title":"Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç ","uri":"/uniapp-generate-invitation-qrcode/"},{"categories":["Uni-App"],"content":"æ‰©å±•çŸ¥è¯† ES6çš„è§£æ„èµ‹å€¼ let {msg, data, status} = jsonData; æƒ³è°ƒç”¨ `msg` å°±æ˜¯ jsonData.msg; è¿™å°±æ˜¯ES6çš„æ–°è¯­æ³•ç³– var a, b, rest; [a, b] = [10, 20]; console.log(a); // 10 console.log(b); // 20 //ç›´æ¥äº¤æ¢ä½ç½® [a, b, ...rest] = [10, 20, 30, 40, 50]; console.log(a); // 10 console.log(b); // 20 console.log(rest); // [30, 40, 50] // ...å°†å‰©ä½™æ•°ç»„èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ ({ a, b } = { a: 10, b: 20 }); console.log(a); // 10 console.log(b); // 20 // Stage 4ï¼ˆå·²å®Œæˆï¼‰ææ¡ˆä¸­çš„ç‰¹æ€§ ({a, b, ...rest} = {a: 10, b: 20, c: 30, d: 40}); console.log(a); // 10 console.log(b); // 20 console.log(rest); // {c: 30, d: 40} è§£æä»å‡½æ•°ä¸­è¿”å›çš„æ•°ç»„ function f() { return [1, 2]; } var a, b; [a, b] = f(); console.log(a); // 1 console.log(b); // 2 ä¹Ÿå¯ä»¥å¿½ç•¥æ‰è¿”å›å€¼ function f() { return [1, 2, 3]; } var [a, , b] = f(); //ä¹Ÿå¯ä»¥å…¨éƒ¨å¿½ç•¥ [,,] console.log(a); // 1 console.log(b); // 3 ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ æ­£åˆ™mark \" æ­£åˆ™ æ•°ç»„ä¸­æœ‰6ä¸ªï¼Œæˆ‘ä»¬åªæƒ³è¦ç¬¬ä¸€ä¸ªæ€ä¹ˆåŠï¼Ÿ é€‰æ‹©åˆé€‚çš„mark \" é€‰æ‹©åˆé€‚çš„ åªéœ€è¦çœç•¥æ‰å…¶ä»–çš„å‚æ•°å°±è¡Œ è§£æ„å¯¹è±¡ var o = {p: 42, q: true}; var {p, q} = o; console.log(p); // 42 console.log(q); // true æ— éœ€ç”³æ˜å˜é‡å³å¯èµ‹å€¼ ({a, b} = {a: 1, b: 2}); console.log(a); // 1 console.log(b); // 2 ç»™æ–°çš„å˜é‡æ¢å var o = {p: 42, q: true}; var {p: foo, q: bar} = o; console.log(foo); // 42 console.log(bar); // true ","date":"2019-07-22","objectID":"/uniapp-generate-invitation-qrcode/:0:5","tags":["Uni-App"],"title":"Uni-Appç”Ÿæˆé‚€è¯·äºŒç»´ç ","uri":"/uniapp-generate-invitation-qrcode/"},{"categories":["Uni-App"],"content":"æˆ‘æäº†3å¤©ç”¨phpç”ŸæˆéªŒè¯ç ï¼Œç„¶åsessionè¿”å›éªŒè¯ç çš„å€¼ï¼Œè¿™æ ·å­ç›´æ¥è¯·æ±‚æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨å°ç¨‹åºé‡Œé¢æ˜¯åªèƒ½è·å–åˆ° `PHPSESSID` ï¼Œæ‰€ä»¥è¦å¸¦ç€å›¾ç‰‡çš„sessionidæ‰èƒ½è®¿é—®åˆ°æ­£ç¡®çš„éªŒè¯ç å€¼ï¼Œå¥ˆä½•åœ¨uniappé‡Œé¢ï¼Œuni.requestè¯·æ±‚æ‰èƒ½æ‹¿åˆ°sessionidï¼Œä½†æ˜¯imageæ ‡ç­¾è¦æƒ³æ˜¾ç¤ºè¿™ä¸ªsessionçš„å¯¹åº”çš„å›¾ç‰‡ï¼Œéœ€è¦åŠ¨æ€ç»‘å®šæ•°æ®åŠ è½½ï¼Œè¿™æ ·å°±å¯¼è‡´äº†åŠ è½½çš„å›¾ç‰‡è¯·æ±‚äº†ä¸€æ¬¡sessionï¼Œrequeståˆè¯·æ±‚äº†ä¸€æ¬¡ï¼Œæˆ‘æŠ€æœ¯ä¸é«˜å†™ä¸å‡ºæ¥äº†ï¼Œè¿™æ‰æƒ³åˆ°äº†ä»Šå¤©è¦å®ç°çš„è¿™ç§æ–¹æ³•","date":"2019-07-11","objectID":"/uniapp-generate-random-verification-code/","tags":["Uni-App"],"title":"uniappç”ŸæˆéšæœºéªŒè¯ç \u0026phpåˆæˆéªŒè¯ç å›¾ç‰‡","uri":"/uniapp-generate-random-verification-code/"},{"categories":["Uni-App"],"content":" æˆ‘æäº†3å¤©ç”¨phpç”ŸæˆéªŒè¯ç ï¼Œç„¶åsessionè¿”å›éªŒè¯ç çš„å€¼ï¼Œè¿™æ ·å­ç›´æ¥è¯·æ±‚æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨å°ç¨‹åºé‡Œé¢æ˜¯åªèƒ½è·å–åˆ° PHPSESSID ï¼Œæ‰€ä»¥è¦å¸¦ç€å›¾ç‰‡çš„sessionidæ‰èƒ½è®¿é—®åˆ°æ­£ç¡®çš„éªŒè¯ç å€¼ï¼Œå¥ˆä½•åœ¨uniappé‡Œé¢ï¼Œuni.requestè¯·æ±‚æ‰èƒ½æ‹¿åˆ°sessionidï¼Œä½†æ˜¯imageæ ‡ç­¾è¦æƒ³æ˜¾ç¤ºè¿™ä¸ªsessionçš„å¯¹åº”çš„å›¾ç‰‡ï¼Œéœ€è¦åŠ¨æ€ç»‘å®šæ•°æ®åŠ è½½ï¼Œè¿™æ ·å°±å¯¼è‡´äº†åŠ è½½çš„å›¾ç‰‡è¯·æ±‚äº†ä¸€æ¬¡sessionï¼Œrequeståˆè¯·æ±‚äº†ä¸€æ¬¡ï¼Œæˆ‘æŠ€æœ¯ä¸é«˜å†™ä¸å‡ºæ¥äº†ï¼Œè¿™æ‰æƒ³åˆ°äº†ä»Šå¤©è¦å®ç°çš„è¿™ç§æ–¹æ³• æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯ï¼Œä»£ç å¦‚ä¸‹â†“ ","date":"2019-07-11","objectID":"/uniapp-generate-random-verification-code/:0:0","tags":["Uni-App"],"title":"uniappç”ŸæˆéšæœºéªŒè¯ç \u0026phpåˆæˆéªŒè¯ç å›¾ç‰‡","uri":"/uniapp-generate-random-verification-code/"},{"categories":["Uni-App"],"content":"templateä»£ç å¦‚ä¸‹ \u003cmodal-view title=\"è¯·è¾“å…¥éªŒè¯ç \" :no-cancel='true' confirm-text='ç¡®å®š' :hidden.sync='modalHidden'\u003e \u003cview slot='text' class=\"verifyCode\"\u003e \u003cimage id=\"verifyCode\" :src=\"verifySrc\" mode=\"aspectFit\" @click=\"getRandomCode\"\u003e\u003c/image\u003e \u003c/view\u003e \u003c/modal-view\u003e ","date":"2019-07-11","objectID":"/uniapp-generate-random-verification-code/:1:0","tags":["Uni-App"],"title":"uniappç”ŸæˆéšæœºéªŒè¯ç \u0026phpåˆæˆéªŒè¯ç å›¾ç‰‡","uri":"/uniapp-generate-random-verification-code/"},{"categories":["Uni-App"],"content":"scriptä»£ç å¦‚ä¸‹ getRandomCode: function() { // ç”ŸæˆéªŒè¯ç  let code = new Array(); let codeLength = 6;//éªŒè¯ç çš„é•¿åº¦ let selectChar = new Array(2,3,4,5,6,7,8,9,'a','b','c','d','e','f','g','h','j','k','l','m','n','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','J','K','L','M','N','P','Q','R','S','T','U','V','W','X','Y','Z'); for(let i=0;i\u003ccodeLength;i++) { let charIndex = Math.floor(Math.random()*56); // 56æ˜¯selectCharæ•°ç»„çš„é•¿åº¦ code +=selectChar[charIndex]; } if(code.length != codeLength) { this.getRandomCode(); } uni.request({ url: this.verifySrc = that.apiServer + 'user\u0026m=verifyView', method: 'POST', responseType:'arrayBuffer', //è®¾ç½®responseTypeæ˜¯ä¸ºäº†è½¬åŒ–å›¾ç‰‡ä¸ºbase64 header : {'content-type':'application/x-www-form-urlencoded'}, data: { code }, success: res =\u003e { let verifyImg = 'data:image/jpeg;base64,' + uni.arrayBufferToBase64(res.data); // è®¾ç½®å›¾ç‰‡åŠ¨æ€ç»‘å®šçš„srcè·¯å¾„ this.verifySrc = verifyImg; }, fail: (res) =\u003e { console.log(\"è¯·æ£€æŸ¥ç½‘ç»œ\"); } }); } **æ³¨æ„ï¼š**ä¸è½¬åŒ–ä¸ºbase64çš„è¯å›¾ç‰‡æ˜¯ æœªè½¬base64mark \" æœªè½¬base64 ","date":"2019-07-11","objectID":"/uniapp-generate-random-verification-code/:2:0","tags":["Uni-App"],"title":"uniappç”ŸæˆéšæœºéªŒè¯ç \u0026phpåˆæˆéªŒè¯ç å›¾ç‰‡","uri":"/uniapp-generate-random-verification-code/"},{"categories":["Uni-App"],"content":"phpç«¯ä»£ç  æ§åˆ¶å™¨ä»£ç  \u003c?php /** * User: yqchilde * Date: 2019/7/1 * Time: 22:06 */ namespace dnC; class user { public function verifyView() { if (isset($_POST['code'])) { $imgModel = new \\dncTool\\verifyImage(); $imgModel-\u003ebuild($_POST['code']); } else { exit(jsonCode('error', 'è·å–äºŒç»´ç å¤±è´¥')); } } } verifyImageä»£ç  \u003c?php /** * éªŒè¯ç ç±» * User: yqchilde * Date: 2019/7/6 * Time: 21:55 */ namespace dncTool; class verifyImage { public function __construct() { $this-\u003efont = 'simhei.ttf'; } static function create(){ static $instance ; if (!$instance){ $instance = new verifyImage(); } return $instance; } private $code;//éªŒè¯ç  private $codeLen = 6;//éªŒè¯ç é•¿åº¦ private $width = 130;//å®½åº¦ private $height = 50;//é«˜åº¦ private $img;//å›¾å½¢èµ„æºå¥æŸ„ private $font;//æŒ‡å®šçš„å­—ä½“ private $fontsize = 20;//æŒ‡å®šå­—ä½“å¤§å° private $fontcolor;//æŒ‡å®šå­—ä½“é¢œè‰² //ç”Ÿæˆéšæœºç  private function createCode($code) { $this-\u003ecode .= $code; } //ç”ŸæˆèƒŒæ™¯ private function createBg() { $this-\u003eimg = imagecreatetruecolor($this-\u003ewidth, $this-\u003eheight); $color = imagecolorallocate($this-\u003eimg, mt_rand(157,255), mt_rand(157,255), mt_rand(157,255)); imagefilledrectangle($this-\u003eimg,0,$this-\u003eheight,$this-\u003ewidth,0,$color); } //ç”Ÿæˆæ–‡å­— private function createFont() { $_x = $this-\u003ewidth / $this-\u003ecodeLen; //$this-\u003ecode = array(\"å¤©\", \"åœ°\", \"äºº\", \"å’Œ\", \"æ¢¦\",);//éšæœºå› å­ for ($i=0;$i\u003c$this-\u003ecodeLen;$i++) { $this-\u003efontcolor = imagecolorallocate($this-\u003eimg,mt_rand(0,156),mt_rand(0,156),mt_rand(0,156)); imagettftext($this-\u003eimg,$this-\u003efontsize,mt_rand(-30,30),$_x*$i+mt_rand(1,5),$this-\u003eheight / 1.4,$this-\u003efontcolor,$this-\u003efont,$this-\u003ecode[$i]); } } //ç”Ÿæˆçº¿æ¡ã€é›ªèŠ± private function createLine() { //çº¿æ¡ for ($i=0;$i\u003c6;$i++) { $color = imagecolorallocate($this-\u003eimg,mt_rand(0,156),mt_rand(0,156),mt_rand(0,156)); imageline($this-\u003eimg,mt_rand(0,$this-\u003ewidth),mt_rand(0,$this-\u003eheight),mt_rand(0,$this-\u003ewidth),mt_rand(0,$this-\u003eheight),$color); } //é›ªèŠ± for ($i=0;$i\u003c100;$i++) { $color = imagecolorallocate($this-\u003eimg,mt_rand(200,255),mt_rand(200,255),mt_rand(200,255)); imagestring($this-\u003eimg,mt_rand(1,5),mt_rand(0,$this-\u003ewidth),mt_rand(0,$this-\u003eheight),'*',$color); } } //è¾“å‡º private function outPut() { header('Content-type:image/png'); imagepng($this-\u003eimg); imagedestroy($this-\u003eimg); } //å¯¹å¤–ç”Ÿæˆ public function vCodePicture($code) { $this-\u003ecreateBg(); $this-\u003ecreateCode($code); $this-\u003ecreateLine(); $this-\u003ecreateFont(); $this-\u003eoutPut(); } //è·å–éªŒè¯ç  public function getCode() { return strtolower($this-\u003ecode); } public function build($code) { $this-\u003evCodePicture($code); } } ","date":"2019-07-11","objectID":"/uniapp-generate-random-verification-code/:3:0","tags":["Uni-App"],"title":"uniappç”ŸæˆéšæœºéªŒè¯ç \u0026phpåˆæˆéªŒè¯ç å›¾ç‰‡","uri":"/uniapp-generate-random-verification-code/"},{"categories":["Uni-App"],"content":"çœ‹ä¸€ä¸‹æœ€åçš„æ ·å­ æ•ˆæœå›¾mark \" æ•ˆæœå›¾ ","date":"2019-07-11","objectID":"/uniapp-generate-random-verification-code/:3:1","tags":["Uni-App"],"title":"uniappç”ŸæˆéšæœºéªŒè¯ç \u0026phpåˆæˆéªŒè¯ç å›¾ç‰‡","uri":"/uniapp-generate-random-verification-code/"},{"categories":["Uni-App"],"content":"è®°è½½ä¸€ä¸‹uniappæºå¸¦sessionçš„è¯·æ±‚","date":"2019-07-11","objectID":"/uniapp-with-session/","tags":["Uni-App"],"title":"Uni-Appä¹‹æºå¸¦sessionè¯·æ±‚","uri":"/uniapp-with-session/"},{"categories":["Uni-App"],"content":" å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œæ˜¯å› ä¸ºï¼ˆç™½å¤©éƒ½åœ¨é©¾æ ¡å­¦è½¦ï¼Œæ™šä¸Šåšé¡¹ç›®ï¼‰å“ˆå“ˆï¼Œå¼ºåŠ¿æ‰¾å€Ÿå£ï¼Œè®°è½½ä¸€ä¸‹uniappæºå¸¦sessionçš„è¯·æ±‚ ","date":"2019-07-11","objectID":"/uniapp-with-session/:0:0","tags":["Uni-App"],"title":"Uni-Appä¹‹æºå¸¦sessionè¯·æ±‚","uri":"/uniapp-with-session/"},{"categories":["Uni-App"],"content":"headerè¯·æ±‚å¤´ åœ¨uniappé‡Œé¢uni.requestæ˜¯ç±»ä¼¼äºajaxçš„å¼‚æ­¥è¯·æ±‚ï¼Œè¯·æ±‚é€‚åˆå¯ä»¥æºå¸¦headerå¤´ï¼Œé‚£æˆ‘ä»¬ç»™headerå¤´åŠ ä¸€ä¸ªcookieä¿¡æ¯å³å¯ï¼Œå¦‚ä¸‹ let headers = {}; headers['content-type'] = 'application/x-www-form-urlencoded; charset=UTF-8'; let PHPSESSID = uni.getStorageSync('PHPSESSID'); if (PHPSESSID) { headers['cookie'] = 'PHPSESSID=' + PHPSESSID; } å°†sessionæ”¾åœ¨headerè¿™ä¸ªå¯¹è±¡é‡Œé¢ï¼ŒåŒç†å½“ç„¶ä¹Ÿå¯ä»¥å†™å…¶ä»–éœ€è¦çš„cookieä¿¡æ¯ ","date":"2019-07-11","objectID":"/uniapp-with-session/:0:1","tags":["Uni-App"],"title":"Uni-Appä¹‹æºå¸¦sessionè¯·æ±‚","uri":"/uniapp-with-session/"},{"categories":["Uni-App"],"content":"å®˜æ–¹æ–‡æ¡£ä¸Šé¢åªæœ‰è¯´æ”¯æŒ `touchmove` ä½†æ˜¯å´æ²¡ç»™ä¸€ä¸ªdemoï¼Œå®ç°è¿‡ç¨‹åœ¨è¿™é‡Œäº†ã€‚","date":"2019-06-15","objectID":"/uniapp-shoushi-huadong/","tags":["Uni-App"],"title":"Uni-Appçš„æ‰‹åŠ¿ç›‘å¬æ»‘åŠ¨","uri":"/uniapp-shoushi-huadong/"},{"categories":["Uni-App"],"content":"è¸©å‘ å®˜æ–¹æ–‡æ¡£ä¸Šé¢åªæœ‰è¯´æ”¯æŒ touchmove ä½†æ˜¯å´æ²¡ç»™ä¸€ä¸ªdemo ","date":"2019-06-15","objectID":"/uniapp-shoushi-huadong/:0:1","tags":["Uni-App"],"title":"Uni-Appçš„æ‰‹åŠ¿ç›‘å¬æ»‘åŠ¨","uri":"/uniapp-shoushi-huadong/"},{"categories":["Uni-App"],"content":"æ•ˆæœå›¾ æ•ˆæœå›¾mark \" æ•ˆæœå›¾ ","date":"2019-06-15","objectID":"/uniapp-shoushi-huadong/:0:2","tags":["Uni-App"],"title":"Uni-Appçš„æ‰‹åŠ¿ç›‘å¬æ»‘åŠ¨","uri":"/uniapp-shoushi-huadong/"},{"categories":["Uni-App"],"content":"ä»£ç å¦‚ä¸‹ \u003ctemplate\u003e \u003cview class=\"page\" @touchmove=\"touchRight\" @touchstart=\"touchStart\" @touchend=\"touchEnd\"\u003e \u003cuni-drawer :visible=\"showLeft\" mode=\"left\" @close=\"closeDrawer('left')\"\u003e \u003c!-- @close=\"closeDrawer('left')\" --\u003e \u003cuni-list-item title=\"Item1\" /\u003e \u003cuni-list-item title=\"Item2\" /\u003e \u003cuni-list-item :show-badge=\"true\" title=\"Item3\" badge-text=\"12\" /\u003e \u003c/uni-drawer\u003e \u003c/view\u003e \u003c/template\u003e \u003cscript\u003e import uniDrawer from \"@/components/uni-drawer/uni-drawer.vue\" import uniList from '@/components/uni-list/uni-list.vue' import uniListItem from '@/components/uni-list-item/uni-list-item.vue' var that; export default { components: { uniDrawer, uniList, uniListItem }, data() { return { showLeft: false, flag: 0, text: '', lastX: 0, lastY: 0, } }, onLoad() { that = this; }, methods: { showDrawer: function(e) { if (e === 'left') { that.showLeft = true } }, closeDrawer: function(e) { if (e === 'left') { that.showLeft = false } }, touchRight: function(e) { // å‘å³ç§»åŠ¨ console.log(\"ç§»åŠ¨ä¸­\"); if (that.flag !== 0) { return; } let currentX = e.touches[0].pageX; let currentY = e.touches[0].pageY; let tx = currentX - that.lastX; let ty = currentY - that.laseY; let text = \"\"; that.mindex = -1; //å·¦å³æ–¹å‘æ»‘åŠ¨ if (Math.abs(tx) \u003e Math.abs(ty)) { if (tx \u003c 0) { text = 'å‘å·¦æ»‘åŠ¨'; that.flag = 1; // that.closeDrawer('left'); console.log(text); } else if (tx \u003e 0) { text = 'å‘å³æ»‘åŠ¨'; that.flag = 2; that.showDrawer('left'); console.log(text); } } }, // touchTop: function(e) { // ä¸Šä¸‹ç§»åŠ¨ // if (that.flag !== 0) { // return; // } // let currentX = e.touches[0].pageX; // let currentY = e.touches[0].pageY;8 // let tx = currentX - that.lastX; // let ty = currentY - that.laseY; // that.mindex = -1; // if (Math.abs(tx) \u003c= Math.abs(ty)) { //ä¸Šä¸‹æ–¹å‘æ»‘åŠ¨ // if (ty \u003c 0) { //å‘ä¸Šæ»‘åŠ¨ // this.flag = 1; // this.floatButton = 'inline'; // } else if (ty \u003e 0) { // å‘ä¸‹æ»‘åŠ¨ // this.flag = 2; // this.floatButton = 'none' // } // } // // this.lastX = currentX; // this.lastY = currentY; // }, touchStart: function(e) { //å¼€å§‹ç§»åŠ¨ console.log(\"å¼€å§‹ç§»åŠ¨\"); // that.showDrawer('left'); that.lastX = e.touches[0].pageX; that.laseY = e.touches[0].pageY; }, touchEnd: function(e) { // ç»“æŸç§»åŠ¨ console.log(\"ç»“æŸç§»åŠ¨\"); that.flag = 0; that.text = \"æ²¡æœ‰æ»‘åŠ¨\" } } } \u003c/script\u003e ","date":"2019-06-15","objectID":"/uniapp-shoushi-huadong/:0:3","tags":["Uni-App"],"title":"Uni-Appçš„æ‰‹åŠ¿ç›‘å¬æ»‘åŠ¨","uri":"/uniapp-shoushi-huadong/"},{"categories":["MySQL"],"content":"è¿™æ˜¯æˆ‘çš„ç¬¬äºŒç¯‡MySQLå¤ä¹ ç¬”è®°","date":"2019-06-03","objectID":"/mysql-note-second/","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°äºŒ","uri":"/mysql-note-second/"},{"categories":["MySQL"],"content":"MySQLå¤ä¹ ç¬”è®°ä¸€ï¼š http://www.yqqy.top/notes/311 ","date":"2019-06-03","objectID":"/mysql-note-second/:0:0","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°äºŒ","uri":"/mysql-note-second/"},{"categories":["MySQL"],"content":"åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ DELIMITER//CREATEPROCEDUREp_stu1(INstudent_namechar(10),INcourse_namechar(20))BEGINSELECTSname,Cname,GradeFROMxssJOINxkONs.sno=xk.snoINNERJOINkccONc.cno=xk.cnoWHEREsname=student_nameANDcname=course_name;END//DELIMITER; ","date":"2019-06-03","objectID":"/mysql-note-second/:0:1","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°äºŒ","uri":"/mysql-note-second/"},{"categories":["MySQL"],"content":"è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ call p_stu1(\"zhangsan\", \"mysql\"); ","date":"2019-06-03","objectID":"/mysql-note-second/:0:2","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°äºŒ","uri":"/mysql-note-second/"},{"categories":["MySQL"],"content":"åˆ›å»ºæ•°æ®åº“ç”¨æˆ· CREATE USER 'yqchilde' @ '%' IDENTFIND BY PASSWORD 'root' ","date":"2019-06-03","objectID":"/mysql-note-second/:0:3","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°äºŒ","uri":"/mysql-note-second/"},{"categories":["Python"],"content":"è®°å½•ä¸€ä¸‹ç”¨Pythonçš„Scrapyåº“çˆ¬è™«","date":"2019-05-27","objectID":"/first-using-scrapy/","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"å®æ“pythonçš„Scrapyåº“ï¼Œä¹Ÿå°±æ˜¯çˆ¬è™«å¾ˆå¼ºå¤§çš„ä¸€ä¸ªåº“ ä»Šå¤©è¦ç»ƒä¹ çš„æ˜¯ä¸€ä¸ªæ–°é—»ç½‘ï¼Œå¦‚ä¸‹ ç½‘ç«™mark \" ç½‘ç«™ ","date":"2019-05-27","objectID":"/first-using-scrapy/:0:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"åˆ›å»ºé¡¹ç›® é¦–å…ˆæˆ‘ä»¬å…ˆåœ¨æ§åˆ¶å°åˆ›å»ºä¸€ä¸ª Scrapy é¡¹ç›® scrapy startproject é¡¹ç›®åç§° åˆ›å»ºé¡¹ç›®mark \" åˆ›å»ºé¡¹ç›® ","date":"2019-05-27","objectID":"/first-using-scrapy/:1:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"æ·»åŠ çˆ¬è™«åŸŸ æˆ‘ä»¬å…ˆç”¨ cd news è¿›å…¥çˆ¬è™«æ–‡ä»¶ä¸­ï¼Œç„¶åå†æ·»åŠ çˆ¬è™«åŸŸ scrapy genspider new hxfzzx.com æ·»åŠ çˆ¬è™«åŸŸmark \" æ·»åŠ çˆ¬è™«åŸŸ ","date":"2019-05-27","objectID":"/first-using-scrapy/:2:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"ç›®å½•ç»“æ„ çœ‹ä¸‹ä¸€ä¸‹scrapyçš„ä»£ç ç›®å½•ç»“æ„ ç›®å½•ç»“æ„mark \" ç›®å½•ç»“æ„ spiders/: æ”¾ç½®spiderä»£ç çš„ç›®å½• new.py: è¯¥é¡¹ç›®çš„pythonæ¨¡å— items.py: é¡¹ç›®ä¸­çš„itemæ–‡ä»¶ middlewares.py:çˆ¬è™«ä¸­é—´ä»¶ piplines.py:é¡¹ç›®ä¸­å¤„ç†æ•°æ®è¡Œä¸º.å¦‚:ä¸€èˆ¬ç»“æ„åŒ–çš„æ•°æ®æŒä¹…åŒ– settings.py:é¡¹ç›®çš„è®¾ç½®æ–‡ä»¶ ","date":"2019-05-27","objectID":"/first-using-scrapy/:3:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"åˆ†æå…ƒç´  å…ˆåœ¨ items.py é‡Œé¢å†™ä¸‹çˆ¬è™«å…ƒç´  # -*- coding: utf-8 -*- # Define here the models for your scraped items # # See documentation in: # https://doc.scrapy.org/en/latest/topics/items.html import scrapy class NewsItem(scrapy.Item): # define the fields for your item here like: new_title = scrapy.Field() new_time = scrapy.Field() new_href = scrapy.Field() content_img = scrapy.Field() content = scrapy.Field() ","date":"2019-05-27","objectID":"/first-using-scrapy/:4:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"ç¼–å†™è„šæœ¬ ç„¶ååœ¨ new.py é‡Œé¢å†™é¡¹ç›®ä»£ç  # -*- coding: utf-8 -*- import scrapy from news.items import NewsItem class NewSpider(scrapy.Spider): name = 'new' allowed_domains = ['hxfzzx.com'] # çˆ¬è™«åŸŸ start_urls = ['http://www.hxfzzx.com/news/fzfj/'] # å¼€å§‹çˆ¬å–çš„åœ°å€ def parse(self, response): li_list = response.xpath(\"//div[@class='zw']//li\") # åˆ†æé¡µé¢å…ƒç´  for li in li_list: item = NewsItem() item[\"new_title\"] = li.xpath(\"./a/text()\").extract_first() # åˆ†åˆ«å–å‡ºæ–°é—»æ ‡é¢˜ï¼Œæ–°é—»æ—¶é—´ï¼Œæ–°é—»è¯¦æƒ…é¡µåœ°å€ item[\"new_time\"] = li.xpath(\"./span/text()\").extract_first() item[\"new_href\"] = li.xpath(\"./a/@href\").extract_first() if item[\"new_href\"] is None: # å› ä¸ºæ­¤å¤„ä¼šçˆ¬è™«æœ‰Noneçš„æ•°æ®ï¼Œæ‰€ä»¥è¿‡æ»¤ä¸€ä¸‹ continue # å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œå»è·å–è¯¦æƒ…é¡µ yield scrapy.Request( item[\"new_href\"], callback=self.parse_detail, meta={\"item\": item} ) # éå†10é¡µçš„å†…å®¹ next_url = response.xpath(\"//div[@id='pages']/a[@class='a1'][3]/@href\").get() if next_url != \"/news/fzfj/11.html\": next_url = \"http://www.hxfzzx.com\"+next_url yield scrapy.Request( next_url, callback=self.parse ) # è·å–è¯¦æƒ…é¡µä¿¡æ¯ def parse_detail(self, response): item = response.meta[\"item\"] item[\"content\"] = response.xpath(\"//div[@class='zw show']\").extract() # è·å–è¯¦æƒ…é¡µçš„å†…å®¹ï¼Œæ­¤å¤„å°†ä»–çš„divæ•´ä¸ªéƒ½çˆ¬äº†ï¼Œæ–¹ä¾¿æ ¼å¼ yield item ","date":"2019-05-27","objectID":"/first-using-scrapy/:5:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"å¤„ç†æ•°æ® æœ€ååœ¨ pipelines.py è¿™ä¸ªæ–‡ä»¶é‡Œå†™æ•°æ®å¤„ç†ä»£ç ï¼Œå¹¶å°†å…¶æäº¤åˆ°mysqlæ•°æ®åº“ä¸­ï¼Œmysqlä¸­åˆ›å»ºçš„å­—æ®µå¦‚ä¸‹ å¤„ç†æ•°æ®mark \" å¤„ç†æ•°æ® pipelines.py ä»£ç å¦‚ä¸‹ï¼š # -*- coding: utf-8 -*- # Define your item pipelines here # # Don't forget to add your pipeline to the ITEM_PIPELINES setting # See: https://doc.scrapy.org/en/latest/topics/item-pipeline.html import pymysql class NewsPipeline(object): def __init__(self): # è¿æ¥MySQLæ•°æ®åº“ self.connect = pymysql.connect(host='è¿æ¥ip', user='ç”¨æˆ·å', password='å¯†ç ', db='æ•°æ®åº“å', port=3306) self.cursor = self.connect.cursor() def process_item(self, item, spider): # å¾€æ•°æ®åº“é‡Œé¢å†™å…¥æ•°æ® sql = \"insert into news(`new_title`, `new_time`, `new_href`, `content`) values (%s, %s, %s, %s)\" self.cursor.execute(sql, (item['new_title'], item['new_time'], item['new_href'], item['content'])) self.connect.commit() return item # å…³é—­æ•°æ®åº“ def close_spider(self, spider): self.cursor.close() self.connect.close() ","date":"2019-05-27","objectID":"/first-using-scrapy/:6:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"æ³¨æ„ æ³¨æ„äº‹é¡¹ï¼Œè¦åœ¨ setting.py ä»£ç ä¸­å°†pipelinesçš„æ³¨é‡Šæ‰“å¼€ æ³¨æ„äº‹é¡¹mark \" æ³¨æ„äº‹é¡¹ ","date":"2019-05-27","objectID":"/first-using-scrapy/:7:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"è¿è¡Œ æœ€åæˆ‘ä»¬è¿è¡Œä¸€ä¸‹ä»£ç æ–‡ä»¶ scrapy crawl new ","date":"2019-05-27","objectID":"/first-using-scrapy/:8:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Python"],"content":"æ•ˆæœ æ•ˆæœå¦‚ä¸‹ï¼š è¿è¡Œæ•ˆæœres.gif \" è¿è¡Œæ•ˆæœ ","date":"2019-05-27","objectID":"/first-using-scrapy/:9:0","tags":["Python"],"title":"Scrapyç¬¬ä¸€æ¬¡çˆ¬è™«ï¼ˆå¹¶å°†æ•°æ®ä¼ åˆ°mysqlä¸­ï¼‰","uri":"/first-using-scrapy/"},{"categories":["Android"],"content":"è®°è½½RecyclerViewçš„ç€‘å¸ƒæµå¸ƒå±€","date":"2019-05-24","objectID":"/android-learning-recycleview-third/","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸‰","uri":"/android-learning-recycleview-third/"},{"categories":["Android"],"content":" Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸€ ï¼š https://yqqy.top/android-learning-recycleview-first Androidå­¦ä¹ RecyclerViewç¬”è®°äºŒ ï¼š https://yqqy.top/android-learning-recycleview-second ","date":"2019-05-24","objectID":"/android-learning-recycleview-third/:0:0","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸‰","uri":"/android-learning-recycleview-third/"},{"categories":["Android"],"content":"STEP è®°è½½çš„æ˜¯RecyclerViewçš„ç€‘å¸ƒæµå¸ƒå±€ ç€‘å¸ƒæµï¼Œåœ¨ç¬”è®°äºŒä¸­ä¸ä¹‹ä¸åŒçš„åœ°æ–¹å½“æ—¶è¿˜æ˜¯åœ¨ setLayoutManager èº«ä¸Šï¼Œé‚£ä¹ˆç€‘å¸ƒæµçš„å¸ƒå±€æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ ç€‘å¸ƒæµå¸ƒå±€ï¼š StaggeredGridLayoutManager()ï¼Œè¿™ä¸ªæ–¹æ³•ä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆ—æ•°ï¼ˆè¦å±•ç¤ºçš„ä¸ºå‡ åˆ—ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯æ–¹å‘ï¼ˆStaggeredGridLayoutManager.VERTICALï¼‰ä¸ºçºµå‘ åŒæ ·æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•° MyDecoration æ¥å®ç°ä»–çš„åˆ†å‰²çº¿ï¼Œæˆ‘ä»¬ç»™ä¸Šä¸‹å·¦å³éƒ½åŠ ä¸€å®šçš„å¤–è¾¹è·ï¼Œå¦‚ä¸‹ï¼š MyDecorationmark \" MyDecoration å¤åˆ¶ä¸€ä¸ªç¬”è®°äºŒä¸­çš„ GridAdapter å°†å…¶å‘½åä¸º StaggeredGridAdapter ï¼Œç¨å¾®æ”¹ä¸€ä¸‹ä»£ç ï¼Œå¦‚ä¸‹ï¼š StaggeredGridAdaptermark \" StaggeredGridAdapter æˆ‘ä»¬ç°åœ¨æ¥çœ‹çœ‹ç€‘å¸ƒæµçš„æ•ˆæœå§ï¼š ç€‘å¸ƒæµæ•ˆæœmark \" ç€‘å¸ƒæµæ•ˆæœ ","date":"2019-05-24","objectID":"/android-learning-recycleview-third/:0:1","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸‰","uri":"/android-learning-recycleview-third/"},{"categories":["Android"],"content":"è®°è½½RecycleViewçš„æ°´å¹³æ»šåŠ¨å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€","date":"2019-05-23","objectID":"/android-learning-recycleview-second/","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°äºŒ","uri":"/android-learning-recycleview-second/"},{"categories":["Android"],"content":" Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸€ ï¼š https://yqqy.top/android-learning-recycleview-first Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸‰ ï¼š https://yqqy.top/android-learning-recycleview-third ","date":"2019-05-23","objectID":"/android-learning-recycleview-second/:0:0","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°äºŒ","uri":"/android-learning-recycleview-second/"},{"categories":["Android"],"content":"STEP è¿™èŠ‚ç¬”è®°è®°å½•RecycleViewçš„å¦å¤–ä¸¤ä¸ªå¸ƒå±€ æ°´å¹³æ»šåŠ¨å¸ƒå±€ \u0026 ç½‘æ ¼å¸ƒå±€ å’Œç¬”è®°ä¸€ä¸€æ ·ï¼Œå…ˆå¸ƒå±€ä¸¤ä¸ªæŒ‰é’®ï¼Œè¿›è¡Œè·³è½¬æ“ä½œ æ¼”ç¤ºå›¾1mark \" æ¼”ç¤ºå›¾1 æ¼”ç¤ºå›¾2mark \" æ¼”ç¤ºå›¾2 å…ˆè¯´æ»šåŠ¨å¸ƒå±€å§ åˆ›å»ºä¸€ä¸ªæ–°çš„æ–°çš„activityï¼Œå‘½åä¸º HorRecyclerViewActivityï¼Œåˆšåˆšçš„recycleviewActivityå°±æ˜¯è·³è½¬åˆ°è¿™é‡Œï¼ŒåŒç†å¾…ä¼šçš„ç½‘æ ¼å¸ƒå±€ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå‘½åä¸º GridRecyclerViewActivity ä¸¤è€…ç›¸åŒï¼Œä¸åŒçš„åœ°æ–¹ä¼šç‰¹åˆ«å†™å‡ºæ¥ GridRecyclerViewActivitymark \" GridRecyclerViewActivity ctrl + å·¦é”® ç‚¹è¿›å»ï¼Œè¿›è¡Œå¸ƒå±€ï¼Œä¹Ÿå°±æ˜¯åœ¨ activity_hor_recycler_view.xml æ–‡ä»¶ä¸­å¸ƒå±€ï¼Œå¸ƒå±€å¦‚ä¸‹ï¼š activity_hor_recycler_view.xmlmark \" activity_hor_recycler_view.xml å¼•å…¥RecycleView,æ˜¯v7åŒ…ä¸­çš„ï¼Œç¬”è®°ä¸€æœ‰è®°å½• å›åˆ° HorRecyclerViewActivity ä¸­ï¼Œé¦–å…ˆå†å­¦ä¹ RecyclerViewçš„ä¸€ä¸ªå±æ€§ RecyclerView.serOrientation è®¾ç½®æ–¹å‘ï¼ˆæ¨ªå‘ or çºµå‘ï¼‰ è®¾ç½®åˆ†å‰²çº¿çš„æ–¹æ³•å’Œç¬”è®°ä¸€ä¸­ä¸€ç›´ï¼Œè¿™é‡Œä¸åšè®°å½•äº†ï¼Œä¹‹åä¹Ÿæ˜¯é€šè¿‡å›è°ƒadapterä¸­è¿”å›çš„ç´¢å¼•ï¼Œæ¥å®ç°ç‚¹å‡»å¼¹å‡ºæç¤º HorRecyclerViewActivityä»£ç å¦‚ä¸‹ï¼š package com.helloworld.recyclerview; import android.graphics.Rect; import android.support.annotation.NonNull; import android.support.v7.app.AppCompatActivity; import android.os.Bundle; import android.support.v7.widget.LinearLayoutManager; import android.support.v7.widget.RecyclerView; import android.view.View; import android.widget.Toast; import com.helloworld.R; public class HorRecyclerViewActivity extends AppCompatActivity { private RecyclerView mRvHor; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_hor_recycler_view); mRvHor = findViewById(R.id.rv_hor); LinearLayoutManager linearLayoutManager = new LinearLayoutManager(HorRecyclerViewActivity.this); linearLayoutManager.setOrientation(LinearLayoutManager.HORIZONTAL); // è®¾ç½®æ°´å¹³æ–¹å‘ mRvHor.setLayoutManager(linearLayoutManager); mRvHor.addItemDecoration(new MyDecoration()); // è®¾ç½®åˆ†å‰²çº¿ mRvHor.setAdapter(new HorAdapter(HorRecyclerViewActivity.this, new HorAdapter.OnItemClickListener() { @Override public void onClick(int pos) { Toast.makeText(HorRecyclerViewActivity.this,\"click:\" + pos,Toast.LENGTH_SHORT).show(); } })); } /** * è‡ªå®šä¹‰MyDecorationç±»ï¼Œç»§æ‰¿RecyclerView.ItemDecoration */ class MyDecoration extends RecyclerView.ItemDecoration { @Override public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, @NonNull RecyclerView parent, @NonNull RecyclerView.State state) { super.getItemOffsets(outRect, view, parent, state); outRect.set(0,0,getResources().getDimensionPixelOffset(R.dimen.dividerHeight),0); // è®¾ç½®åˆ†å‰²çº¿åœ¨ä¸‹é¢ï¼Œçº¿å®½ä¸º1dp } } } ç„¶åæˆ‘ä»¬çœ‹adapter,æ°´å¹³æ»šåŠ¨çš„ å¤åˆ¶ç¬”è®°ä¸€ä¸­çš„LinearAdapterï¼Œå°†å…¶å‘½åä¸º HorAdapter åŒç† å¾…ä¼šçš„ç½‘æ ¼å¸ƒå±€å‘½åä¸º GridAdapter Adapterå®ç°çš„ç›®çš„çœ‹ç¬”è®°ä¸€å°±è¡Œ æˆ‘ä»¬åªéœ€è¦æ”¹å…¶ä¸­çš„å¸ƒå±€å°±è¡Œï¼Œåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„adapterå¸ƒå±€ï¼Œå°†å…¶å‘½åä¸º layout_hor_item.xmlï¼Œå¸ƒå±€å¦‚ä¸‹ï¼š layout_hor_item.xmlmark \" layout_hor_item.xml å°†å…¶åˆšåˆšå¤åˆ¶çš„HorAdapterä¸­çš„å¸ƒå±€ä¿®æ”¹ä¸ºè¿™ä¸ªå¸ƒå±€å¼•ç”¨ HorAdaptermark \" HorAdapter HorAdapterä»£ç ï¼š package com.helloworld.recyclerview; import android.content.Context; import android.support.annotation.NonNull; import android.support.v7.widget.RecyclerView; import android.view.LayoutInflater; import android.view.View; import android.view.ViewGroup; import android.widget.TextView; import com.helloworld.R; public class GridAdapter extends RecyclerView.Adapter\u003cGridAdapter.LinearViewHolder\u003e { private Context mContext; private OnItemClickListener mListener; public GridAdapter(Context context, OnItemClickListener listener) { this.mContext = context; this.mListener = listener; } @NonNull @Override public GridAdapter.LinearViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) { return new LinearViewHolder(LayoutInflater.from(mContext).inflate(R.layout.layout_gridrv_item,viewGroup,false)); } @Override public void onBindViewHolder(@NonNull GridAdapter.LinearViewHolder viewHolder, final int i) { viewHolder.textView.setText(\"Hello\"); viewHolder.textView.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { mListener.onClick(i); } }); } @Override public int getItemCount() { return 80; } class LinearViewHolder extends RecyclerView.ViewHolder { private TextView textView; public LinearViewHolder (View itemView) { super(itemView); textView = itemView.findViewById(R.id.tv_title); } } public interface OnItemClickListener { void onClick(int pos); } } ç„¶åçœ‹ä¸‹æ°´å¹³æ»šåŠ¨çš„å¸ƒå±€æ•ˆæœï¼š æ°´å¹³æ»šåŠ¨å¸ƒå±€æ•ˆæœmark \" æ°´å¹³æ»šåŠ¨å¸ƒå±€æ•ˆæœ æ¥ç€è¯´ä¸‹ç½‘æ ¼å¸ƒå±€ åªéœ€è¦å˜æ›´ä¸€ä¸‹è¿™é‡Œï¼Œå…¶ä»–éƒ½æŒ‰æ°´å¹³æ»šåŠ¨å¸ƒå±€æ¥å†™å°±è¡Œï¼Œæ³¨æ„æ–‡ä»¶æˆªå›¾ä½ç½®ï¼Œä¸‹é¢æˆªå›¾æœ‰ å˜æ›´æ–‡","date":"2019-05-23","objectID":"/android-learning-recycleview-second/:0:1","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°äºŒ","uri":"/android-learning-recycleview-second/"},{"categories":["Android"],"content":"è®°è½½RecyclerViewçš„åˆ—è¡¨å¸ƒå±€","date":"2019-05-22","objectID":"/android-learning-recycleview-first/","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸€","uri":"/android-learning-recycleview-first/"},{"categories":["Android"],"content":" Androidå­¦ä¹ RecyclerViewç¬”è®°äºŒ ï¼š https://yqqy.top/android-learning-recycleview-second Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸‰ ï¼š https://yqqy.top/android-learning-recycleview-third è®°å½•ä¸€ä¸‹RecyclerViewçš„ä¸€äº›å†™æ³•å’Œç‰¹ç‚¹ï¼Œæ¯•ç«Ÿæ˜¯ç”¨äº†adapterï¼Œèµ¶ç´§æ¥æ¢³ç†ä¸€ä¸‹ã€‚RecyclerViewæ˜¯Android 5.0æ¨å‡ºçš„ï¼Œæ˜¯support-v7åŒ…ä¸­çš„æ–°ç»„ä»¶ã€‚ ","date":"2019-05-22","objectID":"/android-learning-recycleview-first/:0:0","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸€","uri":"/android-learning-recycleview-first/"},{"categories":["Android"],"content":"STEP è®°å½•çš„æ˜¯RecyclerViewçš„åˆ—è¡¨å¸ƒå±€ æ•´ä½“å†™æ³•å¦‚ä¸‹ LinearAdapter-\u003eLinearRecyclerViewAvtivity-\u003eRecyclerActivity æ•´ä½“æ€è·¯å¦‚ä¸‹ LinearAdapter\u003c-LinearRecyclerViewAvtivity\u003c-RecyclerActivity é¦–å…ˆæˆ‘ä»¬å…ˆå¼•å…¥V7åŒ…ï¼Œåœ¨build.gradleä¸­å†™è¿™ä¹ˆä¸€è¡Œä»£ç  implementation 'com.android.support:design:28.0.0' ç„¶åæˆ‘ä»¬é‡æ–°åˆ›å»ºä¸€ä¸ªç©ºçš„ activity å¹¶å°†å…¶å‘½åä¸º RecyclerViewActivity.java ç„¶åæˆ‘ä»¬ç»™å…¶å¸ƒå±€ä¸€ä¸ªxml å‘½åä¸º activity_recycler_view.xml ç”»ä¸€ä¸ªæŒ‰é’®ç”¨æ¥ç‚¹å‡»è·³è½¬åˆ°æ¼”ç¤ºé¡µé¢ï¼Œç•Œé¢å¦‚ä¸‹ï¼š activity_recycler_view.xmlmark \" activity_recycler_view.xml ä»£ç å¦‚ä¸‹ï¼š package com.helloworld.recyclerview; import android.content.Intent; import android.support.v7.app.AppCompatActivity; import android.os.Bundle; import android.view.View; import android.widget.Button; import com.helloworld.R; public class RecyclerViewActivity extends AppCompatActivity { private Button mBtnLinear; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_recycler_view); mBtnLinear = findViewById(R.id.btn_linear); mBtnLinear.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Intent intent = new Intent(RecyclerViewActivity.this,LinearRecyclerViewActivity.class); startActivity(intent); } }); } } ç„¶åæˆ‘ä»¬åœ¨LinearRecyclerViewAvtivityå¯¹åº”çš„åˆ›å»ºå…¶å¸ƒå±€æ–‡ä»¶ï¼Œå‘½åä¸º activity_linear_recycler_view.xml å¸ƒå±€RecyclerView activity_linear_recycler_view.xmlmark \" activity_linear_recycler_view.xml å›åˆ°LinearRecyclerViewAvtivity â€“ è¿™é‡Œä»‹ç»ä¸€ä¸‹RecyclerViewçš„ä¸¤ä¸ªå±æ€§å±æ€§ â€“RecyclerView.setLayoutManager(LinearLayoutManger()) // çº¿æ€§å¸ƒå±€ç®¡ç† â€“RecyclerView.addItemDecoration() //æ·»åŠ åˆ†å‰²çº¿ ç„¶åæˆ‘ä»¬å»è®¾ç½®adapter å…ˆè´´ä»£ç ï¼š package com.helloworld.recyclerview; import android.graphics.Rect; import android.support.annotation.NonNull; import android.support.v7.app.AppCompatActivity; import android.os.Bundle; import android.support.v7.widget.LinearLayoutManager; import android.support.v7.widget.RecyclerView; import android.view.View; import android.widget.Toast; import com.helloworld.R; public class LinearRecyclerViewActivity extends AppCompatActivity { private RecyclerView mRvMain; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_linear_recycler_view); mRvMain = findViewById(R.id.rv_main); mRvMain.setLayoutManager(new LinearLayoutManager(LinearRecyclerViewActivity.this)); // è®¾ç½®çº¿æ€§å¸ƒå±€ç®¡ç† mRvMain.addItemDecoration(new MyDecoration()); // è®¾ç½®åˆ†å‰²çº¿ï¼Œè°ƒç”¨MyDecorationè¿™ä¸ªç±» mRvMain.setAdapter(new LinearAdapter(LinearRecyclerViewActivity.this, new LinearAdapter.OnItemClickListener() { @Override // ä»LinearAdapterä¸­ä¼ å…¥ç´¢å¼•pos public void onClick(int pos) { Toast.makeText(LinearRecyclerViewActivity.this,\"click...\" + pos,Toast.LENGTH_SHORT).show(); } })); } /** * è‡ªå®šä¹‰MyDecorationç±»ï¼Œç»§æ‰¿RecyclerView.ItemDecoration */ class MyDecoration extends RecyclerView.ItemDecoration { @Override public void getItemOffsets(@NonNull Rect outRect, @NonNull View view, @NonNull RecyclerView parent, @NonNull RecyclerView.State state) { super.getItemOffsets(outRect, view, parent, state); outRect.set(0,0,0,getResources().getDimensionPixelOffset(R.dimen.dividerHeight)); // è®¾ç½®åˆ†å‰²çº¿åœ¨ä¸‹é¢ï¼Œçº¿å®½ä¸º1dp } } } æ¥ç€å°±æ˜¯ LinearAdapter ï¼Œè¿™é‡Œæ³¨æ„åˆ›å»ºclassæ—¶ï¼Œè¦è®©å…¶ç»§æ‰¿åœ¨ RecyclerView.Adapter ä¸‹ ç‚¹å¼€ç»§æ‰¿çš„ç±»æŸ¥çœ‹æ–¹æ³•ï¼Œå‘ç°æ˜¯ä¸€ä¸ªæ³›å‹ ç»§æ‰¿äº ViewHolder ViewHoldermark \" ViewHolder æˆ‘ä»¬è‡ªå·±å†™ä¸€ä¸ªç±»ç»§æ‰¿ RecyclerView.ViewHolder è‡ªå®šä¹‰mark \" è‡ªå®šä¹‰ ç„¶åå°†æ³›å‹ä¼ è¿›æ¥ æ³›å‹mark \" æ³›å‹ è¿™é‡Œå†è®°å½•ä¸€ä¸‹ LayoutInflater çš„ä½¿ç”¨ â€“LayoutInflaterè¿™ä¸ªç±»çš„ä½œç”¨ç±»ä¼¼äºfindViewById()ã€‚ä¸åŒç‚¹æ˜¯LayoutInflateræ˜¯ç”¨æ¥æ‰¾res/layout/ä¸‹çš„xmlå¸ƒå±€æ–‡ä»¶ï¼Œå¹¶ä¸”å®ä¾‹åŒ–ï¼›è€ŒfindViewById()æ˜¯æ‰¾xmlå¸ƒå±€æ–‡ä»¶ä¸‹çš„å…·ä½“widgetæ§ä»¶(å¦‚Buttonã€TextViewç­‰)ã€‚ onCreateViewHolderï¼ˆï¼‰æ–¹æ³•ï¼Œè´Ÿè´£æ‰¿è½½æ¯ä¸ªå­é¡¹çš„å¸ƒå±€ã€‚å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæŒ‰ç…§æˆ‘çš„ç†è§£æ¥è¯´æ˜¯è§†å›¾ç»„ä»¶ï¼Œç¬¬äºŒä¸ªæ˜¯ç´¢å¼•; onBindViewHolder()æ–¹æ³•ï¼Œè´Ÿè´£å°†æ¯ä¸ªå­é¡¹holderç»‘å®šæ•°æ®ã€‚ä¿©å‚æ•°åˆ†åˆ«æ˜¯ç»‘å®šçš„è§†å›¾ç»„ä»¶ï¼Œç´¢å¼•ï¼› ä¸ºä»€ä¹ˆæ˜¯æŒ‰ç…§æˆ‘çš„ç†è§£å‘¢ï¼Œå› ä¸ºç°åœ¨è¿™ä¿©å‚æ•°å…¨éƒ¨æ›´æ–°äº†ï¼Œä¹Ÿå°±æ˜¯ç™¾åº¦åˆ°çš„éƒ½ä¸ä¸€æ ·ï¼Œä¹‹å‰çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯typeï¼Œç»„ä»¶ç±»å‹ï¼Œç°åœ¨æ˜¯i,so,æ˜¯æŒ‰ç…§æˆ‘çš„ç†è§£ åœ¨LinearAdapterä¸­è¿”å›ç‚¹å‡»çš„ç»„ä»¶çš„ç´¢å¼•ï¼ŒLinearRecyclerViewActivityæ¥å£ï¼Œå¹¶ç”¨Toastè¿”å›æç¤ºä¿¡æ¯ å†™ä¸€ä¸ªæ¥å£å®ç°å›è°ƒæ–¹æ³•ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¼ å…¥æˆ‘ä»¬ç‚¹å‡»çš„ç´¢å¼• 1mark \" 1 2mark \" 2 3mark \" 3 åœ¨ getItemCount æ–¹æ³•ä¸­å…ˆå†™æ­»ï¼Œåˆ›å»º30ä¸ª ä»£ç å¦‚ä¸‹ï¼š package com.helloworld.recyclerview; import android.content.Context; import android.support.annotation.NonNull; import android.support.v7.widget.RecyclerView; import android.view.LayoutInflater; import android.view.View; import android.vie","date":"2019-05-22","objectID":"/android-learning-recycleview-first/:0:1","tags":["Android"],"title":"Androidå­¦ä¹ RecyclerViewç¬”è®°ä¸€","uri":"/android-learning-recycleview-first/"},{"categories":["MySQL"],"content":"è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡MySQLå¤ä¹ ç¬”è®°","date":"2019-05-20","objectID":"/mysql-note-first/","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"MySQLå¤ä¹ ç¬”è®°äºŒï¼š http://www.yqqy.top/notes/426 ","date":"2019-05-20","objectID":"/mysql-note-first/:0:0","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"åˆ›å»ºæ•°æ®åº“ï¼ˆæ­¤å¤„æŒ‰ç…§è¯¾æœ¬åˆ›å»ºå­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼‰ create database student ","date":"2019-05-20","objectID":"/mysql-note-first/:0:1","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"æ˜¾ç¤ºåˆ›å»ºçš„æ•°æ®åº“ show databases ","date":"2019-05-20","objectID":"/mysql-note-first/:0:2","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"ä½¿ç”¨ use æ•°æ®åº“ æ¥é€‰æ‹©æ•°æ®åº“è¿›è¡Œæ“ä½œ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:3","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"ç»™æ•°æ®åº“æ·»åŠ  è¡¨ï¼Œå¹¶ä¸ºå…¶æ·»åŠ æ•°æ® create table xs(sno char(14) primary key, sname char(20)) ä¸Šé¢è¿™è¡Œsqlè¯­å¥æ„æ€æ˜¯åˆ›å»º xs è¿™ä¸ªè¡¨ï¼Œå¹¶æ·»åŠ ä¸¤ä¸ªæ•°æ®ï¼Œsno(å­¦ç”Ÿå­¦å·) sname(å­¦ç”Ÿå§“å) å¹¶å°†sno è®¾ç½®ä¸ºä¸»é”® åŒç†æˆ‘ä»¬åˆ›å»ºè¯¾ç¨‹è¡¨ï¼Œé€‰è¯¾è¡¨ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:4","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å±•ç¤ºåˆ›å»ºçš„è¡¨ show tables æˆ‘ä»¬å°±çœ‹åˆ°äº†åˆšåˆ›å»ºå¥½çš„ä¸‰ä¸ªè¡¨ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:5","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"ç°åœ¨æˆ‘ä»¬ä¸ºæ­¤æ’å…¥æ•°æ® æˆ‘ä»¬ç»™kcï¼ˆè¯¾ç¨‹ï¼‰è¿™ä¸ªè¡¨æ’å…¥äº†ä¸‰ä¸ªæ•°æ® æˆ‘ä»¬ç»™xkï¼ˆé€‰è¯¾ï¼‰è¿™ä¸ªè¡¨æ’å…¥ä¸‰æ¡æ•°æ® æœ€åä¸€ä¸ªæ•°æ®æ’å…¥snoä¸»é”®å†²çªï¼Œåé¢å·²æ”¹ 20170201 æ”¹ä¸º 20170202 ","date":"2019-05-20","objectID":"/mysql-note-first/:0:6","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"æˆ‘ä»¬æ¥çœ‹ä¸‹åˆšåˆšæ’å…¥çš„æ•°æ® select * from è¡¨å * ä»£è¡¨æ‰€æœ‰ å…ˆçœ‹kcï¼ˆè¯¾ç¨‹ï¼‰è¿™ä¸ªè¡¨ ç„¶åæ˜¯xkï¼ˆé€‰è¯¾ï¼‰è¿™ä¸ªè¡¨ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:7","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"æˆ‘ä»¬åˆ é™¤ä¸€æ¡æ•°æ® delete from è¡¨å where æ¡ä»¶ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:8","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¸¦å…¥æ¡ä»¶æŸ¥è¯¢ æŸ¥è¯¢å­¦ç”Ÿæˆç»©ä¸º90çš„ä¿¡æ¯ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:9","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¢åŠ æ•°æ®åº“å­—æ®µ alter table è¡¨å add å­—æ®µå ç”¨ desc è¡¨å æŸ¥åˆ°å­—æ®µå·²ç»åŠ å…¥è¿›æ¥äº† ","date":"2019-05-20","objectID":"/mysql-note-first/:0:10","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"ä¿®æ”¹æ•°æ® update è¡¨å set key = value where æ¡ä»¶ key æ­¤å¤„ä»£è¡¨æ˜¯å­—æ®µåï¼Œvalueæ­¤å¤„ä»£è¡¨æ˜¯å€¼ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:11","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"åˆ¤æ–­æ˜¯å¦æŸ¥è¯¢å€¼ä¸ºç©º åœ¨ä¸Šé¢æŸ¥è¯¢ xk(é€‰è¯¾) è¿™ä¸ªè¡¨å‘ç°å‰é¢ä¸¤ä¸ªçš„deptè¿™ä¸ªå­—æ®µå€¼æ˜¯ null é‚£ä¹ˆæˆ‘ä»¬å…ˆçœ‹ select * from xk where dept = null æ˜¯å¦å¯ä»¥ æˆ‘ä»¬æ¥å†™æ­£ç¡®çš„sqlè¯­å¥ is null ","date":"2019-05-20","objectID":"/mysql-note-first/:0:12","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"è¿è¡¨æŸ¥è¯¢ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:13","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¸¦æŸ¥è¯¢æ¡ä»¶çš„è¿è¡¨æŸ¥è¯¢ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:14","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"as ä¿®æ”¹è¿è¡¨æŸ¥è¯¢çš„åç§° ","date":"2019-05-20","objectID":"/mysql-note-first/:0:15","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¤šè¡¨ä¹‹é—´çš„joinè¿æ¥ ansiæ–¹å¼ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:16","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¤šè¡¨ä¹‹é—´çš„è¿æ¥æ–¹å¼ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:17","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"ä¸‰è¡¨è”åˆæŸ¥è¯¢çš„æ–¹æ³• æœ€ç¬¨çš„åŠæ³• ä¾æ¬¡æŸ¥è¯¢ å¤–è¿æ¥æ–¹æ³• ï¼ˆå·¦è¿æ¥æ–¹æ³•ï¼‰ æˆ‘ä»¬å‘ç°è¿™ä¸ªåœ°æ–¹æ¯”æ™®é€šæ–¹æ³•å¤šäº†ä¸€æ¡æ•°æ®ï¼ŒåŸå› æ˜¯æ™®é€šæ–¹æ³•å¦‚æœå‡ºç°nullå°±æŸ¥ä¸åˆ° ","date":"2019-05-20","objectID":"/mysql-note-first/:0:18","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"åˆ›å»ºè§†å›¾ view create or replace view è§†å›¾å AS selectè¯­å¥ åé¢çš„selectæ˜¯ä¸€èˆ¬çš„æŸ¥è¯¢è¯­å¥å°±è¡Œï¼Œæ­¤å¤„æ˜¯ä¸‰ä¸ªè¡¨è”åˆæŸ¥è¯¢ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:19","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"æŸ¥è¯¢è§†å›¾ show tables ","date":"2019-05-20","objectID":"/mysql-note-first/:0:20","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¯¼å‡ºæ•°æ®åº“ ï¼ˆåœ¨cmdçª—å£ï¼‰ mysqldump -u è´¦å· -p æ•°æ®åº“åå­— \u003e è·¯å¾„ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:21","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["MySQL"],"content":"å¯¼å…¥æ•°æ®åº“ (åœ¨cmdçª—å£) mysql -u è´¦å· -p æ•°æ®åº“åå­— \u003c è·¯å¾„ ","date":"2019-05-20","objectID":"/mysql-note-first/:0:22","tags":["MySQL"],"title":"MySQLå¤ä¹ ç¬”è®°ä¸€","uri":"/mysql-note-first/"},{"categories":["Tips"],"content":"è™½è¯´ç”¨äº†å¥½ä¹…çš„IDM,ä½†æ˜¯è¿˜æ˜¯é‡åˆ°äº†ä¸ä¼šçš„é—®é¢˜ï¼ŒIDMæ€ä¹ˆè®¾ç½®ä»£ç†é…åˆShadowsocksä¸‹è½½å›½å¤–æ–‡ä»¶ï¼Ÿ","date":"2019-05-12","objectID":"/idm-shadowsocks-download/","tags":["Soft"],"title":"IDMæ€ä¹ˆè®¾ç½®ä»£ç†é…åˆShadowsocksä¸‹è½½å›½å¤–æ–‡ä»¶","uri":"/idm-shadowsocks-download/"},{"categories":["Tips"],"content":"èµ·å›  è™½è¯´ç”¨äº†å¥½ä¹…çš„IDM,ä½†æ˜¯è¿˜æ˜¯é‡åˆ°äº†ä¸ä¼šçš„é—®é¢˜ï¼ŒIDMæ€ä¹ˆè®¾ç½®ä»£ç†é…åˆShadowsocksä¸‹è½½å›½å¤–æ–‡ä»¶ï¼Ÿä»Šå¤©è€å¸ˆè®©æˆ‘å¸®ä»–ä¸‹è½½å›½å¤–çš„æ–‡æ¡£ï¼ŒåŸå› æ˜¯ä»–è‡ªå·±ç”¨æµè§ˆå™¨ä¸‹è½½æ€»æ˜¯æ–­ï¼Œåˆä¸èƒ½æ–­çº¿ç»­ä¼ ï¼Œé‚£æˆ‘å°±æƒ³åˆ°äº†IDMã€‚ç„¶é¹…IDMä¸‹è½½å›½å†…çš„èµ„æºéƒ½æ˜¯å¾ˆç»™åŠ›çš„ï¼Œä¸‹è½½å›½å¤–çš„èµ„æºä¸€ç›´æ˜¯è¿æ¥ä¸æˆåŠŸã€‚å°±æ˜¯è¿™ä¸ªé€¼æ ·ã€‚ ","date":"2019-05-12","objectID":"/idm-shadowsocks-download/:0:1","tags":["Soft"],"title":"IDMæ€ä¹ˆè®¾ç½®ä»£ç†é…åˆShadowsocksä¸‹è½½å›½å¤–æ–‡ä»¶","uri":"/idm-shadowsocks-download/"},{"categories":["Tips"],"content":"ä»‹ç» Shadowsocksæ˜¯å±äºSOCKS5ä»£ç† ï¼Œé™¤éå…¶ä»–è½¯ä»¶æ”¯æŒ è®¾ç½®SOCKS5ä»£ç† ï¼Œæ¯”å¦‚ï¼šIDMä½ è®¾ç½®SOCKS5ä»£ç† 127.0.0.1 1080 ï¼ŒIDMå°±ä¼šèµ°Shadowsocksäº†ï¼Œè¿˜æœ‰æµè§ˆå™¨ä¹Ÿæ˜¯é»˜è®¤è¯»å–ç³»ç»Ÿä»£ç†è®¾ç½®çš„ã€‚ä¸è¿‡é¦–å…ˆæˆ‘ä»¬è®¾ç½®è¿æ¥æ–¹å¼ä¸ºPACï¼Œå…¨å±€ä¹Ÿæ˜¯å¯ä»¥ï¼Œä¸è¿‡æ­¤æ–¹æ³•ä¸åˆé€‚ï¼ŒPACä¹Ÿæœ‰å¥½å¤„ï¼Œå°±æ˜¯åœ¨å›½å†…ä¸‹è½½èµ„æºï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢ä¸‹è½½æºã€‚ æ³¨æ„ï¼š 1080ä¸æ˜¯å›ºå®šï¼Œåªæ˜¯ä½ æ‰€ä»£ç†çš„IPï¼Œæ‰€ä»¥è®°å¾—çµæ´»æ”¹å˜ ","date":"2019-05-12","objectID":"/idm-shadowsocks-download/:0:2","tags":["Soft"],"title":"IDMæ€ä¹ˆè®¾ç½®ä»£ç†é…åˆShadowsocksä¸‹è½½å›½å¤–æ–‡ä»¶","uri":"/idm-shadowsocks-download/"},{"categories":["Tips"],"content":"å…·ä½“è®¾ç½®æ–¹æ³•å¦‚ä¸‹ ","date":"2019-05-12","objectID":"/idm-shadowsocks-download/:0:3","tags":["Soft"],"title":"IDMæ€ä¹ˆè®¾ç½®ä»£ç†é…åˆShadowsocksä¸‹è½½å›½å¤–æ–‡ä»¶","uri":"/idm-shadowsocks-download/"},{"categories":["PHP"],"content":"è®°è½½PHPä¸‰ç§å†…ç½®å‡½æ•°ç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•","date":"2019-05-06","objectID":"/php-three-generate-random/","tags":["PHP"],"title":"PHPçš„ä¸‰ç§å†…ç½®å‡½æ•°ç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•","uri":"/php-three-generate-random/"},{"categories":["PHP"],"content":"1.randå‡½æ•° rand() å‡½æ•°å¯ä»¥ä¸åŠ ä»»ä½•å‚æ•°ï¼Œå°±å¯ä»¥ç”Ÿæˆéšæœºæ•´æ•°ã€‚å¦‚æœè¦è®¾ç½®éšæœºæ•°èŒƒå›´ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸­è®¾ç½® min å’Œ max çš„å€¼ã€‚ echo rand() / echo rand(1, 10) ","date":"2019-05-06","objectID":"/php-three-generate-random/:1:0","tags":["PHP"],"title":"PHPçš„ä¸‰ç§å†…ç½®å‡½æ•°ç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•","uri":"/php-three-generate-random/"},{"categories":["PHP"],"content":"2.mt_randå‡½æ•° mt_rand() å‡½æ•°æ˜¯ä½¿ç”¨ Mersenne Twisterç®—æ³•ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯å•¥ï¼‰è¿”å›éšæœºæ•´æ•°ï¼Œä¸rand() å‡½æ•°çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼š mt_rand() äº§ç”Ÿéšæœºæ•°å€¼çš„å¹³å‡é€Ÿåº¦æ¯”rand() å¿«4å€ã€‚ï¼ˆå°±æ˜¯å¿«äº†ï¼‰ echo mt_rand() / echo mt_rand(1, 10) ","date":"2019-05-06","objectID":"/php-three-generate-random/:2:0","tags":["PHP"],"title":"PHPçš„ä¸‰ç§å†…ç½®å‡½æ•°ç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•","uri":"/php-three-generate-random/"},{"categories":["PHP"],"content":"3.uniqidå‡½æ•° uniqid() å‡½æ•°åŸºäºä»¥å¾®ç§’è®¡çš„å½“å‰æ—¶é—´ï¼Œç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ IDã€‚é»˜è®¤ç”ŸæˆIDçš„é•¿åº¦ä¸º13ä½æˆ–è€…23ä½ï¼Œç”±è‹±æ–‡å­—æ¯å’Œæ•°å­—ç»„æˆã€‚uniqid() å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š uniqid(prefix,more_entropy) å‚æ•°ä¸€ï¼š prefix: ç”ŸæˆIDçš„å‰ç¼€ å‚æ•°äºŒï¼š more_entropy: æ˜¯å¦æ·»åŠ é¢å¤–çš„ç†µ echo uniqid(); // ç”Ÿæˆ13ä½å­—ç¬¦ä¸²ï¼Œå¦‚ï¼š55f540e273e93 echo uniqid('one.'); // ç”Ÿæˆå‰ç¼€ä¸ºone.åŠ 13ä½éšæœºå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¦‚ï¼šone.55f540e273e93 echo uniqid('two.', true); // ç”Ÿæˆå‰ç¼€ä¸ºtwo.åŠ 23ä½éšæœºå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼ˆåŠ äº†ç†µï¼‰ï¼Œå¦‚ï¼štwo.55f540e273e932.77804707ï¼Œæ¯”ä¸Šé¢çš„å¤šäº† 10 ä½ï¼Œå³å¤šäº†ï¼š2.77804707 ","date":"2019-05-06","objectID":"/php-three-generate-random/:3:0","tags":["PHP"],"title":"PHPçš„ä¸‰ç§å†…ç½®å‡½æ•°ç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•","uri":"/php-three-generate-random/"},{"categories":["MySQL"],"content":"åœ¨è¡¨açš„ ç¬¬b æ¡æ•°æ®è¦ update æ•°æ®çš„æ—¶å€™ï¼Œæ£€æŸ¥è¿™ä¸ªè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ä¸­æœ‰æ²¡æœ‰ä¸è¦æ›´æ–°çš„æ•°æ®é‡å¤ï¼Œå¦‚æœæœ‰å³ä¸æ›´æ–°ï¼Œæ²¡æœ‰å³æ›´æ–°ï¼Œèµ·åˆæ˜¯ç†è§£é”™äº†ç›®çš„ï¼Œä»¥ä¸ºæ˜¯å•ä¸€æ•°æ®ä¸èƒ½é‡å¤ï¼Œè®¾ç½®äº†å”¯ä¸€ç´¢å¼• unique åæ¥å’Œæˆ‘è¯´ä¸æ˜¯é‚£æ ·çš„æ•ˆæœï¼Œæ•…æ”¹ä¹‹~~~","date":"2019-05-05","objectID":"/the-same-table-check-repeat/","tags":["MySQL"],"title":"åŒä¸€ä¸ªè¡¨ä¸‹updateæ•°æ®å¹¶æ£€æµ‹æ˜¯å¦é‡å¤","uri":"/the-same-table-check-repeat/"},{"categories":["MySQL"],"content":"è¦å®ç°çš„æ•ˆæœ åœ¨è¡¨ a çš„ ç¬¬ b æ¡æ•°æ®è¦ update æ•°æ®çš„æ—¶å€™ï¼Œæ£€æŸ¥è¿™ä¸ªè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ä¸­æœ‰æ²¡æœ‰ä¸è¦æ›´æ–°çš„æ•°æ®é‡å¤ï¼Œå¦‚æœæœ‰å³ä¸æ›´æ–°ï¼Œæ²¡æœ‰å³æ›´æ–°ï¼Œèµ·åˆæ˜¯ç†è§£é”™äº†ç›®çš„ï¼Œä»¥ä¸ºæ˜¯å•ä¸€æ•°æ®ä¸èƒ½é‡å¤ï¼Œè®¾ç½®äº†å”¯ä¸€ç´¢å¼• unique åæ¥å’Œæˆ‘è¯´ä¸æ˜¯é‚£æ ·çš„æ•ˆæœï¼Œæ•…æ”¹ä¹‹~~~ æ¯”å¦‚ç›´æ¥å†™è¡¨åï¼Œå°±æ˜¯è¿™æ ·çš„é”™è¯¯ ","date":"2019-05-05","objectID":"/the-same-table-check-repeat/:0:1","tags":["MySQL"],"title":"åŒä¸€ä¸ªè¡¨ä¸‹updateæ•°æ®å¹¶æ£€æµ‹æ˜¯å¦é‡å¤","uri":"/the-same-table-check-repeat/"},{"categories":["MySQL"],"content":"ä»£ç å¦‚ä¸‹ UPDATEè¡¨åSETå­—æ®µå1='å­—æ®µvalue1',å­—æ®µå2='å­—æ®µvalue2',WHEREid='ç´¢å¼•'#è¿™é‡Œæ˜¯ä¸ºäº†è®¾ç½®ç´¢å¼•AND(SELECTCOUNT(*)FROMè¡¨åWHEREæ¡ä»¶)=0#ç­‰äº0æ˜¯ä¸ºäº†åæ¡ä»¶ ","date":"2019-05-05","objectID":"/the-same-table-check-repeat/:0:2","tags":["MySQL"],"title":"åŒä¸€ä¸ªè¡¨ä¸‹updateæ•°æ®å¹¶æ£€æµ‹æ˜¯å¦é‡å¤","uri":"/the-same-table-check-repeat/"},{"categories":["PHP"],"content":"åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šå‡ºç°è¡¨å•å‡ºé”™è€Œè¿”å›é¡µé¢çš„æ—¶å€™å¡«å†™çš„ä¿¡æ¯å…¨éƒ¨ä¸¢å¤±çš„æƒ…å†µã€‚æ­£å¥½ç¢°åˆ°å¸®åˆ«äººå†™è¡¨å•å¤šæ¬¡æäº¤ä¹‹åï¼Œè¿”å›æ—¶å€™æç¤ºç¡®è®¤é‡æ–°æäº¤è¡¨å•ï¼Œä¸€å¥ä»£ç è§£å†³","date":"2019-05-04","objectID":"/php-form-repeat-submit/","tags":["PHP"],"title":"PHPé˜²æ­¢è¡¨å•é‡å¤æäº¤ç­–ç•¥","uri":"/php-form-repeat-submit/"},{"categories":["PHP"],"content":"æè¿° åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šå‡ºç°è¡¨å•å‡ºé”™è€Œè¿”å›é¡µé¢çš„æ—¶å€™å¡«å†™çš„ä¿¡æ¯å…¨éƒ¨ä¸¢å¤±çš„æƒ…å†µã€‚æ­£å¥½ç¢°åˆ°å¸®åˆ«äººå†™è¡¨å•å¤šæ¬¡æäº¤ä¹‹åï¼Œè¿”å›æ—¶å€™æç¤ºç¡®è®¤é‡æ–°æäº¤è¡¨å•ï¼Œå¦‚å›¾ é—®é¢˜mark \" é—®é¢˜ ","date":"2019-05-04","objectID":"/php-form-repeat-submit/:1:0","tags":["PHP"],"title":"PHPé˜²æ­¢è¡¨å•é‡å¤æäº¤ç­–ç•¥","uri":"/php-form-repeat-submit/"},{"categories":["PHP"],"content":"æ–¹æ¡ˆ è§£å†³åŠæ³•ä¸€å¥ä»£ç ï¼Œä¸ºäº†æ”¯æŒé¡µé¢å›è·³ã€‚ header('Cache-control: private, must-revalidate'); ","date":"2019-05-04","objectID":"/php-form-repeat-submit/:2:0","tags":["PHP"],"title":"PHPé˜²æ­¢è¡¨å•é‡å¤æäº¤ç­–ç•¥","uri":"/php-form-repeat-submit/"},{"categories":["PHP"],"content":"åŸç† æäº¤ä¹‹åç«‹é©¬æ¸…é™¤ç¼“å­˜æ§åˆ¶ ","date":"2019-05-04","objectID":"/php-form-repeat-submit/:3:0","tags":["PHP"],"title":"PHPé˜²æ­¢è¡¨å•é‡å¤æäº¤ç­–ç•¥","uri":"/php-form-repeat-submit/"},{"categories":["PHP"],"content":"ç›¸å…³ç¼“å­˜æŒ‡ä»¤ æŒ‡ä»¤mark \" æŒ‡ä»¤ ","date":"2019-05-04","objectID":"/php-form-repeat-submit/:4:0","tags":["PHP"],"title":"PHPé˜²æ­¢è¡¨å•é‡å¤æäº¤ç­–ç•¥","uri":"/php-form-repeat-submit/"},{"categories":["PHP"],"content":"æ¬ç –åœ°å€ åŸæ–‡æœ‰8ç§é˜²æ­¢é‡å¤æäº¤è¡¨å•æœºåˆ¶ï¼Œæˆ‘é‡åˆ°ä¸€ç§ï¼Œæ•…ä»‹ç»ä¸€ç§ï¼Œäº†è§£å…¶ä»–è¯·æŸ¥çœ‹åŸæ–‡ https://www.cnblogs.com/myon/p/6636934.html ","date":"2019-05-04","objectID":"/php-form-repeat-submit/:5:0","tags":["PHP"],"title":"PHPé˜²æ­¢è¡¨å•é‡å¤æäº¤ç­–ç•¥","uri":"/php-form-repeat-submit/"},{"categories":["PHP"],"content":"ä½¿ç”¨TPæ¡†æ¶åšé¡¹ç›®æ—¶ï¼Œåœ¨å¯ç”¨REWRITEçš„ä¼ªé™æ€åŠŸèƒ½çš„æ—¶å€™ï¼Œé¦–é¡µå¯ä»¥è®¿é—®ï¼Œä½†æ˜¯è®¿é—®å…¶å®ƒé¡µé¢çš„æ—¶å€™ï¼Œå°±æç¤ºï¼šâ€œNo input file specified.â€","date":"2019-04-23","objectID":"/php-no-input-file-specified/","tags":["PHP","ThinkPHP"],"title":"è§£å†³PHP5.6ç‰ˆæœ¬â€œNo input file specifiedâ€","uri":"/php-no-input-file-specified/"},{"categories":["PHP"],"content":"æ¬ç – ä½¿ç”¨TPæ¡†æ¶åšé¡¹ç›®æ—¶ï¼Œåœ¨å¯ç”¨REWRITEçš„ä¼ªé™æ€åŠŸèƒ½çš„æ—¶å€™ï¼Œé¦–é¡µå¯ä»¥è®¿é—®ï¼Œä½†æ˜¯è®¿é—®å…¶å®ƒé¡µé¢çš„æ—¶å€™ï¼Œå°±æç¤ºï¼šâ€œNo input file specified.â€ ","date":"2019-04-23","objectID":"/php-no-input-file-specified/:0:1","tags":["PHP","ThinkPHP"],"title":"è§£å†³PHP5.6ç‰ˆæœ¬â€œNo input file specifiedâ€","uri":"/php-no-input-file-specified/"},{"categories":["PHP"],"content":"åŸå›  åŸå› åœ¨äºä½¿ç”¨çš„PHP5.6æ˜¯fast_cgiæ¨¡å¼ï¼Œè€Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸èƒ½æ­£ç¡®è¯†åˆ«path_infoæ‰€é€ æˆçš„é”™è¯¯ï¼Œâ€œNo input file specified.â€ï¼Œæ˜¯æ²¡æœ‰å¾—åˆ°æœ‰æ•ˆçš„æ–‡ä»¶è·¯å¾„é€ æˆçš„ã€‚ ","date":"2019-04-23","objectID":"/php-no-input-file-specified/:0:2","tags":["PHP","ThinkPHP"],"title":"è§£å†³PHP5.6ç‰ˆæœ¬â€œNo input file specifiedâ€","uri":"/php-no-input-file-specified/"},{"categories":["PHP"],"content":"è§£å†³åŠæ³•å¦‚ä¸‹ åœ¨ public/.htaccessä¸­ä¿®æ”¹åŠ ä¸€ä¸ª â€œï¼Ÿâ€å· ","date":"2019-04-23","objectID":"/php-no-input-file-specified/:0:3","tags":["PHP","ThinkPHP"],"title":"è§£å†³PHP5.6ç‰ˆæœ¬â€œNo input file specifiedâ€","uri":"/php-no-input-file-specified/"},{"categories":["PHP"],"content":"å­¦ä¹ ä¹‹ä½™åšçš„ç®€å•çŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œä½¿ç”¨MVCæ¶æ„ç¼–å†™ï¼Œå†™æ³•è¾ƒä¸ºç®€å•ï¼Œé€‚åˆå°ç™½é˜…è¯»ï¼Œå‰åç«¯é‡‡ç”¨å¼•å¯¼å¸ƒå±€ï¼Œå‰å°æ˜¯ä½¿ç”¨jQueryçš„è¿›è¡Œå‰å°éªŒè¯ï¼Œæ“ä½œè¡¨å•ç­‰æ“ä½œï¼Œä½¿ç”¨Ajaxçš„éªŒè¯åå°æ•°æ®ï¼Œé€‚åˆå­¦ä¹ ã€‚","date":"2019-04-05","objectID":"/my-php-first-project/","tags":["PHP"],"title":"å°ä½œå“-çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ","uri":"/my-php-first-project/"},{"categories":["PHP"],"content":" å­¦ä¹ ä¹‹ä½™åšçš„ç®€å•çŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œä½¿ç”¨MVCæ¶æ„ç¼–å†™ï¼Œå†™æ³•è¾ƒä¸ºç®€å•ï¼Œé€‚åˆå°ç™½é˜…è¯»ï¼Œå‰åç«¯é‡‡ç”¨å¼•å¯¼å¸ƒå±€ï¼Œå‰å°æ˜¯ä½¿ç”¨jQueryçš„è¿›è¡Œå‰å°éªŒè¯ï¼Œæ“ä½œè¡¨å•ç­‰æ“ä½œï¼Œä½¿ç”¨Ajaxçš„éªŒè¯åå°æ•°æ®ï¼Œé€‚åˆå­¦ä¹ ã€‚ ","date":"2019-04-05","objectID":"/my-php-first-project/:0:0","tags":["PHP"],"title":"å°ä½œå“-çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ","uri":"/my-php-first-project/"},{"categories":["PHP"],"content":"å›¾ç‰‡å±•ç¤º 1mark \" 1 2mark \" 2 3mark \" 3 4mark \" 4 5mark \" 5 ","date":"2019-04-05","objectID":"/my-php-first-project/:1:0","tags":["PHP"],"title":"å°ä½œå“-çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ","uri":"/my-php-first-project/"},{"categories":["PHP"],"content":"ä¸‹è½½åœ°å€ https://github.com/yqchilde/kms ","date":"2019-04-05","objectID":"/my-php-first-project/:2:0","tags":["PHP"],"title":"å°ä½œå“-çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ","uri":"/my-php-first-project/"},{"categories":["Tips"],"content":"Sublimeå¸¸ç”¨å¿«æ·é”®æ•´ç†","date":"2019-03-28","objectID":"/sublime-common-shortcuts/","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"Sublimeå¸¸ç”¨å¿«æ·é”® æ•´ç†äººï¼šyqchilde ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:0","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"é€‰æ‹©ç±» Ctrl+D é€‰ä¸­å…‰æ ‡æ‰€å çš„æ–‡æœ¬ï¼Œç»§ç»­æ“ä½œåˆ™ä¼šé€‰ä¸­ä¸‹ä¸€ä¸ªç›¸åŒçš„æ–‡æœ¬ã€‚ Alt+F3Â é€‰ä¸­æ–‡æœ¬æŒ‰ä¸‹å¿«æ·é”®ï¼Œå³å¯ä¸€æ¬¡æ€§é€‰æ‹©å…¨éƒ¨çš„ç›¸åŒæ–‡æœ¬è¿›è¡ŒåŒæ—¶ç¼–è¾‘ã€‚ä¸¾ä¸ªæ —å­ï¼šå¿«é€Ÿé€‰ä¸­å¹¶æ›´æ”¹æ‰€æœ‰ç›¸åŒçš„å˜é‡åã€å‡½æ•°åç­‰ã€‚ Ctrl+LÂ é€‰ä¸­æ•´è¡Œï¼Œç»§ç»­æ“ä½œåˆ™ç»§ç»­é€‰æ‹©ä¸‹ä¸€è¡Œï¼Œæ•ˆæœå’Œ Shift+â†“ æ•ˆæœä¸€æ ·ã€‚ Ctrl+Shift+LÂ å…ˆé€‰ä¸­å¤šè¡Œï¼Œå†æŒ‰ä¸‹å¿«æ·é”®ï¼Œä¼šåœ¨æ¯è¡Œè¡Œå°¾æ’å…¥å…‰æ ‡ï¼Œå³å¯åŒæ—¶ç¼–è¾‘è¿™äº›è¡Œã€‚ Ctrl+Shift+MÂ é€‰æ‹©æ‹¬å·å†…çš„å†…å®¹ï¼ˆç»§ç»­é€‰æ‹©çˆ¶æ‹¬å·ï¼‰ã€‚ä¸¾ä¸ªæ —å­ï¼šå¿«é€Ÿé€‰ä¸­åˆ é™¤å‡½æ•°ä¸­çš„ä»£ç ï¼Œé‡å†™å‡½æ•°ä½“ä»£ç æˆ–é‡å†™æ‹¬å·å†…é‡Œçš„å†…å®¹ã€‚ Ctrl+MÂ å…‰æ ‡ç§»åŠ¨è‡³æ‹¬å·å†…ç»“æŸæˆ–å¼€å§‹çš„ä½ç½®ã€‚ Ctrl+EnterÂ åœ¨ä¸‹ä¸€è¡Œæ’å…¥æ–°è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå³ä½¿å…‰æ ‡ä¸åœ¨è¡Œå°¾ï¼Œä¹Ÿèƒ½å¿«é€Ÿå‘ä¸‹æ’å…¥ä¸€è¡Œã€‚ Ctrl+Shift+EnterÂ åœ¨ä¸Šä¸€è¡Œæ’å…¥æ–°è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå³ä½¿å…‰æ ‡ä¸åœ¨è¡Œé¦–ï¼Œä¹Ÿèƒ½å¿«é€Ÿå‘ä¸Šæ’å…¥ä¸€è¡Œã€‚ Ctrl+Shift+[Â é€‰ä¸­ä»£ç ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼ŒæŠ˜å ä»£ç ã€‚ Ctrl+Shift+]Â é€‰ä¸­ä»£ç ï¼ŒæŒ‰ä¸‹å¿«æ·é”®ï¼Œå±•å¼€ä»£ç ã€‚ Ctrl+K+0Â å±•å¼€æ‰€æœ‰æŠ˜å ä»£ç ã€‚ Ctrl+â† å‘å·¦å•ä½æ€§åœ°ç§»åŠ¨å…‰æ ‡ï¼Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ã€‚ Ctrl+â†’Â å‘å³å•ä½æ€§åœ°ç§»åŠ¨å…‰æ ‡ï¼Œå¿«é€Ÿç§»åŠ¨å…‰æ ‡ã€‚ shift+â†‘Â å‘ä¸Šé€‰ä¸­å¤šè¡Œã€‚ shift+â†“Â å‘ä¸‹é€‰ä¸­å¤šè¡Œã€‚ Shift+â†Â å‘å·¦é€‰ä¸­æ–‡æœ¬ã€‚ Shift+â†’Â å‘å³é€‰ä¸­æ–‡æœ¬ã€‚ Ctrl+Shift+â†Â å‘å·¦å•ä½æ€§åœ°é€‰ä¸­æ–‡æœ¬ã€‚ Ctrl+Shift+â†’Â å‘å³å•ä½æ€§åœ°é€‰ä¸­æ–‡æœ¬ã€‚ Ctrl+Shift+â†‘Â å°†å…‰æ ‡æ‰€åœ¨è¡Œå’Œä¸Šä¸€è¡Œä»£ç äº’æ¢ï¼ˆå°†å…‰æ ‡æ‰€åœ¨è¡Œæ’å…¥åˆ°ä¸Šä¸€è¡Œä¹‹å‰ï¼‰ã€‚ Ctrl+Shift+â†“Â å°†å…‰æ ‡æ‰€åœ¨è¡Œå’Œä¸‹ä¸€è¡Œä»£ç äº’æ¢ï¼ˆå°†å…‰æ ‡æ‰€åœ¨è¡Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œä¹‹åï¼‰ã€‚ Ctrl+Alt+â†‘Â å‘ä¸Šæ·»åŠ å¤šè¡Œå…‰æ ‡ï¼Œå¯åŒæ—¶ç¼–è¾‘å¤šè¡Œã€‚ Ctrl+Alt+â†“Â å‘ä¸‹æ·»åŠ å¤šè¡Œå…‰æ ‡ï¼Œå¯åŒæ—¶ç¼–è¾‘å¤šè¡Œã€‚ ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:1","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"ç¼–è¾‘ç±» Ctrl+JÂ åˆå¹¶é€‰ä¸­çš„å¤šè¡Œä»£ç ä¸ºä¸€è¡Œã€‚ä¸¾ä¸ªæ —å­ï¼šå°†å¤šè¡Œæ ¼å¼çš„CSSå±æ€§åˆå¹¶ä¸ºä¸€è¡Œã€‚ Ctrl+Shift+DÂ å¤åˆ¶å…‰æ ‡æ‰€åœ¨æ•´è¡Œï¼Œæ’å…¥åˆ°ä¸‹ä¸€è¡Œã€‚ TabÂ å‘å³ç¼©è¿›ã€‚ Shift+TabÂ å‘å·¦ç¼©è¿›ã€‚ Ctrl+K+KÂ ä»å…‰æ ‡å¤„å¼€å§‹åˆ é™¤ä»£ç è‡³è¡Œå°¾ã€‚ Ctrl+Shift+KÂ åˆ é™¤æ•´è¡Œã€‚ Ctrl+/Â æ³¨é‡Šå•è¡Œã€‚ Ctrl+Shift+/Â æ³¨é‡Šå¤šè¡Œã€‚ Ctrl+K+UÂ è½¬æ¢å¤§å†™ã€‚ Ctrl+K+LÂ è½¬æ¢å°å†™ã€‚ Ctrl+ZÂ æ’¤é”€ã€‚ Ctrl+YÂ æ¢å¤æ’¤é”€ã€‚ Ctrl+UÂ è½¯æ’¤é”€ï¼Œæ„Ÿè§‰å’Œ Gtrl+Z ä¸€æ ·ã€‚ Ctrl+F2Â è®¾ç½®ä¹¦ç­¾ Ctrl+TÂ å·¦å³å­—æ¯äº’æ¢ã€‚ F6Â å•è¯æ£€æµ‹æ‹¼å†™ ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:2","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"æœç´¢ç±» Ctrl+FÂ æ‰“å¼€åº•éƒ¨æœç´¢æ¡†ï¼ŒæŸ¥æ‰¾å…³é”®å­—ã€‚ Ctrl+shift+FÂ åœ¨æ–‡ä»¶å¤¹å†…æŸ¥æ‰¾ï¼Œä¸æ™®é€šç¼–è¾‘å™¨ä¸åŒçš„åœ°æ–¹æ˜¯sublimeå…è®¸æ·»åŠ å¤šä¸ªæ–‡ä»¶å¤¹è¿›è¡ŒæŸ¥æ‰¾ï¼Œç•¥é«˜ç«¯ï¼Œæœªç ”ç©¶ã€‚ Ctrl+PÂ æ‰“å¼€æœç´¢æ¡†ã€‚ä¸¾ä¸ªæ —å­ï¼š1ã€è¾“å…¥å½“å‰é¡¹ç›®ä¸­çš„æ–‡ä»¶åï¼Œå¿«é€Ÿæœç´¢æ–‡ä»¶ï¼Œ2ã€è¾“å…¥@å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­å‡½æ•°åï¼Œ3ã€è¾“å…¥ï¼šå’Œæ•°å­—ï¼Œè·³è½¬åˆ°æ–‡ä»¶ä¸­è¯¥è¡Œä»£ç ï¼Œ4ã€è¾“å…¥#å’Œå…³é”®å­—ï¼ŒæŸ¥æ‰¾å˜é‡åã€‚ Ctrl+GÂ æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦ï¼šï¼Œè¾“å…¥æ•°å­—è·³è½¬åˆ°è¯¥è¡Œä»£ç ã€‚ä¸¾ä¸ªæ —å­ï¼šåœ¨é¡µé¢ä»£ç æ¯”è¾ƒé•¿çš„æ–‡ä»¶ä¸­å¿«é€Ÿå®šä½ã€‚ Ctrl+RÂ æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦@ï¼Œè¾“å…¥å…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å‡½æ•°åã€‚ä¸¾ä¸ªæ —å­ï¼šåœ¨å‡½æ•°è¾ƒå¤šçš„é¡µé¢å¿«é€ŸæŸ¥æ‰¾æŸä¸ªå‡½æ•°ã€‚ Ctrl+ï¼šÂ æ‰“å¼€æœç´¢æ¡†ï¼Œè‡ªåŠ¨å¸¦#ï¼Œè¾“å…¥å…³é”®å­—ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ä¸­çš„å˜é‡åã€å±æ€§åç­‰ã€‚ Ctrl+Shift+PÂ æ‰“å¼€å‘½ä»¤æ¡†ã€‚åœºæ™¯æ —å­ï¼šæ‰“å¼€å‘½åæ¡†ï¼Œè¾“å…¥å…³é”®å­—ï¼Œè°ƒç”¨sublime textæˆ–æ’ä»¶çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨packageå®‰è£…æ’ä»¶ã€‚ EscÂ é€€å‡ºå…‰æ ‡å¤šè¡Œé€‰æ‹©ï¼Œé€€å‡ºæœç´¢æ¡†ï¼Œå‘½ä»¤æ¡†ç­‰ã€‚ ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:3","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"æ˜¾ç¤ºç±» Ctrl+TabÂ æŒ‰æ–‡ä»¶æµè§ˆè¿‡çš„é¡ºåºï¼Œåˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Ctrl+PageDownÂ å‘å·¦åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Ctrl+PageUpÂ å‘å³åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚ Alt+Shift+1Â çª—å£åˆ†å±ï¼Œæ¢å¤é»˜è®¤1å±ï¼ˆéå°é”®ç›˜çš„æ•°å­—ï¼‰ Alt+Shift+2Â å·¦å³åˆ†å±-2åˆ— Alt+Shift+3Â å·¦å³åˆ†å±-3åˆ— Alt+Shift+4Â å·¦å³åˆ†å±-4åˆ— Alt+Shift+5Â ç­‰åˆ†4å± Alt+Shift+8Â å‚ç›´åˆ†å±-2å± Alt+Shift+9Â å‚ç›´åˆ†å±-3å± Ctrl+K+BÂ å¼€å¯/å…³é—­ä¾§è¾¹æ ã€‚ F11Â å…¨å±æ¨¡å¼ Shift+F11Â å…æ‰“æ‰°æ¨¡å¼ Emmetæ’ä»¶å¿«æ·é”® ç¼©å†™:! ç¼©å†™:html:5 \u003c!doctype html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003c/head\u003e \u003cbody\u003e \u003c/body\u003e \u003c/html\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:4","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"#(id) .(class) [href=#] ç¼©å†™ï¼šp#info ç¼©å†™ï¼šp.info ç¼©å†™ï¼ša[href=â€™#â€™] \u003cp id=\"info\"\u003e\u003c/p\u003e \u003cp class=\"info\"\u003e\u003c/p\u003e \u003ca href=\"#\"\u003e\u003c/a\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:5","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"åä»£ \u003e ç¼©å†™ï¼šdiv#warp\u003eul\u003eli*5 \u003cdiv id=\"warp\"\u003e \u003cul\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003c/ul\u003e \u003c/div\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:6","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"å…„å¼Ÿï¼š+ ç¼©å†™ï¼šdiv#warp\u003ep.one+span.two \u003cdiv id=\"warp\"\u003e \u003cp class=\"one\"\u003e\u003c/p\u003e \u003cspan class=\"two\"\u003e\u003c/span\u003e \u003c/div\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:7","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"^ å¯ä»¥ä½¿è¯¥ç¬¦å·å‰çš„æ ‡ç­¾æå‡ä¸€è¡Œï¼ˆæ¢è¡Œç¬¦ï¼‰ ç¼©å†™Â p.class\u003espan^div.info ç¼©å†™Â ul\u003eli*5^ol\u003eli*6 \u003cp class=\"class\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/p\u003e \u003cdiv class=\"info\"\u003e\u003c/div\u003e \u003cul\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003c/ul\u003e \u003col\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003c/ol\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:8","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"åˆ†ç»„ é€šè¿‡åµŒå¥—å’Œæ‹¬å·å¿«é€Ÿç”Ÿæˆä¸€äº›ä»£ç å— ç¼©å†™ï¼š(div.foo\u003eh1\u003ep)+(div.bar\u003e[h3]\u003ep) \u003cdiv class=\"foo\"\u003e \u003ch1\u003e \u003cp\u003e\u003c/p\u003e \u003c/h1\u003e \u003c/div\u003e \u003cdiv class=\"bar\"\u003e \u003ch3\u003e \u003cp\u003e\u003c/p\u003e \u003c/h3\u003e \u003c/div\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:9","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"éšè—æ ‡ç­¾çš„å¿«æ·é”® .itrm è¡¨ç¤º div.item ä½†æ˜¯åœ¨ä¸åŒçš„æ ‡ç­¾ä¸‹é¢ä»£è¡¨çš„æƒ…å†µä¸ä¸€æ · li : åœ¨ulæˆ–è€…olä¸­ tr : table td : ç”¨äºträ¸­ option : ç”¨äºselect ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:10","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"å®šä¹‰å¤šä¸ªå…ƒç´  ç¼©å†™ï¼šul\u003eli*3 \u003cul\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003cli\u003e\u003c/li\u003e \u003c/ul\u003e ç¼©å†™ï¼šul\u003eli.item$*3 \u003cul\u003e \u003cli class=\"item1\"\u003e\u003c/li\u003e \u003cli class=\"item2\"\u003e\u003c/li\u003e \u003cli class=\"item3\"\u003e\u003c/li\u003e \u003c/ul\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:11","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"css ç¼©å†™ w100 =\u003e width:100px; m100 =\u003emargin: 100px; h100 =\u003e height :100px; é»˜è®¤æ˜¯ px å…¶ä»–çš„å•ä½éœ€è¦è¡¨ç¤º p è¡¨ç¤º% e è¡¨ç¤º em x è¡¨ç¤º ex ç¼©å†™ï¼š @fÂ ç¼©å†™ï¼š @f @font-face { font-family:; src:url(); } @font-face { font-family: 'FontName'; src: url('FileName.eot'); src: url('FileName.eot?#iefix') format('embedded-opentype'), url('FileName.woff') format('woff'), url('FileName.ttf') format('truetype'), url('FileName.svg#FontName') format('svg'); font-style: normal; font-weight: normal; } ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:12","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"æ¨¡ç³ŠåŒ¹é… ç¼©å†™ï¼š fz =\u003e font-size:;Â  ç¼©å†™ï¼š fs =\u003e font-style: italic; ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:13","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"ä¾›åº”å•†æ¨¡å¼ w è¡¨ç¤º -webkit- m è¡¨ç¤º -moz- s è¡¨ç¤º -ms- o è¡¨ç¤º -o- ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:14","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"æ¸å˜ ç¼©å†™ï¼š[lg](left,#fff 50%, #000) background-image: -webkit-gradient(linear, 0 0, 100% 0, color-stop(0.5, #fff), to(#000)); background-image: -webkit-linear-gradient(left, #fff 50%, #000); background-image: -moz-linear-gradient(left, #fff 50%, #000); background-image: -o-linear-gradient(left, #fff 50%, #000); background-image: linear-gradient(left, #fff 50%, #000); ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:15","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"},{"categories":["Tips"],"content":"å¡«å……å†…å®¹ //ç¼©å†™ï¼šh$[title=item$]{Header $}*3 \u003ch1 title=\"item1\"\u003eHeader 1\u003c/h1\u003e \u003ch2 title=\"item2\"\u003eHeader 2\u003c/h2\u003e \u003ch3 title=\"item3\"\u003eHeader 3\u003c/h3\u003e //ç¼©å†™ï¼šul\u003eli.item$$${item $}*5 \u003cul\u003e \u003cli class=\"item001\"\u003eitem 1\u003c/li\u003e \u003cli class=\"item002\"\u003eitem 2\u003c/li\u003e \u003cli class=\"item003\"\u003eitem 3\u003c/li\u003e \u003cli class=\"item004\"\u003eitem 4\u003c/li\u003e \u003cli class=\"item005\"\u003eitem 5\u003c/li\u003e \u003c/ul\u003e ç¼©å†™ï¼šul\u003eli.item$@-*5 //$@- å€’æ•° \u003cul\u003e \u003cli class=\"item5\"\u003e\u003c/li\u003e \u003cli class=\"item4\"\u003e\u003c/li\u003e \u003cli class=\"item3\"\u003e\u003c/li\u003e \u003cli class=\"item2\"\u003e\u003c/li\u003e \u003cli class=\"item1\"\u003e\u003c/li\u003e \u003c/ul\u003e ç¼©å†™ï¼šul\u003eli.item$@3*5 //$@3 ä»ä¸‰å¼€å§‹ \u003cul\u003e \u003cli class=\"item3\"\u003e\u003c/li\u003e \u003cli class=\"item4\"\u003e\u003c/li\u003e \u003cli class=\"item5\"\u003e\u003c/li\u003e \u003cli class=\"item6\"\u003e\u003c/li\u003e \u003cli class=\"item7\"\u003e\u003c/li\u003e \u003c/ul\u003e ç¼©å†™ï¼šul\u003eli.item$@-3*5 //$@-3 å€’æ•°åˆ°ä¸‰ \u003cul\u003e \u003cli class=\"item7\"\u003e\u003c/li\u003e \u003cli class=\"item6\"\u003e\u003c/li\u003e \u003cli class=\"item5\"\u003e\u003c/li\u003e \u003cli class=\"item4\"\u003e\u003c/li\u003e \u003cli class=\"item3\"\u003e\u003c/li\u003e \u003c/ul\u003e ","date":"2019-03-28","objectID":"/sublime-common-shortcuts/:0:16","tags":["Soft"],"title":"SublimeåŠEmmetæ’ä»¶å¿«æ·é”®","uri":"/sublime-common-shortcuts/"}]